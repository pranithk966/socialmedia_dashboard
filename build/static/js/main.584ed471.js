/*! For license information please see main.584ed471.js.LICENSE.txt */
!function(){var e={142:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.isForwardRef=function(e){return w(e)===h}},33:function(e,t,n){"use strict";e.exports=n(142)},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(618);n(7);var i=n(791);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){o(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return s(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var a=this.handlers[i];-1===t.indexOf(a)&&n.push(a)}return new e(n)}}]),e}();function v(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function m(e){return Array.isArray(e)?e:[e]}function y(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===a(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var g=function(){function e(t,n){o(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return s(e,[{key:"addHandlers",value:function(t,n){var r=v(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=v(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();c(g,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new g(e,r)}));var k=function(){function e(t){var n=this;o(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return s(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,g.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),b=function(){function e(){var t=this;o(this,e),c(this,"targets",new Map),c(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=y(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new k(r);return t.targets.set(r,i),i})),c(this,"removeTarget",(function(e){t.targets.delete(y(e))}))}return s(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o;this.getTarget(a).addHandlers(u,e,m(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o,s=this.getTarget(a,!1);s&&(s.removeHandlers(u,e,m(t)),s.hasHandlers()||this.removeTarget(a))}}}]),e}(),w=new b,_=function(e){function t(){return o(this,t),d(this,f(t).apply(this,arguments))}return l(t,i.PureComponent),s(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();c(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=w,t.default=_},775:function(e,t,n){"use strict";var r;r=n(630),e.exports=r.default,e.exports.instance=r.instance},880:function(e){e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){var t,n="algoliasearch-client-js-".concat(e.key),r=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(r().getItem(n)||"{}")},o=function(e){r().setItem(n,JSON.stringify(e))},u=function(){var t=e.timeToLive?1e3*e.timeToLive:null,n=a(),r=Object.fromEntries(Object.entries(n).filter((function(e){return void 0!==i(e,2)[1].timestamp})));if(o(r),t){var u=Object.fromEntries(Object.entries(r).filter((function(e){var n=i(e,2)[1],r=(new Date).getTime();return!(n.timestamp+t<r)})));o(u)}};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){u();var t=JSON.stringify(e);return a()[t]})).then((function(e){return Promise.all([e?e.value:t(),void 0!==e])})).then((function(e){var t=i(e,2),r=t[0],a=t[1];return Promise.all([r,a||n.miss(r)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=a();return i[JSON.stringify(e)]={timestamp:(new Date).getTime(),value:t},r().setItem(n,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function u(e){var t=a(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,n.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch((function(){return u({caches:t}).get(e,r,i)}))},set:function(e,r){return n.set(e,r).catch((function(){return u({caches:t}).set(e,r)}))},delete:function(e){return n.delete(e).catch((function(){return u({caches:t}).delete(e)}))},clear:function(){return n.clear().catch((function(){return u({caches:t}).clear()}))}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(n);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var o=r(),u=i&&i.miss||function(){return Promise.resolve()};return o.then((function(e){return u(e)})).then((function(){return o}))},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===v.WithinHeaders?r:{}},queryParameters:function(){return e===v.WithinQueryParameters?r:{}}}}function l(e){var t=0;return e((function n(){return t++,new Promise((function(r){setTimeout((function(){r(e(n))}),Math.min(100*t,1e3))}))}))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(n){return f(e.then((function(e){return Promise.all([t(e,n),e])})).then((function(e){return e[1]})))}})}function h(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function d(e,t){return t?(Object.keys(t).forEach((function(n){e[n]=t[n](e)})),e):e}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var v={WithinQueryParameters:0,WithinHeaders:1};function m(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var y={Read:1,Write:2,Any:3},g=1,k=2,b=3;function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function _(e){return"string"==typeof e?{protocol:"https",url:e,accept:y.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||y.Any}}var x="DELETE",E="GET",I="POST",S="PUT";function T(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(w(t))}))}))).then((function(e){var n=e.filter((function(e){return function(e){return e.status===g||Date.now()-e.lastUpdate>12e4}(e)})),r=e.filter((function(e){return function(e){return e.status===b&&Date.now()-e.lastUpdate<=12e4}(e)})),i=[].concat(a(n),a(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return _(e)})):t}}))}function C(e,t,r,i){var o=[],u=function(e,t){if(e.method!==E&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,i),s=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach((function(e){var t=r[e];i[e.toLowerCase()]=t})),i}(e,i),c=r.method,l=r.method!==E?{}:n(n({},r.data),i.data),f=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),l),i.queryParameters),h=0,d=function t(n,a){var l=n.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:O(o)};var d={data:u,headers:s,method:c,url:P(l,r.path,f),connectTimeout:a(h,e.timeouts.connect),responseTimeout:a(h,i.timeout)},p=function(e){var t={request:d,response:e,host:l,triesLeft:n.length};return o.push(t),t},v={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var i=p(r);return r.isTimedOut&&h++,Promise.all([e.logger.info("Retryable failure",D(i)),e.hostsCache.set(l,w(l,r.isTimedOut?b:k))]).then((function(){return t(n,a)}))},onFail:function(e){throw p(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,O(o))}};return e.requester.send(d).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,n=e.status;return!t&&0==~~n}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,v)}))};return T(e.hostsCache,t).then((function(e){return d(a(e.statelessHosts).reverse(),e.getTimeout)}))}function N(e){var t=e.hostsCache,n=e.logger,r=e.requester,a=e.requestsCache,o=e.responsesCache,u=e.timeouts,s=e.userAgent,c=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:n,requester:r,requestsCache:a,responsesCache:o,timeouts:u,userAgent:s,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return _(e)})),read:function(e,t){var n=m(t,f.timeouts.read),r=function(){return C(f,f.hosts.filter((function(e){return 0!=(e.accept&y.Read)})),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return r();var a={request:e,mappedRequestOptions:n,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(a,(function(){return f.requestsCache.get(a,(function(){return f.requestsCache.set(a,r()).then((function(e){return Promise.all([f.requestsCache.delete(a),e])}),(function(e){return Promise.all([f.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return f.responsesCache.set(a,e)}})},write:function(e,t){return C(f,f.hosts.filter((function(e){return 0!=(e.accept&y.Write)})),e,m(t,f.timeouts.write))}};return f}function A(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function P(e,t,n){var r=R(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function R(e){return Object.keys(e).map((function(t){return p("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function O(e){return e.map((function(e){return D(e)}))}function D(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var L=function(e){return function(t,n){return e.transporter.write({method:I,path:"2/abtests",data:t},n)}},M=function(e){return function(t,n){return e.transporter.write({method:x,path:p("2/abtests/%s",t)},n)}},F=function(e){return function(t,n){return e.transporter.read({method:E,path:p("2/abtests/%s",t)},n)}},U=function(e){return function(t){return e.transporter.read({method:E,path:"2/abtests"},t)}},j=function(e){return function(t,n){return e.transporter.write({method:I,path:p("2/abtests/%s/stop",t)},n)}},V=function(e){return function(t){return e.transporter.read({method:E,path:"1/strategies/personalization"},t)}},z=function(e){return function(t,n){return e.transporter.write({method:I,path:"1/strategies/personalization",data:t},n)}};function B(e){return function t(n){return e.request(n).then((function(r){if(void 0!==e.batch&&e.batch(r.hits),!e.shouldStop(r))return r.cursor?t({cursor:r.cursor}):t({page:(n.page||0)+1})}))}({})}var q=function(e){return function(t,i){var a=i||{},o=a.queryParameters,u=r(a,["queryParameters"]),s=n({acl:t},void 0!==o?{queryParameters:o}:{});return f(e.transporter.write({method:I,path:"1/keys",data:s},u),(function(t,n){return l((function(r){return ee(e)(t.key,n).catch((function(e){if(404!==e.status)throw e;return r()}))}))}))}},G=function(e){return function(t,n,r){var i=m(r);return i.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:I,path:"1/clusters/mapping",data:{cluster:n}},i)}},K=function(e){return function(t,n,r){return e.transporter.write({method:I,path:"1/clusters/mapping/batch",data:{users:t,cluster:n}},r)}},H=function(e){return function(t,n){return f(e.transporter.write({method:I,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},n),(function(t,n){return Ie(e)(t.taskID,n)}))}},W=function(e){return function(t,n,r){return f(e.transporter.write({method:I,path:p("1/indexes/%s/operation",t),data:{operation:"copy",destination:n}},r),(function(n,r){return ue(e)(t,{methods:{waitTask:ft}}).waitTask(n.taskID,r)}))}},Q=function(e){return function(t,r,i){return W(e)(t,r,n(n({},i),{},{scope:[dt.Rules]}))}},Y=function(e){return function(t,r,i){return W(e)(t,r,n(n({},i),{},{scope:[dt.Settings]}))}},$=function(e){return function(t,r,i){return W(e)(t,r,n(n({},i),{},{scope:[dt.Synonyms]}))}},X=function(e){return function(t,n){return t.method===E?e.transporter.read(t,n):e.transporter.write(t,n)}},J=function(e){return function(t,n){return f(e.transporter.write({method:x,path:p("1/keys/%s",t)},n),(function(n,r){return l((function(n){return ee(e)(t,r).then(n).catch((function(e){if(404!==e.status)throw e}))}))}))}},Z=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"deleteEntry",body:{objectID:e}}}));return f(e.transporter.write({method:I,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),(function(t,n){return Ie(e)(t.taskID,n)}))}},ee=function(e){return function(t,n){return e.transporter.read({method:E,path:p("1/keys/%s",t)},n)}},te=function(e){return function(t,n){return e.transporter.read({method:E,path:p("1/task/%s",t.toString())},n)}},ne=function(e){return function(t){return e.transporter.read({method:E,path:"/1/dictionaries/*/settings"},t)}},re=function(e){return function(t){return e.transporter.read({method:E,path:"1/logs"},t)}},ie=function(e){return function(t){return e.transporter.read({method:E,path:"1/clusters/mapping/top"},t)}},ae=function(e){return function(t,n){return e.transporter.read({method:E,path:p("1/clusters/mapping/%s",t)},n)}},oe=function(e){return function(t){var n=t||{},i=n.retrieveMappings,a=r(n,["retrieveMappings"]);return!0===i&&(a.getClusters=!0),e.transporter.read({method:E,path:"1/clusters/mapping/pending"},a)}},ue=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d({transporter:e.transporter,appId:e.appId,indexName:t},n.methods)}},se=function(e){return function(t){return e.transporter.read({method:E,path:"1/keys"},t)}},ce=function(e){return function(t){return e.transporter.read({method:E,path:"1/clusters"},t)}},le=function(e){return function(t){return e.transporter.read({method:E,path:"1/indexes"},t)}},fe=function(e){return function(t){return e.transporter.read({method:E,path:"1/clusters/mapping"},t)}},he=function(e){return function(t,n,r){return f(e.transporter.write({method:I,path:p("1/indexes/%s/operation",t),data:{operation:"move",destination:n}},r),(function(n,r){return ue(e)(t,{methods:{waitTask:ft}}).waitTask(n.taskID,r)}))}},de=function(e){return function(t,n){return f(e.transporter.write({method:I,path:"1/indexes/*/batch",data:{requests:t}},n),(function(t,n){return Promise.all(Object.keys(t.taskID).map((function(r){return ue(e)(r,{methods:{waitTask:ft}}).waitTask(t.taskID[r],n)})))}))}},pe=function(e){return function(t,n){return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:t}},n)}},ve=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{params:R(e.params||{})})}));return e.transporter.read({method:I,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},me=function(e){return function(t,i){return Promise.all(t.map((function(t){var a=t.params,o=a.facetName,u=a.facetQuery,s=r(a,["facetName","facetQuery"]);return ue(e)(t.indexName,{methods:{searchForFacetValues:ut}}).searchForFacetValues(o,u,n(n({},i),s))})))}},ye=function(e){return function(t,n){var r=m(n);return r.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:x,path:"1/clusters/mapping"},r)}},ge=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"addEntry",body:e}}));return f(e.transporter.write({method:I,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:i}},r),(function(t,n){return Ie(e)(t.taskID,n)}))}},ke=function(e){return function(t,n){return f(e.transporter.write({method:I,path:p("1/keys/%s/restore",t)},n),(function(n,r){return l((function(n){return ee(e)(t,r).catch((function(e){if(404!==e.status)throw e;return n()}))}))}))}},be=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"addEntry",body:e}}));return f(e.transporter.write({method:I,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),(function(t,n){return Ie(e)(t.taskID,n)}))}},we=function(e){return function(t,n,r){return e.transporter.read({method:I,path:p("/1/dictionaries/%s/search",t),data:{query:n},cacheable:!0},r)}},_e=function(e){return function(t,n){return e.transporter.read({method:I,path:"1/clusters/mapping/search",data:{query:t}},n)}},xe=function(e){return function(t,n){return f(e.transporter.write({method:S,path:"/1/dictionaries/*/settings",data:t},n),(function(t,n){return Ie(e)(t.taskID,n)}))}},Ee=function(e){return function(t,n){var i=Object.assign({},n),a=n||{},o=a.queryParameters,u=r(a,["queryParameters"]),s=o?{queryParameters:o}:{},c=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return f(e.transporter.write({method:S,path:p("1/keys/%s",t),data:s},u),(function(n,r){return l((function(n){return ee(e)(t,r).then((function(e){return function(e){return Object.keys(i).filter((function(e){return-1!==c.indexOf(e)})).every((function(t){if(Array.isArray(e[t])&&Array.isArray(i[t])){var n=e[t];return n.length===i[t].length&&n.every((function(e,n){return e===i[t][n]}))}return e[t]===i[t]}))}(e)?Promise.resolve():n()}))}))}))}},Ie=function(e){return function(t,n){return l((function(r){return te(e)(t,n).then((function(e){return"published"!==e.status?r():void 0}))}))}},Se=function(e){return function(t,n){return f(e.transporter.write({method:I,path:p("1/indexes/%s/batch",e.indexName),data:{requests:t}},n),(function(t,n){return ft(e)(t.taskID,n)}))}},Te=function(e){return function(t){return B(n(n({shouldStop:function(e){return void 0===e.cursor}},t),{},{request:function(n){return e.transporter.read({method:I,path:p("1/indexes/%s/browse",e.indexName),data:n},t)}}))}},Ce=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return B(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return st(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Ne=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return B(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return ct(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Ae=function(e){return function(t,n,i){var a=i||{},o=a.batchSize,u=r(a,["batchSize"]),s={taskIDs:[],objectIDs:[]};return f(function r(){var i,a=[];for(i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i<t.length&&(a.push(t[i]),a.length!==(o||1e3));i++);return 0===a.length?Promise.resolve(s):Se(e)(a.map((function(e){return{action:n,body:e}})),u).then((function(e){return s.objectIDs=s.objectIDs.concat(e.objectIDs),s.taskIDs.push(e.taskID),i++,r(i)}))}(),(function(t,n){return Promise.all(t.taskIDs.map((function(t){return ft(e)(t,n)})))}))}},Pe=function(e){return function(t){return f(e.transporter.write({method:I,path:p("1/indexes/%s/clear",e.indexName)},t),(function(t,n){return ft(e)(t.taskID,n)}))}},Re=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,a=m(r(n,["forwardToReplicas"]));return i&&(a.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:I,path:p("1/indexes/%s/rules/clear",e.indexName)},a),(function(t,n){return ft(e)(t.taskID,n)}))}},Oe=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,a=m(r(n,["forwardToReplicas"]));return i&&(a.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:I,path:p("1/indexes/%s/synonyms/clear",e.indexName)},a),(function(t,n){return ft(e)(t.taskID,n)}))}},De=function(e){return function(t,n){return f(e.transporter.write({method:I,path:p("1/indexes/%s/deleteByQuery",e.indexName),data:t},n),(function(t,n){return ft(e)(t.taskID,n)}))}},Le=function(e){return function(t){return f(e.transporter.write({method:x,path:p("1/indexes/%s",e.indexName)},t),(function(t,n){return ft(e)(t.taskID,n)}))}},Me=function(e){return function(t,n){return f(Fe(e)([t],n).then((function(e){return{taskID:e.taskIDs[0]}})),(function(t,n){return ft(e)(t.taskID,n)}))}},Fe=function(e){return function(t,n){var r=t.map((function(e){return{objectID:e}}));return Ae(e)(r,ht.DeleteObject,n)}},Ue=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,o=m(r(i,["forwardToReplicas"]));return a&&(o.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:x,path:p("1/indexes/%s/rules/%s",e.indexName,t)},o),(function(t,n){return ft(e)(t.taskID,n)}))}},je=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,o=m(r(i,["forwardToReplicas"]));return a&&(o.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:x,path:p("1/indexes/%s/synonyms/%s",e.indexName,t)},o),(function(t,n){return ft(e)(t.taskID,n)}))}},Ve=function(e){return function(t){return We(e)(t).then((function(){return!0})).catch((function(e){if(404!==e.status)throw e;return!1}))}},ze=function(e){return function(t,n,r){return e.transporter.read({method:I,path:p("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},Be=function(e){return function(t,a){var o=a||{},u=o.query,s=o.paginate,c=r(o,["query","paginate"]),l=0;return function r(){return ot(e)(u||"",n(n({},c),{},{page:l})).then((function(e){for(var n=0,a=Object.entries(e.hits);n<a.length;n++){var o=i(a[n],2),u=o[0],c=o[1];if(t(c))return{object:c,position:parseInt(u,10),page:l}}if(l++,!1===s||l>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return r()}))}()}},qe=function(e){return function(t,n){return e.transporter.read({method:E,path:p("1/indexes/%s/%s",e.indexName,t)},n)}},Ge=function(){return function(e,t){for(var n=0,r=Object.entries(e.hits);n<r.length;n++){var a=i(r[n],2),o=a[0];if(a[1].objectID===t)return parseInt(o,10)}return-1}},Ke=function(e){return function(t,i){var a=i||{},o=a.attributesToRetrieve,u=r(a,["attributesToRetrieve"]),s=t.map((function(t){return n({indexName:e.indexName,objectID:t},o?{attributesToRetrieve:o}:{})}));return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:s}},u)}},He=function(e){return function(t,n){return e.transporter.read({method:E,path:p("1/indexes/%s/rules/%s",e.indexName,t)},n)}},We=function(e){return function(t){return e.transporter.read({method:E,path:p("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t)}},Qe=function(e){return function(t,n){return e.transporter.read({method:E,path:p("1/indexes/%s/synonyms/%s",e.indexName,t)},n)}},Ye=function(e){return function(t,n){return f($e(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return ft(e)(t.taskID,n)}))}},$e=function(e){return function(t,n){var i=n||{},a=i.createIfNotExists,o=r(i,["createIfNotExists"]),u=a?ht.PartialUpdateObject:ht.PartialUpdateObjectNoCreate;return Ae(e)(t,u,o)}},Xe=function(e){return function(t,o){var u=o||{},s=u.safe,c=u.autoGenerateObjectIDIfNotExist,l=u.batchSize,h=r(u,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),d=function(t,n,r,i){return f(e.transporter.write({method:I,path:p("1/indexes/%s/operation",t),data:{operation:r,destination:n}},i),(function(t,n){return ft(e)(t.taskID,n)}))},v=Math.random().toString(36).substring(7),m="".concat(e.indexName,"_tmp_").concat(v),y=tt({appId:e.appId,transporter:e.transporter,indexName:m}),g=[],k=d(e.indexName,m,"copy",n(n({},h),{},{scope:["settings","synonyms","rules"]}));return g.push(k),f((s?k.wait(h):k).then((function(){var e=y(t,n(n({},h),{},{autoGenerateObjectIDIfNotExist:c,batchSize:l}));return g.push(e),s?e.wait(h):e})).then((function(){var t=d(m,e.indexName,"move",h);return g.push(t),s?t.wait(h):t})).then((function(){return Promise.all(g)})).then((function(e){var t=i(e,3),n=t[0],r=t[1],o=t[2];return{objectIDs:r.objectIDs,taskIDs:[n.taskID].concat(a(r.taskIDs),[o.taskID])}})),(function(e,t){return Promise.all(g.map((function(e){return e.wait(t)})))}))}},Je=function(e){return function(t,r){return rt(e)(t,n(n({},r),{},{clearExistingRules:!0}))}},Ze=function(e){return function(t,r){return at(e)(t,n(n({},r),{},{clearExistingSynonyms:!0}))}},et=function(e){return function(t,n){return f(tt(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return ft(e)(t.taskID,n)}))}},tt=function(e){return function(t,n){var i=n||{},a=i.autoGenerateObjectIDIfNotExist,o=r(i,["autoGenerateObjectIDIfNotExist"]),u=a?ht.AddObject:ht.UpdateObject;if(u===ht.UpdateObject){var s=!0,c=!1,l=void 0;try{for(var h,d=t[Symbol.iterator]();!(s=(h=d.next()).done);s=!0)if(void 0===h.value.objectID)return f(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(e){c=!0,l=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}}return Ae(e)(t,u,o)}},nt=function(e){return function(t,n){return rt(e)([t],n)}},rt=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,o=i.clearExistingRules,u=m(r(i,["forwardToReplicas","clearExistingRules"]));return a&&(u.queryParameters.forwardToReplicas=1),o&&(u.queryParameters.clearExistingRules=1),f(e.transporter.write({method:I,path:p("1/indexes/%s/rules/batch",e.indexName),data:t},u),(function(t,n){return ft(e)(t.taskID,n)}))}},it=function(e){return function(t,n){return at(e)([t],n)}},at=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,o=i.clearExistingSynonyms,u=i.replaceExistingSynonyms,s=m(r(i,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return a&&(s.queryParameters.forwardToReplicas=1),(u||o)&&(s.queryParameters.replaceExistingSynonyms=1),f(e.transporter.write({method:I,path:p("1/indexes/%s/synonyms/batch",e.indexName),data:t},s),(function(t,n){return ft(e)(t.taskID,n)}))}},ot=function(e){return function(t,n){return e.transporter.read({method:I,path:p("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},ut=function(e){return function(t,n,r){return e.transporter.read({method:I,path:p("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}},st=function(e){return function(t,n){return e.transporter.read({method:I,path:p("1/indexes/%s/rules/search",e.indexName),data:{query:t}},n)}},ct=function(e){return function(t,n){return e.transporter.read({method:I,path:p("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},n)}},lt=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,o=m(r(i,["forwardToReplicas"]));return a&&(o.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:S,path:p("1/indexes/%s/settings",e.indexName),data:t},o),(function(t,n){return ft(e)(t.taskID,n)}))}},ft=function(e){return function(t,n){return l((function(r){return function(e){return function(t,n){return e.transporter.read({method:E,path:p("1/indexes/%s/task/%s",e.indexName,t.toString())},n)}}(e)(t,n).then((function(e){return"published"!==e.status?r():void 0}))}))}},ht={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},dt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},pt=1,vt=2,mt=3;function yt(e,t,r){var i,a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return n.setRequestHeader(t,e.headers[t])}));var r,i=function(e,r){return setTimeout((function(){n.abort(),t({status:0,content:r,isTimedOut:!0})}),1e3*e)},a=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(a),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(a),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(a),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},logger:(i=mt,{debug:function(e,t){return pt>=i&&console.debug(e,t),Promise.resolve()},info:function(e,t){return vt>=i&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:s(),requestsCache:s({serializable:!1}),hostsCache:u({caches:[o({key:"".concat("4.18.0","-").concat(e)}),s()]}),userAgent:A("4.18.0").add({segment:"Browser"})},l=n(n({},a),r),f=function(){return function(e){return function(e){var t=e.region||"us",r=c(v.WithinHeaders,e.appId,e.apiKey),i=N(n(n({hosts:[{url:"personalization.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return d({appId:e.appId,transporter:i},e.methods)}(n(n(n({},a),e),{},{methods:{getPersonalizationStrategy:V,setPersonalizationStrategy:z}}))}};return function(e){var t=e.appId,r=c(void 0!==e.authMode?e.authMode:v.WithinHeaders,t,e.apiKey),i=N(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:y.Read},{url:"".concat(t,".algolia.net"),accept:y.Write}].concat(h([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return d({transporter:i,appId:t,addAlgoliaAgent:function(e,t){i.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([i.requestsCache.clear(),i.responsesCache.clear()]).then((function(){}))}},e.methods)}(n(n({},l),{},{methods:{search:ve,searchForFacetValues:me,multipleBatch:de,multipleGetObjects:pe,multipleQueries:ve,copyIndex:W,copySettings:Y,copySynonyms:$,copyRules:Q,moveIndex:he,listIndices:le,getLogs:re,listClusters:ce,multipleSearchForFacetValues:me,getApiKey:ee,addApiKey:q,listApiKeys:se,updateApiKey:Ee,deleteApiKey:J,restoreApiKey:ke,assignUserID:G,assignUserIDs:K,getUserID:ae,searchUserIDs:_e,listUserIDs:fe,getTopUserIDs:ie,removeUserID:ye,hasPendingMappings:oe,clearDictionaryEntries:H,deleteDictionaryEntries:Z,getDictionarySettings:ne,getAppTask:te,replaceDictionaryEntries:ge,saveDictionaryEntries:be,searchDictionaryEntries:we,setDictionarySettings:xe,waitAppTask:Ie,customRequest:X,initIndex:function(e){return function(t){return ue(e)(t,{methods:{batch:Se,delete:Le,findAnswers:ze,getObject:qe,getObjects:Ke,saveObject:et,saveObjects:tt,search:ot,searchForFacetValues:ut,waitTask:ft,setSettings:lt,getSettings:We,partialUpdateObject:Ye,partialUpdateObjects:$e,deleteObject:Me,deleteObjects:Fe,deleteBy:De,clearObjects:Pe,browseObjects:Te,getObjectPosition:Ge,findObject:Be,exists:Ve,saveSynonym:it,saveSynonyms:at,getSynonym:Qe,searchSynonyms:ct,browseSynonyms:Ne,deleteSynonym:je,clearSynonyms:Oe,replaceAllObjects:Xe,replaceAllSynonyms:Ze,searchRules:st,getRule:He,deleteRule:Ue,saveRule:nt,saveRules:rt,replaceAllRules:Je,browseRules:Ce,clearRules:Re}})}},initAnalytics:function(){return function(e){return function(e){var t=e.region||"us",r=c(v.WithinHeaders,e.appId,e.apiKey),i=N(n(n({hosts:[{url:"analytics.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return d({appId:e.appId,transporter:i},e.methods)}(n(n(n({},a),e),{},{methods:{addABTest:L,getABTest:F,getABTests:U,stopABTest:j,deleteABTest:M}}))}},initPersonalization:f,initRecommendation:function(){return function(e){return l.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),f()(e)}}}}))}return yt.version="4.18.0",yt}()},618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},854:function(e){"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var a=i+65;n[a]=[String.fromCharCode(a+32),String.fromCharCode(a)]}var o={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],e.exports=o},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ee)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,It,St=!1,Tt=[],Ct=null,Nt=null,At=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Pt.forEach(jt),Rt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return En}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Ur(e,0)}function Yn(e){if(W(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Ir(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Gn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Re(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Ii(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ni),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Si(Ci,e)):Ii(Ni),Si(Ni,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Gi=0,Ki=null,Hi=0,Wi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Gi++]=Hi,qi[Gi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Hi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ii(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Ri(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Ri(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Si(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Go(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Go(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ds,Os),Os|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Ai:Ci.current;return a=Pi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Gu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Pi(t,c=Ri(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ga(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Pi(t,s=Ri(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ga(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Ou,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Wu(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ou(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Ou(e,t),null===e&&Br(t.stateNode.containerInfo),Wu(t),null;case 10:return _a(t.type._context),Wu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ic(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Zu=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var c=Xu;if($u=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,$u=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Es,Is=Math.ceil,Ss=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,Ns=0,As=null,Ps=null,Rs=0,Os=0,Ds=Ei(0),Ls=0,Ms=null,Fs=0,Us=0,js=0,Vs=null,zs=null,Bs=0,qs=1/0,Gs=null,Ks=!1,Hs=null,Ws=null,Qs=!1,Ys=null,$s=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Ns)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===As||(e===As&&(0===(2&Ns)&&(Us|=n),4===Ls&&sc(e,Rs)),ic(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=Xe()+500,ji&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Ns)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ns;Ns|=2;var o=vc();for(As===e&&Rs===t||(Gs=null,qs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ss.current=o,Ns=i,null!==Ps?t=0:(As=null,Rs=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zs,Gs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zs,Gs),t);break}_c(e,zs,Gs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zs,Gs),r);break}_c(e,zs,Gs);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~js,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ns))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zs,Gs),ic(e,Xe()),null}function lc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=Xe()+500,ji&&Bi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&Ns)&&xc();var t=Ns;Ns|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Ns=t))&&Bi()}}function hc(){Os=Ds.current,Ii(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Ps=e=Dc(e.current,null),Rs=Os=t,Ls=0,Ms=null,js=Us=Fs=0,zs=Vs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Ps;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ps=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function vc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===As||0===(268435455&Fs)&&0===(268435455&Us)||sc(As,Rs)}function yc(e,t){var n=Ns;Ns|=2;var r=vc();for(As===e&&Rs===t||(Gs=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Ns=n,Ss.current=r,null!==Ps)throw Error(a(261));return As=null,Rs=0,Ls}function gc(){for(;null!==Ps;)bc(Ps)}function kc(){for(;null!==Ps&&!Ye();)bc(Ps)}function bc(e){var t=Es(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):Ps=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Os)))return void(Ps=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Ls=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function _c(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ys);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ps=As=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,Ts.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),Ns=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,$s=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&$s)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function xc(){if(null!==Ys){var e=bt($s),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,$s=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ic(s,s.return,_)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ns=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Rs&n)===n&&(4===Ls||3===Ls&&(130023424&Rs)===Rs&&500>Xe()-Bs?dc(e,0):js|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return We(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Si(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gu(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Gu(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Gc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Gc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Ns)&&(qs=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isForwardRef=function(e){return b(e)===c}},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,I=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?x():(E=!1,I=null)}}else E=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,x=function(){R.postMessage(null)}}else x=function(){y(A,0)};function O(e){I=e,E||(E=!0,x())}function D(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ua},SDK_VERSION:function(){return Jo},_DEFAULT_ENTRY_NAME:function(){return jo},_addComponent:function(){return qo},_addOrOverwriteComponent:function(){return Go},_apps:function(){return zo},_clearComponents:function(){return Qo},_components:function(){return Bo},_getProvider:function(){return Ho},_registerComponent:function(){return Ko},_removeServiceInstance:function(){return Wo},deleteApp:function(){return nu},getApp:function(){return eu},getApps:function(){return tu},initializeApp:function(){return Zo},onLog:function(){return au},registerVersion:function(){return iu},setLogLevel:function(){return ou}});var t=n(164);function r(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||a(e,t)||o()}function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||s(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){var t=g();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}var w,_=n(791);function x(e,t,n){return x=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},x.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},E(e)}function I(e){return r(e)||s(e)||a(e)||o()}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(w||(w={}));var C,N="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function D(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=w.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=w.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:D(e);return A(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(T({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(N,p),f=e,function(){o.removeEventListener(N,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=w.Push;var r=O(m.location,e,t);n&&n(r,e);var i=R(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=w.Replace;var r=O(m.location,e,t);n&&n(r,e);var i=R(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],$(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(A(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=te([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(A(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),U(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:W(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=S(j(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function j(e){var t=e.split("/");if(0===t.length)return[];var n=I(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=j(i.join("/")),s=[];return s.push.apply(s,c(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,c(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,z=3,B=2,q=1,G=10,K=-2,H=function(e){return"*"===e};function W(e,t){var n=e.split("/"),r=n.length;return n.some(H)&&(r+=K),t&&(r+=B),n.filter((function(e){return!H(e)})).reduce((function(e,t){return e+(V.test(t)?z:""===t?q:G)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Y({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:te([i,l.pathname]),pathnameBase:ne(te([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=te([i,l.pathnameBase]))}return a}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function $(e){try{return decodeURI(e)}catch(t){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(A(!(i=T({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),A(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),A(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:re(a),hash:ie(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var te=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},re=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ie=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n)}(E(Error));function oe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],se=(new Set(ue),["get"].concat(ue));new Set(se),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}var le=_.createContext(null);var fe=_.createContext(null);var he=_.createContext(null);var de=_.createContext(null);var pe=_.createContext(null);var ve=_.createContext({outlet:null,matches:[],isDataRoute:!1});var me=_.createContext(null);function ye(){return null!=_.useContext(pe)}function ge(){return ye()||A(!1),_.useContext(pe).location}function ke(e){_.useContext(de).static||_.useLayoutEffect(e)}function be(){return _.useContext(ve).isDataRoute?function(){var e=Pe(Ie.UseNavigateStable).router,t=Oe(Se.UseNavigateStable),n=_.useRef(!1);ke((function(){n.current=!0}));var r=_.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,ce({fromRouteId:t},i)))}),[e,t]);return r}():function(){ye()||A(!1);var e=_.useContext(le),t=_.useContext(de),n=t.basename,r=t.navigator,i=_.useContext(ve).matches,a=ge().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase}))),u=_.useRef(!1);ke((function(){u.current=!0}));var s=_.useCallback((function(t,i){if(void 0===i&&(i={}),u.current)if("number"!==typeof t){var s=ee(t,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:te([n,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}else r.go(t)}),[n,r,o,a,e]);return s}()}var we=_.createContext(null);function _e(e,t){var n=(void 0===t?{}:t).relative,r=_.useContext(ve).matches,i=ge().pathname,a=JSON.stringify(Z(r).map((function(e){return e.pathnameBase})));return _.useMemo((function(){return ee(e,JSON.parse(a),i,"path"===n)}),[e,a,i,n])}function xe(e,t,n){ye()||A(!1);var r,i=_.useContext(de).navigator,a=_.useContext(ve).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,ge());if(t){var l,f="string"===typeof t?L(t):t;"/"===s||(null==(l=f.pathname)?void 0:l.startsWith(s))||A(!1),r=f}else r=c;var h=r.pathname||"/",d=F(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});var p=Ae(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:te([s,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:te([s,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),a,n);return t&&p?_.createElement(pe.Provider,{value:{location:ce({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:w.Pop}},p):p}function Ee(){var e=function(){var e,t=_.useContext(me),n=Re(Se.UseRouteError),r=Oe(Se.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=oe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,null)}var Ie,Se,Te=_.createElement(Ee,null),Ce=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return p(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?_.createElement(ve.Provider,{value:this.props.routeContext},_.createElement(me.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(_.Component);function Ne(e){var t=e.routeContext,n=e.match,r=e.children,i=_.useContext(le);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(ve.Provider,{value:t},r)}function Ae(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var i;if(null==(i=n)||!i.errors)return null;e=n.matches}var a=e,o=null==(r=n)?void 0:r.errors;if(null!=o){var u=a.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));u>=0||A(!1),a=a.slice(0,Math.min(a.length,u+1))}return a.reduceRight((function(e,r,i){var u=r.route.id?null==o?void 0:o[r.route.id]:null,s=null;n&&(s=r.route.errorElement||Te);var c=t.concat(a.slice(0,i+1)),l=function(){var t;return t=u?s:r.route.Component?_.createElement(r.route.Component,null):r.route.element?r.route.element:e,_.createElement(Ne,{match:r,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?_.createElement(Ce,{location:n.location,revalidation:n.revalidation,component:s,error:u,children:l(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):l()}),null)}function Pe(e){var t=_.useContext(le);return t||A(!1),t}function Re(e){var t=_.useContext(fe);return t||A(!1),t}function Oe(e){var t=function(e){var t=_.useContext(ve);return t||A(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||A(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ie||(Ie={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Se||(Se={}));var De;function Le(e){var t=e.to,n=e.replace,r=e.state,i=e.relative;ye()||A(!1);var a=_.useContext(ve).matches,o=ge().pathname,u=be(),s=ee(t,Z(a).map((function(e){return e.pathnameBase})),o,"path"===i),c=JSON.stringify(s);return _.useEffect((function(){return u(JSON.parse(c),{replace:n,state:r,relative:i})}),[u,c,i,n,r]),null}function Me(e){return function(e){var t=_.useContext(ve).outlet;return t?_.createElement(we.Provider,{value:e},t):t}(e.context)}function Fe(e){A(!1)}function Ue(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?w.Pop:o,s=e.navigator,c=e.static,l=void 0!==c&&c;ye()&&A(!1);var f=n.replace(/^\/*/,"/"),h=_.useMemo((function(){return{basename:f,navigator:s,static:l}}),[f,s,l]);"string"===typeof a&&(a=L(a));var d=a,p=d.pathname,v=void 0===p?"/":p,m=d.search,y=void 0===m?"":m,g=d.hash,k=void 0===g?"":g,b=d.state,x=void 0===b?null:b,E=d.key,I=void 0===E?"default":E,S=_.useMemo((function(){var e=X(v,f);return null==e?null:{location:{pathname:e,search:y,hash:k,state:x,key:I},navigationType:u}}),[f,v,y,k,x,I,u]);return null==S?null:_.createElement(de.Provider,{value:h},_.createElement(pe.Provider,{children:i,value:S}))}function je(e){var t=e.children,n=e.location;return xe(ze(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(De||(De={}));var Ve=new Promise((function(){}));_.Component;function ze(e,t){void 0===t&&(t=[]);var n=[];return _.Children.forEach(e,(function(e,r){if(_.isValidElement(e)){var i=[].concat(c(t),[r]);if(e.type!==_.Fragment){e.type!==Fe&&A(!1),e.props.index&&e.props.children&&A(!1);var a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ze(e.props.children,i)),n.push(a)}else n.push.apply(n,ze(e.props.children,i))}})),n}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ge=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ke(e){var t,n=e.basename,r=e.children,i=e.window,a=_.useRef();null==a.current&&(a.current=(void 0===(t={window:i,v5Compat:!0})&&(t={}),M((function(e,t){var n=e.location;return O("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:D(t)}),null,t)));var o=a.current,s=u(_.useState({action:o.action,location:o.location}),2),c=s[0],l=s[1];return _.useLayoutEffect((function(){return o.listen(l)}),[o]),_.createElement(Ue,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:o})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,We=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=_.forwardRef((function(e,t){var n,r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=qe(e,Ge),h=_.useContext(de).basename,d=!1;if("string"===typeof c&&We.test(c)&&(n=c,He))try{var p=new URL(window.location.href),v=c.startsWith("//")?new URL(p.protocol+c):new URL(c),m=X(v.pathname,h);v.origin===p.origin&&null!=m?c=m+v.search+v.hash:d=!0}catch(k){}var y=function(e,t){var n=(void 0===t?{}:t).relative;ye()||A(!1);var r=_.useContext(de),i=r.basename,a=r.navigator,o=_e(e,{relative:n}),u=o.hash,s=o.pathname,c=o.search,l=s;return"/"!==i&&(l="/"===s?i:te([i,s])),a.createHref({pathname:l,search:c,hash:u})}(c,{relative:i}),g=function(e,t){var n=void 0===t?{}:t,r=n.target,i=n.replace,a=n.state,o=n.preventScrollReset,u=n.relative,s=be(),c=ge(),l=_e(e,{relative:u});return _.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==i?i:D(c)===D(l);s(e,{replace:n,state:a,preventScrollReset:o,relative:u})}}),[c,s,l,i,a,r,e,o,u])}(c,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return _.createElement("a",Be({},f,{href:n||y,onClick:d||a?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:s}))}));var Ye,$e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ye||(Ye={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($e||($e={}));function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}function Je(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Je(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Ze=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Je(e))&&(r&&(r+=" "),r+=t);return r},et={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function tt(e){var t=typeof e;return"string"===t||"number"===t?et[e]||e:""}var nt=function(e,t){return e&&t},rt=function(e,t){return e&&!0!==e&&e+" "+t},it=function(e,t){return e&&(!0===e?t:e+" "+t)},at=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},ot=function(e){return"justified"===e?"justified":rt(e,"aligned")},ut=function(e){return rt(e,"aligned")},st=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?tt(e):tt(e)+" "+t},ct=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};var lt=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var a=n();if(a)return a}return t.href?"a":i.as||"div"};var ft=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var ht=function(){this.__data__=[],this.size=0};var dt=function(e,t){return e===t||e!==e&&t!==t};var pt=function(e,t){for(var n=e.length;n--;)if(dt(e[n][0],t))return n;return-1},vt=Array.prototype.splice;var mt=function(e){var t=this.__data__,n=pt(t,e);return!(n<0)&&(n==t.length-1?t.pop():vt.call(t,n,1),--this.size,!0)};var yt=function(e){var t=this.__data__,n=pt(t,e);return n<0?void 0:t[n][1]};var gt=function(e){return pt(this.__data__,e)>-1};var kt=function(e,t){var n=this.__data__,r=pt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function bt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bt.prototype.clear=ht,bt.prototype.delete=mt,bt.prototype.get=yt,bt.prototype.has=gt,bt.prototype.set=kt;var wt=bt;var _t=function(){this.__data__=new wt,this.size=0};var xt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Et=function(e){return this.__data__.get(e)};var It=function(e){return this.__data__.has(e)},St="object"==typeof global&&global&&global.Object===Object&&global,Tt="object"==typeof self&&self&&self.Object===Object&&self,Ct=St||Tt||Function("return this")(),Nt=Ct.Symbol,At=Object.prototype,Pt=At.hasOwnProperty,Rt=At.toString,Ot=Nt?Nt.toStringTag:void 0;var Dt=function(e){var t=Pt.call(e,Ot),n=e[Ot];try{e[Ot]=void 0;var r=!0}catch(a){}var i=Rt.call(e);return r&&(t?e[Ot]=n:delete e[Ot]),i},Lt=Object.prototype.toString;var Mt=function(e){return Lt.call(e)},Ft=Nt?Nt.toStringTag:void 0;var Ut=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ft&&Ft in Object(e)?Dt(e):Mt(e)};var jt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Vt=function(e){if(!jt(e))return!1;var t=Ut(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},zt=Ct["__core-js_shared__"],Bt=function(){var e=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var qt=function(e){return!!Bt&&Bt in e},Gt=Function.prototype.toString;var Kt=function(e){if(null!=e){try{return Gt.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Ht=/^\[object .+?Constructor\]$/,Wt=Function.prototype,Qt=Object.prototype,Yt=Wt.toString,$t=Qt.hasOwnProperty,Xt=RegExp("^"+Yt.call($t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Jt=function(e){return!(!jt(e)||qt(e))&&(Vt(e)?Xt:Ht).test(Kt(e))};var Zt=function(e,t){return null==e?void 0:e[t]};var en=function(e,t){var n=Zt(e,t);return Jt(n)?n:void 0},tn=en(Ct,"Map"),nn=en(Object,"create");var rn=function(){this.__data__=nn?nn(null):{},this.size=0};var an=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},on=Object.prototype.hasOwnProperty;var un=function(e){var t=this.__data__;if(nn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return on.call(t,e)?t[e]:void 0},sn=Object.prototype.hasOwnProperty;var cn=function(e){var t=this.__data__;return nn?void 0!==t[e]:sn.call(t,e)};var ln=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nn&&void 0===t?"__lodash_hash_undefined__":t,this};function fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fn.prototype.clear=rn,fn.prototype.delete=an,fn.prototype.get=un,fn.prototype.has=cn,fn.prototype.set=ln;var hn=fn;var dn=function(){this.size=0,this.__data__={hash:new hn,map:new(tn||wt),string:new hn}};var pn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var vn=function(e,t){var n=e.__data__;return pn(t)?n["string"==typeof t?"string":"hash"]:n.map};var mn=function(e){var t=vn(this,e).delete(e);return this.size-=t?1:0,t};var yn=function(e){return vn(this,e).get(e)};var gn=function(e){return vn(this,e).has(e)};var kn=function(e,t){var n=vn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bn.prototype.clear=dn,bn.prototype.delete=mn,bn.prototype.get=yn,bn.prototype.has=gn,bn.prototype.set=kn;var wn=bn;var _n=function(e,t){var n=this.__data__;if(n instanceof wt){var r=n.__data__;if(!tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new wn(r)}return n.set(e,t),this.size=n.size,this};function xn(e){var t=this.__data__=new wt(e);this.size=t.size}xn.prototype.clear=_t,xn.prototype.delete=xt,xn.prototype.get=Et,xn.prototype.has=It,xn.prototype.set=_n;var En=xn;var In=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Sn=function(e){return this.__data__.has(e)};function Tn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new wn;++t<n;)this.add(e[t])}Tn.prototype.add=Tn.prototype.push=In,Tn.prototype.has=Sn;var Cn=Tn;var Nn=function(e,t){return e.has(t)};var An=function(e,t,n,r,i,a){var o=1&n,u=e.length,s=t.length;if(u!=s&&!(o&&s>u))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new Cn:void 0;for(a.set(e,t),a.set(t,e);++f<u;){var p=e[f],v=t[f];if(r)var m=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!ft(t,(function(e,t){if(!Nn(d,t)&&(p===e||i(p,e,n,r,a)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h},Pn=Ct.Uint8Array;var Rn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var On=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Dn=Nt?Nt.prototype:void 0,Ln=Dn?Dn.valueOf:void 0;var Mn=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Pn(e),new Pn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Rn;case"[object Set]":var s=1&r;if(u||(u=On),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=An(u(e),u(t),r,i,a,o);return o.delete(e),l;case"[object Symbol]":if(Ln)return Ln.call(e)==Ln.call(t)}return!1};var Fn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Un=Array.isArray;var jn=function(e,t,n){var r=t(e);return Un(e)?r:Fn(r,n(e))};var Vn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var zn=function(){return[]},Bn=Object.prototype.propertyIsEnumerable,qn=Object.getOwnPropertySymbols,Gn=qn?function(e){return null==e?[]:(e=Object(e),Vn(qn(e),(function(t){return Bn.call(e,t)})))}:zn;var Kn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Hn=function(e){return null!=e&&"object"==typeof e};var Wn=function(e){return Hn(e)&&"[object Arguments]"==Ut(e)},Qn=Object.prototype,Yn=Qn.hasOwnProperty,$n=Qn.propertyIsEnumerable,Xn=Wn(function(){return arguments}())?Wn:function(e){return Hn(e)&&Yn.call(e,"callee")&&!$n.call(e,"callee")},Jn=Xn;var Zn=function(){return!1},er="object"==typeof exports&&exports&&!exports.nodeType&&exports,tr=er&&"object"==typeof module&&module&&!module.nodeType&&module,nr=tr&&tr.exports===er?Ct.Buffer:void 0,rr=(nr?nr.isBuffer:void 0)||Zn,ir=/^(?:0|[1-9]\d*)$/;var ar=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ir.test(e))&&e>-1&&e%1==0&&e<t};var or=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ur={};ur["[object Float32Array]"]=ur["[object Float64Array]"]=ur["[object Int8Array]"]=ur["[object Int16Array]"]=ur["[object Int32Array]"]=ur["[object Uint8Array]"]=ur["[object Uint8ClampedArray]"]=ur["[object Uint16Array]"]=ur["[object Uint32Array]"]=!0,ur["[object Arguments]"]=ur["[object Array]"]=ur["[object ArrayBuffer]"]=ur["[object Boolean]"]=ur["[object DataView]"]=ur["[object Date]"]=ur["[object Error]"]=ur["[object Function]"]=ur["[object Map]"]=ur["[object Number]"]=ur["[object Object]"]=ur["[object RegExp]"]=ur["[object Set]"]=ur["[object String]"]=ur["[object WeakMap]"]=!1;var sr=function(e){return Hn(e)&&or(e.length)&&!!ur[Ut(e)]};var cr=function(e){return function(t){return e(t)}},lr="object"==typeof exports&&exports&&!exports.nodeType&&exports,fr=lr&&"object"==typeof module&&module&&!module.nodeType&&module,hr=fr&&fr.exports===lr&&St.process,dr=function(){try{var e=fr&&fr.require&&fr.require("util").types;return e||hr&&hr.binding&&hr.binding("util")}catch(t){}}(),pr=dr&&dr.isTypedArray,vr=pr?cr(pr):sr,mr=Object.prototype.hasOwnProperty;var yr=function(e,t){var n=Un(e),r=!n&&Jn(e),i=!n&&!r&&rr(e),a=!n&&!r&&!i&&vr(e),o=n||r||i||a,u=o?Kn(e.length,String):[],s=u.length;for(var c in e)!t&&!mr.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ar(c,s))||u.push(c);return u},gr=Object.prototype;var kr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||gr)};var br=function(e,t){return function(n){return e(t(n))}},wr=br(Object.keys,Object),_r=Object.prototype.hasOwnProperty;var xr=function(e){if(!kr(e))return wr(e);var t=[];for(var n in Object(e))_r.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Er=function(e){return null!=e&&or(e.length)&&!Vt(e)};var Ir=function(e){return Er(e)?yr(e):xr(e)};var Sr=function(e){return jn(e,Ir,Gn)},Tr=Object.prototype.hasOwnProperty;var Cr=function(e,t,n,r,i,a){var o=1&n,u=Sr(e),s=u.length;if(s!=Sr(t).length&&!o)return!1;for(var c=s;c--;){var l=u[c];if(!(o?l in t:Tr.call(t,l)))return!1}var f=a.get(e),h=a.get(t);if(f&&h)return f==t&&h==e;var d=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<s;){var v=e[l=u[c]],m=t[l];if(r)var y=o?r(m,v,l,t,e,a):r(v,m,l,e,t,a);if(!(void 0===y?v===m||i(v,m,n,r,a):y)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var g=e.constructor,k=t.constructor;g==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof k&&k instanceof k||(d=!1)}return a.delete(e),a.delete(t),d},Nr=en(Ct,"DataView"),Ar=en(Ct,"Promise"),Pr=en(Ct,"Set"),Rr=en(Ct,"WeakMap"),Or="[object Map]",Dr="[object Promise]",Lr="[object Set]",Mr="[object WeakMap]",Fr="[object DataView]",Ur=Kt(Nr),jr=Kt(tn),Vr=Kt(Ar),zr=Kt(Pr),Br=Kt(Rr),qr=Ut;(Nr&&qr(new Nr(new ArrayBuffer(1)))!=Fr||tn&&qr(new tn)!=Or||Ar&&qr(Ar.resolve())!=Dr||Pr&&qr(new Pr)!=Lr||Rr&&qr(new Rr)!=Mr)&&(qr=function(e){var t=Ut(e),n="[object Object]"==t?e.constructor:void 0,r=n?Kt(n):"";if(r)switch(r){case Ur:return Fr;case jr:return Or;case Vr:return Dr;case zr:return Lr;case Br:return Mr}return t});var Gr=qr,Kr="[object Arguments]",Hr="[object Array]",Wr="[object Object]",Qr=Object.prototype.hasOwnProperty;var Yr=function(e,t,n,r,i,a){var o=Un(e),u=Un(t),s=o?Hr:Gr(e),c=u?Hr:Gr(t),l=(s=s==Kr?Wr:s)==Wr,f=(c=c==Kr?Wr:c)==Wr,h=s==c;if(h&&rr(e)){if(!rr(t))return!1;o=!0,l=!1}if(h&&!l)return a||(a=new En),o||vr(e)?An(e,t,n,r,i,a):Mn(e,t,s,n,r,i,a);if(!(1&n)){var d=l&&Qr.call(e,"__wrapped__"),p=f&&Qr.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return a||(a=new En),i(v,m,n,r,a)}}return!!h&&(a||(a=new En),Cr(e,t,n,r,i,a))};var $r=function e(t,n,r,i,a){return t===n||(null==t||null==n||!Hn(t)&&!Hn(n)?t!==t&&n!==n:Yr(t,n,r,i,e,a))};var Xr=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var u=n[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var s=(u=n[i])[0],c=e[s],l=u[1];if(o&&u[2]){if(void 0===c&&!(s in e))return!1}else{var f=new En;if(r)var h=r(c,l,s,e,t,f);if(!(void 0===h?$r(l,c,3,r,f):h))return!1}}return!0};var Jr=function(e){return e===e&&!jt(e)};var Zr=function(e){for(var t=Ir(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Jr(i)]}return t};var ei=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var ti=function(e){var t=Zr(e);return 1==t.length&&t[0][2]?ei(t[0][0],t[0][1]):function(n){return n===e||Xr(n,e,t)}};var ni=function(e){return"symbol"==typeof e||Hn(e)&&"[object Symbol]"==Ut(e)},ri=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ii=/^\w*$/;var ai=function(e,t){if(Un(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ni(e))||(ii.test(e)||!ri.test(e)||null!=t&&e in Object(t))};function oi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(oi.Cache||wn),n}oi.Cache=wn;var ui=oi;var si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ci=/\\(\\)?/g,li=function(e){var t=ui(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(si,(function(e,n,r,i){t.push(r?i.replace(ci,"$1"):n||e)})),t}));var fi=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},hi=Nt?Nt.prototype:void 0,di=hi?hi.toString:void 0;var pi=function e(t){if("string"==typeof t)return t;if(Un(t))return fi(t,e)+"";if(ni(t))return di?di.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var vi=function(e){return null==e?"":pi(e)};var mi=function(e,t){return Un(e)?e:ai(e,t)?[e]:li(vi(e))};var yi=function(e){if("string"==typeof e||ni(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var gi=function(e,t){for(var n=0,r=(t=mi(t,e)).length;null!=e&&n<r;)e=e[yi(t[n++])];return n&&n==r?e:void 0};var ki=function(e,t,n){var r=null==e?void 0:gi(e,t);return void 0===r?n:r};var bi=function(e,t){return null!=e&&t in Object(e)};var wi=function(e,t,n){for(var r=-1,i=(t=mi(t,e)).length,a=!1;++r<i;){var o=yi(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&or(i)&&ar(o,i)&&(Un(e)||Jn(e))};var _i=function(e,t){return null!=e&&wi(e,t,bi)};var xi=function(e,t){return ai(e)&&Jr(t)?ei(yi(e),t):function(n){var r=ki(n,e);return void 0===r&&r===t?_i(n,e):$r(t,r,3)}};var Ei=function(e){return e};var Ii=function(e){return function(t){return null==t?void 0:t[e]}};var Si=function(e){return function(t){return gi(t,e)}};var Ti=function(e){return ai(e)?Ii(yi(e)):Si(e)};var Ci=function(e){return"function"==typeof e?e:null==e?Ei:"object"==typeof e?Un(e)?xi(e[0],e[1]):ti(e):Ti(e)};var Ni=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}();var Ai=function(e,t){return function(n,r){if(null==n)return n;if(!Er(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}((function(e,t){return e&&Ni(e,t,Ir)}));var Pi=function(e,t){var n;return Ai(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};var Ri=function(e,t,n){if(!jt(n))return!1;var r=typeof t;return!!("number"==r?Er(n)&&ar(t,n.length):"string"==r&&t in n)&&dt(n[t],e)};var Oi=function(e,t,n){var r=Un(e)?ft:Pi;return n&&Ri(e,t,n)&&(t=void 0),r(e,Ci(t,3))},Di=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};function Li(e){var t=e.children,n=e.className,r=e.content,i=e.fluid,a=e.text,o=e.textAlign,u=Ze("ui",nt(a,"text"),nt(i,"fluid"),ot(o),"container",n),s=ct(Li,e),c=lt(Li,e);return _.createElement(c,Xe({},s,{className:u}),Di(t)?r:t)}Li.handledProps=["as","children","className","content","fluid","text","textAlign"],Li.propTypes={};var Mi=Li;var Fi=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var Ui=function(e){return e!==e};var ji=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Vi=function(e,t,n){return t===t?ji(e,t,n):Fi(e,Ui,n)};var zi=function(e,t){return!!(null==e?0:e.length)&&Vi(e,t,0)>-1};var Bi=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var qi=function(){},Gi=Pr&&1/On(new Pr([,-0]))[1]==1/0?function(e){return new Pr(e)}:qi,Ki=Gi;var Hi=function(e,t,n){var r=-1,i=zi,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Bi;else if(a>=200){var c=t?null:Ki(e);if(c)return On(c);o=!1,i=Nn,s=new Cn}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u};var Wi=function(e){return e&&e.length?Hi(e):[]},Qi=br(Object.getPrototypeOf,Object),Yi=Function.prototype,$i=Object.prototype,Xi=Yi.toString,Ji=$i.hasOwnProperty,Zi=Xi.call(Object);var ea=function(e){if(!Hn(e)||"[object Object]"!=Ut(e))return!1;var t=Qi(e);if(null===t)return!0;var n=Ji.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Xi.call(n)==Zi};var ta=function(e){return"number"==typeof e||Hn(e)&&"[object Number]"==Ut(e)};var na=function(e){return"string"==typeof e||!Un(e)&&Hn(e)&&"[object String]"==Ut(e)};var ra=function(e){return!0===e||!1===e||Hn(e)&&"[object Boolean]"==Ut(e)};var ia=function(e){return null==e};function aa(e,t,n,r){if(void 0===r&&(r={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(ia(n)||ra(n))return null;var i=na(n),a=ta(n),o=Vt(n),u=_.isValidElement(n),s=ea(n),c=i||a||Un(n);if(!o&&!u&&!s&&!c)return null;var l=r.defaultProps,f=void 0===l?{}:l,h=u&&n.props||s&&n||c&&t(n),d=r.overrideProps,p=void 0===d?{}:d;p=Vt(p)?p(Xe({},f,h)):p;var v=Xe({},f,h,p);if(f.className||p.className||h.className){var m=Ze(f.className,p.className,h.className);v.className=Wi(m.split(" ")).join(" ")}if((f.style||p.style||h.style)&&(v.style=Xe({},f.style,h.style,p.style)),ia(v.key)){var y=v.childKey,g=r.autoGenerateKey,k=void 0===g||g;ia(y)?k&&(i||a)&&(v.key=n):(v.key="function"===typeof y?y(v):y,delete v.childKey)}return u?_.cloneElement(n,v):"function"===typeof v.children?v.children(e,Xe({},v,{children:void 0})):c||s?_.createElement(e,v):o?n(e,v,v.children):void 0}function oa(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return aa(e,t,n,r)}}var ua=oa("img",(function(e){return{src:e}})),sa=oa("input",(function(e){return{type:e}})),ca=oa("label",(function(e){return{children:e}})),la=oa("p",(function(e){return{children:e}}));function fa(e){var t=e.children,n=e.className,r=e.computer,i=e.color,a=e.floated,o=e.largeScreen,u=e.mobile,s=e.only,c=e.stretched,l=e.tablet,f=e.textAlign,h=e.verticalAlign,d=e.widescreen,p=e.width,v=Ze(i,nt(c,"stretched"),at(s,"only"),ot(f),rt(a,"floated"),ut(h),st(r,"wide computer"),st(o,"wide large screen"),st(u,"wide mobile"),st(l,"wide tablet"),st(d,"wide widescreen"),st(p,"wide"),"column",n),m=ct(fa,e),y=lt(fa,e);return _.createElement(y,Xe({},m,{className:v}),t)}fa.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],fa.propTypes={},fa.create=oa(fa,(function(e){return{children:e}}));var ha=fa;function da(e){var t=e.centered,n=e.children,r=e.className,i=e.color,a=e.columns,o=e.divided,u=e.only,s=e.reversed,c=e.stretched,l=e.textAlign,f=e.verticalAlign,h=Ze(i,nt(t,"centered"),nt(o,"divided"),nt(c,"stretched"),at(u,"only"),at(s,"reversed"),ot(l),ut(f),st(a,"column",!0),"row",r),d=ct(da,e),p=lt(da,e);return _.createElement(p,Xe({},d,{className:h}),n)}da.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],da.propTypes={};var pa=da;function va(e){var t=e.celled,n=e.centered,r=e.children,i=e.className,a=e.columns,o=e.container,u=e.divided,s=e.doubling,c=e.inverted,l=e.padded,f=e.relaxed,h=e.reversed,d=e.stackable,p=e.stretched,v=e.textAlign,m=e.verticalAlign,y=Ze("ui",nt(n,"centered"),nt(o,"container"),nt(s,"doubling"),nt(c,"inverted"),nt(d,"stackable"),nt(p,"stretched"),it(t,"celled"),it(u,"divided"),it(l,"padded"),it(f,"relaxed"),at(h,"reversed"),ot(v),ut(m),st(a,"column",!0),"grid",i),g=ct(va,e),k=lt(va,e);return _.createElement(k,Xe({},g,{className:y}),r)}va.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],va.Column=ha,va.Row=pa,va.propTypes={};var ma=va,ya=n.p+"static/media/New York City.08a8c131b0decc1944f5.jpg",ga=n(184);var ka=function(){return(0,ga.jsx)("div",{className:"home-page",children:(0,ga.jsx)("div",{className:"intro-text",children:(0,ga.jsxs)("div",{className:"background-image",children:[(0,ga.jsx)("img",{src:ya,style:{width:"100%",height:"auto"}}),(0,ga.jsx)("h1",{style:{position:"absolute",top:"20%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontSize:"30px",font:"Georgia",textAlign:"center"},children:"Welcome to NYC Social Media Platform!"})]})})})};function ba(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wa=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wa(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new xa;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xa=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return p(n)}(E(Error)),Ea=function(e){return function(e){var t=wa(e);return _a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ia=function(e){try{return _a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Sa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Sa(e[n],t[n]));return e}var Ta=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ca=function(){try{return Ta()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ia(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Na=function(){var e;return null===(e=Ca())||void 0===e?void 0:e.config},Aa=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pa(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ea(JSON.stringify({alg:"none",type:"JWT"})),Ea(JSON.stringify(a)),""].join(".")}function Ra(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Oa(){var e,t=null===(e=Ca())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Da(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function La(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ma(){var e=Ra();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Fa(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Ua=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(k(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(k(a),ja.prototype.create),a}return p(n)}(E(Error)),ja=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Va,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ua(n,a,t)}}]),e}();var Va=/\{\$([^}]+)}/g;function za(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ba(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function qa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ga(u)&&Ga(s)){if(!qa(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ga(e){return null!==e&&"object"===typeof e}function Ka(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ha(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Wa(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Qa(e,t){var n=new Ya(e,t);return n.subscribe.bind(n)}var Ya=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return p(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$a),void 0===r.error&&(r.error=$a),void 0===r.complete&&(r.complete=$a);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $a(){}function Xa(e){return e&&e._delegate?e._delegate:e}function Ja(){Ja=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var h={};function d(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==f(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Za(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function eo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Za(a,r,i,o,u,"next",e)}function u(e){Za(a,r,i,o,u,"throw",e)}o(void 0)}))}}var to=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),no="[DEFAULT]",ro=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Aa;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch(c){}var t,n=S(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:no;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:no;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:no;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=S(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(HL){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===no?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(HL){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:no;return this.component?this.component.multipleInstances?e:no:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var io,ao,oo=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ro(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),uo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ao||(ao={}));var so={debug:ao.DEBUG,verbose:ao.VERBOSE,info:ao.INFO,warn:ao.WARN,error:ao.ERROR,silent:ao.SILENT},co=ao.INFO,lo=(ba(io={},ao.DEBUG,"log"),ba(io,ao.VERBOSE,"log"),ba(io,ao.INFO,"info"),ba(io,ao.WARN,"warn"),ba(io,ao.ERROR,"error"),io),fo=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=lo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ho=function(){function e(t){l(this,e),this.name=t,this._logLevel=co,this._logHandler=fo,this._userLogHandler=null,uo.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ao))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?so[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.DEBUG].concat(t)),this._logHandler.apply(this,[this,ao.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ao.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.INFO].concat(t)),this._logHandler.apply(this,[this,ao.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.WARN].concat(t)),this._logHandler.apply(this,[this,ao.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.ERROR].concat(t)),this._logHandler.apply(this,[this,ao.ERROR].concat(t))}}]),e}();function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mo,yo,go=function(e,t){return t.some((function(t){return e instanceof t}))};var ko=new WeakMap,bo=new WeakMap,wo=new WeakMap,_o=new WeakMap,xo=new WeakMap;var Eo={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Io(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yo||(yo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Co(this),n),To(ko.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return To(e.apply(Co(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Co(this),t].concat(r));return wo.set(a,t.sort?t.sort():[t]),To(a)}}function So(e){return"function"===typeof e?Io(e):(e instanceof IDBTransaction&&function(e){if(!bo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));bo.set(e,t)}}(e),go(e,mo||(mo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Eo):e)}function To(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(To(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ko.set(t,e)})).catch((function(){})),xo.set(t,e),t}(e);if(_o.has(e))return _o.get(e);var t=So(e);return t!==e&&(_o.set(e,t),xo.set(t,e)),t}var Co=function(e){return xo.get(e)};var No,Ao,Po=["get","getKey","getAll","getAllKeys","count"],Ro=["put","add","delete","clear"],Oo=new Map;function Do(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Oo.get(t))return Oo.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ro.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Po.includes(n))){var a=function(){var e=eo(Ja().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Oo.set(t,a),a}}}Eo=function(e){return vo(vo({},e),{},{get:function(t,n,r){return Do(t,n)||e.get(t,n,r)},has:function(t,n){return!!Do(t,n)||e.has(t,n)}})}(Eo);var Lo=function(){function e(t){l(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Mo="@firebase/app",Fo="0.9.11",Uo=new ho("@firebase/app"),jo="[DEFAULT]",Vo=(ba(No={},Mo,"fire-core"),ba(No,"@firebase/app-compat","fire-core-compat"),ba(No,"@firebase/analytics","fire-analytics"),ba(No,"@firebase/analytics-compat","fire-analytics-compat"),ba(No,"@firebase/app-check","fire-app-check"),ba(No,"@firebase/app-check-compat","fire-app-check-compat"),ba(No,"@firebase/auth","fire-auth"),ba(No,"@firebase/auth-compat","fire-auth-compat"),ba(No,"@firebase/database","fire-rtdb"),ba(No,"@firebase/database-compat","fire-rtdb-compat"),ba(No,"@firebase/functions","fire-fn"),ba(No,"@firebase/functions-compat","fire-fn-compat"),ba(No,"@firebase/installations","fire-iid"),ba(No,"@firebase/installations-compat","fire-iid-compat"),ba(No,"@firebase/messaging","fire-fcm"),ba(No,"@firebase/messaging-compat","fire-fcm-compat"),ba(No,"@firebase/performance","fire-perf"),ba(No,"@firebase/performance-compat","fire-perf-compat"),ba(No,"@firebase/remote-config","fire-rc"),ba(No,"@firebase/remote-config-compat","fire-rc-compat"),ba(No,"@firebase/storage","fire-gcs"),ba(No,"@firebase/storage-compat","fire-gcs-compat"),ba(No,"@firebase/firestore","fire-fst"),ba(No,"@firebase/firestore-compat","fire-fst-compat"),ba(No,"fire-js","fire-js"),ba(No,"firebase","fire-js-all"),No),zo=new Map,Bo=new Map;function qo(e,t){try{e.container.addComponent(t)}catch(n){Uo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Go(e,t){e.container.addOrOverwriteComponent(t)}function Ko(e){var t=e.name;if(Bo.has(t))return Uo.debug("There were multiple attempts to register component ".concat(t,".")),!1;Bo.set(t,e);var n,r=S(zo.values());try{for(r.s();!(n=r.n()).done;){qo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ho(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Wo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jo;Ho(e,t).clearInstance(n)}function Qo(){Bo.clear()}var Yo=(ba(Ao={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),ba(Ao,"bad-app-name","Illegal App name: '{$appName}"),ba(Ao,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ba(Ao,"app-deleted","Firebase App named '{$appName}' already deleted"),ba(Ao,"no-options","Need to provide options, when not being deployed to hosting via source."),ba(Ao,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ba(Ao,"invalid-log-argument","First argument to `onLog` must be null or a function."),ba(Ao,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ba(Ao,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ba(Ao,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ba(Ao,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ao),$o=new ja("app","Firebase",Yo),Xo=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}]),e}(),Jo="9.22.1";function Zo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:jo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $o.create("bad-app-name",{appName:String(i)});if(n||(n=Na()),!n)throw $o.create("no-options");var a=zo.get(i);if(a){if(qa(n,a.options)&&qa(r,a.config))return a;throw $o.create("duplicate-app",{appName:i})}var o,u=new oo(i),s=S(Bo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Xo(n,r,u);return zo.set(i,l),l}function eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jo,t=zo.get(e);if(!t&&e===jo&&Na())return Zo();if(!t)throw $o.create("no-app",{appName:e});return t}function tu(){return Array.from(zo.values())}function nu(e){return ru.apply(this,arguments)}function ru(){return(ru=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!zo.has(n)){e.next=6;break}return zo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t,n){var r,i=null!==(r=Vo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Uo.warn(u.join(" "))}Ko(new to("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function au(e,t){if(null!==e&&"function"!==typeof e)throw $o.create("invalid-log-argument");!function(e,t){var n,r=S(uo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=so[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ao[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ou(e){var t;t=e,uo.forEach((function(e){e.setLogLevel(t)}))}var uu="firebase-heartbeat-database",su=1,cu="firebase-heartbeat-store",lu=null;function fu(){return lu||(lu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=To(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(To(u.result),e.oldVersion,e.newVersion,To(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(uu,su,{upgrade:function(e,t){if(0===t)e.createObjectStore(cu)}}).catch((function(e){throw $o.create("idb-open",{originalErrorMessage:e.message})}))),lu}function hu(e){return du.apply(this,arguments)}function du(){return du=eo(Ja().mark((function e(t){var n,r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fu();case 3:return n=e.sent,e.next=6,n.transaction(cu).objectStore(cu).get(mu(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Ua?Uo.warn(e.t0.message):(i=$o.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Uo.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return vu=eo(Ja().mark((function e(t,n){var r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fu();case 3:return r=e.sent,i=r.transaction(cu,"readwrite"),a=i.objectStore(cu),e.next=8,a.put(n,mu(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Ua?Uo.warn(e.t0.message):(o=$o.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Uo.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),vu.apply(this,arguments)}function mu(e){return"".concat(e.name,"!").concat(e.options.appId)}var yu=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new _u(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return p(e,[{key:"triggerHeartbeat",value:function(){var e=eo(Ja().mark((function e(){var t,n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=gu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=eo(Ja().mark((function e(){var t,n,r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=gu(),n=ku(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ea(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gu(){return(new Date).toISOString().substring(0,10)}function ku(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=S(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),xu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),xu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var bu,wu,_u=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return p(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,hu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(c(r.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function xu(e){return Ea(JSON.stringify({version:2,heartbeats:e})).length}bu="",Ko(new to("platform-logger",(function(e){return new Lo(e)}),"PRIVATE")),Ko(new to("heartbeat",(function(e){return new yu(e)}),"PRIVATE")),iu(Mo,Fo,bu),iu(Mo,Fo,"esm2017"),iu("fire-js","");var Eu=function(){function e(t,n){var r=this;l(this,e),this._delegate=t,this.firebase=n,qo(t,new to("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),nu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){qo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Go(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Iu=(ba(wu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ba(wu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),wu),Su=new ja("app-compat","Firebase",Iu);var Tu=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Zo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(za(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:iu,setLogLevel:ou,onLog:au,apps:null,SDK_VERSION:Jo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ko(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Su.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Sa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!za(n,e=e||jo))throw Su.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Eu);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Sa(n,e)},createSubscribe:Qa,ErrorFactory:ja,deepExtend:Sa}),n}(),Cu=new ho("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Cu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Nu=self.firebase.SDK_VERSION;Nu&&Nu.indexOf("LITE")>=0&&Cu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Au=Tu;!function(e){iu("@firebase/app-compat","0.2.11",e)}();Au.registerVersion("firebase","9.22.1","app-compat");Au.initializeApp({apiKey:"AIzaSyCJPuFruex_2YSNJXQIqxWeGC293nlcpgk",authDomain:"kai-social-platform.firebaseapp.com",projectId:"kai-social-platform",storageBucket:"kai-social-platform.appspot.com",messagingSenderId:"839649877323",appId:"1:839649877323:web:e96b1cdf814b5373551cce",measurementId:"G-50E1BC9RNL"});var Pu=Au;function Ru(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}var Ou=function(e,t){var n=-1,r=Er(e)?Array(e.length):[];return Ai(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var Du=function(e,t){return(Un(e)?fi:Ou)(e,Ci(t,3))};var Lu=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var Mu=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Fu=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var Uu=function(e,t){return t.length<2?e:gi(e,Fu(t,0,-1))};var ju=function(e,t,n){t=mi(t,e);var r=null==(e=Uu(e,t))?e:e[yi(Mu(t))];return null==r?void 0:Lu(r,e,n)},Vu=Math.max;var zu=function(e,t,n){return t=Vu(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Vu(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(o),Lu(e,this,u)}};var Bu=function(e){return function(){return e}},qu=function(){try{var e=en(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Gu=qu?function(e,t){return qu(e,"toString",{configurable:!0,enumerable:!1,value:Bu(t),writable:!0})}:Ei,Ku=Date.now;var Hu=function(e){var t=0,n=0;return function(){var r=Ku(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Wu=Hu(Gu);var Qu=function(e,t){return Wu(zu(e,t,Ei),e+"")},Yu=Qu(ju);var $u=function(e){return void 0===e},Xu=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(t=e.call.apply(e,[this].concat(r))||this).constructor,o=a.autoControlledProps,u=a.getAutoControlledStateFromProps,s=Yu(k(t),"getInitialAutoControlledState",t.props)||{},c=o.reduce((function(e,n){return e[n]=function(e,t,n,r){void 0===r&&(r=!1);var i,a=t[e];if(void 0!==a)return a;if(r){var o=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==o)return o;if(n){var u=n[e];if(void 0!==u)return u}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,s,!0),e}),{});return t.state=Xe({},s,c,{autoControlledProps:o,getAutoControlledStateFromProps:u}),t}return Ru(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!$u(e[n])&&(t[n]=e[n]),t}),{});if(r){var a=r(e,Xe({},t,i),t);return Xe({},i,a)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(_.Component);function Ju(e){var t=e.children,n=e.className,r=e.content,i=Ze("header",n),a=ct(Ju,e),o=lt(Ju,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}Ju.handledProps=["as","children","className","content"],Ju.propTypes={};var Zu=Ju;var es=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var ts=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),ns=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rs=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var is=function(e){return(e=vi(e))&&e.replace(ns,ts).replace(rs,"")},as=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var os=function(e){return e.match(as)||[]},us=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ss=function(e){return us.test(e)},cs="\\ud800-\\udfff",ls="\\u2700-\\u27bf",fs="a-z\\xdf-\\xf6\\xf8-\\xff",hs="A-Z\\xc0-\\xd6\\xd8-\\xde",ds="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ps="["+ds+"]",vs="\\d+",ms="["+ls+"]",ys="["+fs+"]",gs="[^"+cs+ds+vs+ls+fs+hs+"]",ks="(?:\\ud83c[\\udde6-\\uddff]){2}",bs="[\\ud800-\\udbff][\\udc00-\\udfff]",ws="["+hs+"]",_s="(?:"+ys+"|"+gs+")",xs="(?:"+ws+"|"+gs+")",Es="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Is="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ss="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Ts="[\\ufe0e\\ufe0f]?",Cs=Ts+Ss+("(?:\\u200d(?:"+["[^"+cs+"]",ks,bs].join("|")+")"+Ts+Ss+")*"),Ns="(?:"+[ms,ks,bs].join("|")+")"+Cs,As=RegExp([ws+"?"+ys+"+"+Es+"(?="+[ps,ws,"$"].join("|")+")",xs+"+"+Is+"(?="+[ps,ws+_s,"$"].join("|")+")",ws+"?"+_s+"+"+Es,ws+"+"+Is,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vs,Ns].join("|"),"g");var Ps=function(e){return e.match(As)||[]};var Rs=function(e,t,n){return e=vi(e),void 0===(t=n?void 0:t)?ss(e)?Ps(e):os(e):e.match(t)||[]},Os=RegExp("['\u2019]","g");var Ds=function(e){return function(t){return es(Rs(is(t).replace(Os,"")),e,"")}};var Ls=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Fu(e,t,n)},Ms=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Fs=function(e){return Ms.test(e)};var Us=function(e){return e.split("")},js="\\ud800-\\udfff",Vs="["+js+"]",zs="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Bs="\\ud83c[\\udffb-\\udfff]",qs="[^"+js+"]",Gs="(?:\\ud83c[\\udde6-\\uddff]){2}",Ks="[\\ud800-\\udbff][\\udc00-\\udfff]",Hs="(?:"+zs+"|"+Bs+")"+"?",Ws="[\\ufe0e\\ufe0f]?",Qs=Ws+Hs+("(?:\\u200d(?:"+[qs,Gs,Ks].join("|")+")"+Ws+Hs+")*"),Ys="(?:"+[qs+zs+"?",zs,Gs,Ks,Vs].join("|")+")",$s=RegExp(Bs+"(?="+Bs+")|"+Ys+Qs,"g");var Xs=function(e){return e.match($s)||[]};var Js=function(e){return Fs(e)?Xs(e):Us(e)};var Zs=function(e){return function(t){t=vi(t);var n=Fs(t)?Js(t):void 0,r=n?n[0]:t.charAt(0),i=n?Ls(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"),ec=Ds((function(e,t,n){return e+(n?" ":"")+Zs(t)}));function tc(e){var t=e.children,n=e.className,r=e.content,i=e.size,a=Ze(i,"icons",n),o=ct(tc,e),u=lt(tc,e);return _.createElement(u,Xe({},o,{className:a}),Di(t)?r:t)}tc.handledProps=["as","children","className","content","size"],tc.propTypes={},tc.defaultProps={as:"i"};var nc=tc,rc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():Yu(t.props,"onClick",e,t.props)},t}Ru(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return ia(n)?e["aria-hidden"]="true":e["aria-label"]=n,ia(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,r=e.circular,i=e.className,a=e.color,o=e.corner,u=e.disabled,s=e.fitted,c=e.flipped,l=e.inverted,f=e.link,h=e.loading,d=e.name,p=e.rotated,v=e.size,m=Ze(a,d,v,nt(n,"bordered"),nt(r,"circular"),nt(u,"disabled"),nt(s,"fitted"),nt(l,"inverted"),nt(f,"link"),nt(h,"loading"),it(o,"corner"),rt(c,"flipped"),rt(p,"rotated"),"icon",i),y=ct(t,this.props),g=lt(t,this.props),k=this.getIconAriaOptions();return _.createElement(g,Xe({},y,k,{className:m,onClick:this.handleClick}))},t}(_.PureComponent);rc.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],rc.propTypes={},rc.defaultProps={as:"i"},rc.Group=nc,rc.create=oa(rc,(function(e){return{name:e}}));var ic=rc,ac=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||Yu(t.props,"onClick",e,t.props)},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.color,o=e.content,u=e.disabled,s=e.fitted,c=e.header,l=e.icon,f=e.link,h=e.name,d=e.onClick,p=e.position,v=Ze(a,p,nt(n,"active"),nt(u,"disabled"),nt(!0===l||l&&!(h||o),"icon"),nt(c,"header"),nt(f,"link"),it(s,"fitted"),"item",i),m=lt(t,this.props,(function(){if(d)return"a"})),y=ct(t,this.props);return Di(r)?_.createElement(m,Xe({},y,{className:v,onClick:this.handleClick}),ic.create(l,{autoGenerateKey:!1}),Di(o)?ec(h):o):_.createElement(m,Xe({},y,{className:v,onClick:this.handleClick}),r)},t}(_.Component);function oc(e){var t=e.children,n=e.className,r=e.content,i=e.position,a=Ze(i,"menu",n),o=ct(oc,e),u=lt(oc,e);return _.createElement(u,Xe({},o,{className:a}),Di(t)?r:t)}ac.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],ac.propTypes={},ac.create=oa(ac,(function(e){return{content:e,name:e}})),oc.handledProps=["as","children","className","content","position"],oc.propTypes={};var uc=oc,sc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),Yu(e,"onClick",n,r),Yu(t.props,"onItemClick",n,r)}}},t}Ru(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return Du(t,(function(t,r){return ac.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,r=e.borderless,i=e.children,a=e.className,o=e.color,u=e.compact,s=e.fixed,c=e.floated,l=e.fluid,f=e.icon,h=e.inverted,d=e.pagination,p=e.pointing,v=e.secondary,m=e.size,y=e.stackable,g=e.tabular,k=e.text,b=e.vertical,w=e.widths,x=Ze("ui",o,m,nt(r,"borderless"),nt(u,"compact"),nt(l,"fluid"),nt(h,"inverted"),nt(d,"pagination"),nt(p,"pointing"),nt(v,"secondary"),nt(y,"stackable"),nt(k,"text"),nt(b,"vertical"),it(n,"attached"),it(c,"floated"),it(f,"icon"),it(g,"tabular"),rt(s,"fixed"),st(w,"item"),a,"menu"),E=ct(t,this.props),I=lt(t,this.props);return _.createElement(I,Xe({},E,{className:x}),Di(i)?this.renderItems():i)},t}(Xu);sc.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],sc.propTypes={},sc.autoControlledProps=["activeIndex"],sc.Header=Zu,sc.Item=ac,sc.Menu=uc,sc.create=oa(sc,(function(e){return{items:e}}));var cc=sc;function lc(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var fc=Object.prototype.hasOwnProperty;var hc=function(e){if(null==e)return!0;if(Er(e)&&(Un(e)||"string"==typeof e||"function"==typeof e.splice||rr(e)||vr(e)||Jn(e)))return!e.length;var t=Gr(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(kr(e))return!xr(e).length;for(var n in e)if(fc.call(e,n))return!1;return!0},dc=Rr&&new Rr,pc=dc?function(e,t){return dc.set(e,t),e}:Ei,vc=Object.create,mc=function(){function e(){}return function(t){if(!jt(t))return{};if(vc)return vc(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var yc=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=mc(e.prototype),r=e.apply(n,t);return jt(r)?r:n}};var gc=function(e,t,n){var r=1&t,i=yc(e);return function t(){return(this&&this!==Ct&&this instanceof t?i:e).apply(r?n:this,arguments)}},kc=Math.max;var bc=function(e,t,n,r){for(var i=-1,a=e.length,o=n.length,u=-1,s=t.length,c=kc(a-o,0),l=Array(s+c),f=!r;++u<s;)l[u]=t[u];for(;++i<o;)(f||i<a)&&(l[n[i]]=e[i]);for(;c--;)l[u++]=e[i++];return l},wc=Math.max;var _c=function(e,t,n,r){for(var i=-1,a=e.length,o=-1,u=n.length,s=-1,c=t.length,l=wc(a-u,0),f=Array(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++s<c;)f[d+s]=t[s];for(;++o<u;)(h||i<a)&&(f[d+n[o]]=e[i++]);return f};var xc=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var Ec=function(){};function Ic(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}Ic.prototype=mc(Ec.prototype),Ic.prototype.constructor=Ic;var Sc=Ic,Tc=dc?function(e){return dc.get(e)}:qi,Cc={},Nc=Object.prototype.hasOwnProperty;var Ac=function(e){for(var t=e.name+"",n=Cc[t],r=Nc.call(Cc,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t};function Pc(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Pc.prototype=mc(Ec.prototype),Pc.prototype.constructor=Pc;var Rc=Pc;var Oc=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Dc=function(e){if(e instanceof Sc)return e.clone();var t=new Rc(e.__wrapped__,e.__chain__);return t.__actions__=Oc(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},Lc=Object.prototype.hasOwnProperty;function Mc(e){if(Hn(e)&&!Un(e)&&!(e instanceof Sc)){if(e instanceof Rc)return e;if(Lc.call(e,"__wrapped__"))return Dc(e)}return new Rc(e)}Mc.prototype=Ec.prototype,Mc.prototype.constructor=Mc;var Fc=Mc;var Uc=function(e){var t=Ac(e),n=Fc[t];if("function"!=typeof n||!(t in Sc.prototype))return!1;if(e===n)return!0;var r=Tc(n);return!!r&&e===r[0]},jc=Hu(pc),Vc=/\{\n\/\* \[wrapped with (.+)\] \*/,zc=/,? & /;var Bc=function(e){var t=e.match(Vc);return t?t[1].split(zc):[]},qc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Gc=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(qc,"{\n/* [wrapped with "+t+"] */\n")};var Kc=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Hc=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Wc=function(e,t){return Kc(Hc,(function(n){var r="_."+n[0];t&n[1]&&!zi(e,r)&&e.push(r)})),e.sort()};var Qc=function(e,t,n){var r=t+"";return Wu(e,Gc(r,Wc(Bc(r),n)))};var Yc=function(e,t,n,r,i,a,o,u,s,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?a:void 0,l?o:void 0,l?void 0:a,l?void 0:o,u,s,c],h=n.apply(void 0,f);return Uc(e)&&jc(h,f),h.placeholder=r,Qc(h,e,t)};var $c=function(e){return e.placeholder},Xc=Math.min;var Jc=function(e,t){for(var n=e.length,r=Xc(t.length,n),i=Oc(e);r--;){var a=t[r];e[r]=ar(a,n)?i[a]:void 0}return e},Zc="__lodash_placeholder__";var el=function(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==Zc||(e[n]=Zc,a[i++]=n)}return a};var tl=function e(t,n,r,i,a,o,u,s,c,l){var f=128&n,h=1&n,d=2&n,p=24&n,v=512&n,m=d?void 0:yc(t);return function y(){for(var g=arguments.length,k=Array(g),b=g;b--;)k[b]=arguments[b];if(p)var w=$c(y),_=xc(k,w);if(i&&(k=bc(k,i,a,p)),o&&(k=_c(k,o,u,p)),g-=_,p&&g<l){var x=el(k,w);return Yc(t,n,e,y.placeholder,r,k,x,s,c,l-g)}var E=h?r:this,I=d?E[t]:t;return g=k.length,s?k=Jc(k,s):v&&g>1&&k.reverse(),f&&c<g&&(k.length=c),this&&this!==Ct&&this instanceof y&&(I=m||yc(I)),I.apply(E,k)}};var nl=function(e,t,n){var r=yc(e);return function i(){for(var a=arguments.length,o=Array(a),u=a,s=$c(i);u--;)o[u]=arguments[u];var c=a<3&&o[0]!==s&&o[a-1]!==s?[]:el(o,s);return(a-=c.length)<n?Yc(e,t,tl,i.placeholder,void 0,o,c,void 0,void 0,n-a):Lu(this&&this!==Ct&&this instanceof i?r:e,this,o)}};var rl=function(e,t,n,r){var i=1&t,a=yc(e);return function t(){for(var o=-1,u=arguments.length,s=-1,c=r.length,l=Array(c+u),f=this&&this!==Ct&&this instanceof t?a:e;++s<c;)l[s]=r[s];for(;u--;)l[s++]=arguments[++o];return Lu(f,i?n:this,l)}},il="__lodash_placeholder__",al=128,ol=Math.min;var ul=function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==al&&8==n||r==al&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var s=e[3];e[3]=s?bc(s,u,t[4]):u,e[4]=s?el(e[3],il):t[4]}return(u=t[5])&&(s=e[5],e[5]=s?_c(s,u,t[6]):u,e[6]=s?el(e[5],il):t[6]),(u=t[7])&&(e[7]=u),r&al&&(e[8]=null==e[8]?t[8]:ol(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},sl=/\s/;var cl=function(e){for(var t=e.length;t--&&sl.test(e.charAt(t)););return t},ll=/^\s+/;var fl=function(e){return e?e.slice(0,cl(e)+1).replace(ll,""):e},hl=/^[-+]0x[0-9a-f]+$/i,dl=/^0b[01]+$/i,pl=/^0o[0-7]+$/i,vl=parseInt;var ml=function(e){if("number"==typeof e)return e;if(ni(e))return NaN;if(jt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=jt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=fl(e);var n=dl.test(e);return n||pl.test(e)?vl(e.slice(2),n?2:8):hl.test(e)?NaN:+e},yl=1/0;var gl=function(e){return e?(e=ml(e))===yl||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var kl=function(e){var t=gl(e),n=t%1;return t===t?n?t-n:t:0},bl=Math.max;var wl=function(e,t,n,r,i,a,o,u){var s=2&t;if(!s&&"function"!=typeof e)throw new TypeError("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=i=void 0),o=void 0===o?o:bl(kl(o),0),u=void 0===u?u:kl(u),c-=i?i.length:0,64&t){var l=r,f=i;r=i=void 0}var h=s?void 0:Tc(e),d=[e,t,n,r,i,l,f,a,o,u];if(h&&ul(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(u=d[9]=void 0===d[9]?s?0:e.length:bl(d[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?nl(e,t,u):32!=t&&33!=t||i.length?tl.apply(void 0,d):rl(e,t,n,r);else var p=gc(e,t,n);return Qc((h?pc:jc)(p,d),e,t)},_l=Qu((function(e,t){var n=el(t,$c(_l));return wl(e,64,void 0,t,n)}));_l.placeholder={};var xl=_l,El=Math.max,Il=Math.min;var Sl=function(e,t,n){return e>=Il(t,n)&&e<El(t,n)};var Tl=function(e,t,n){return t=gl(t),void 0===n?(n=t,t=0):n=gl(n),e=ml(e),Sl(e,t,n)};var Cl=function(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n};var Nl=function(e,t,n){var r=Un(e)?es:Cl,i=arguments.length<3;return r(e,Ci(t,4),n,i,Ai)},Al=n(854),Pl=n.n(Al),Rl=n(613),Ol=n.n(Rl),Dl=n(775),Ll=n.n(Dl),Ml=Dl.instance,Fl="object"===typeof document&&null!==document,Ul="object"===typeof window&&null!==window&&window.self===window,jl=function e(){return ia(e.override)?Fl&&Ul:e.override};var Vl=function(e,t){return fi(t,(function(t){return e[t]}))};var zl=function(e){return null==e?[]:Vl(e,Ir(e))},Bl=Math.max;var ql=function(e,t,n,r){e=Er(e)?e:zl(e),n=n&&!r?kl(n):0;var i=e.length;return n<0&&(n=Bl(i+n,0)),na(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Vi(e,t,n)>-1};var Gl=function(e){return"function"==typeof e?e:Ei};var Kl=function(e,t){return(Un(e)?Kc:Ai)(e,Gl(t))},Hl=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],Wl=[].concat(Hl,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),Ql=["alt","height","src","srcSet","width","loading"],Yl=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?Wl:r,a=n.includeAria,o=void 0===a||a,u={},s={};return Kl(e,(function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(ql(i,t)||n?u:s)[t]=e})),[u,s]},$l=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},Xl=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")},Jl=n(33);var Zl=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}Ru(n,e);var r=n.prototype;return r.componentDidMount=function(){var e=t.findDOMNode(this);this.prevNode=e,$l(this.props.innerRef,e)},r.componentDidUpdate=function(e){var n=t.findDOMNode(this);this.prevNode!==n&&(this.prevNode=n,$l(this.props.innerRef,n)),e.innerRef!==this.props.innerRef&&$l(this.props.innerRef,n)},r.componentWillUnmount=function(){$l(this.props.innerRef,null),delete this.prevNode},r.render=function(){return this.props.children},n}(_.Component),ef=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;$l(r.ref,e),$l(i,e),t.currentNode=e},t}Ru(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&$l(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return _.cloneElement(e,{ref:this.handleRefOverride})},t}(_.Component),tf=["children","innerRef"],nf=function(e){var t=e.children,n=e.innerRef,r=lc(e,tf),i=_.Children.only(t),a=Jl.isForwardRef(i)?ef:Zl,o=i&&r&&Object.keys(r).length>0?_.cloneElement(i,r):i;return _.createElement(a,{innerRef:n},o)};var rf=function(e){return e&&e.length?e[0]:void 0},af=function(e,t){if(Oi([t,e],ia))return!1;if(t.target&&(Yu(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return Yu(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(Oi([n,r],ia))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var a=rf(i),o=a.top,u=a.bottom,s=a.left,c=a.right;return!Oi([o,u,s,c],ia)&&(Tl(r,o,u+.001)&&Tl(n,s,c+.001))},of=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){$l(t.props.innerRef,e)},t}Ru(n,e);var r=n.prototype;return r.componentDidMount=function(){Yu(this.props,"onMount",null,this.props)},r.componentWillUnmount=function(){Yu(this.props,"onUnmount",null,this.props)},r.render=function(){if(!jl())return null;var e=this.props,n=e.children,r=e.mountNode,i=void 0===r?document.body:r;return(0,t.createPortal)(_.createElement(nf,{innerRef:this.handleRef},n),i)},n}(_.Component);of.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],of.propTypes={};var uf=of,sf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).contentRef=_.createRef(),t.triggerRef=_.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||af(t.triggerRef.current,e)||r&&af(t.contentRef.current,r)||af(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&Pl().getCode(e)===Pl().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];Yu.apply(void 0,[r,"props.onBlur",e].concat(o));var s=e.relatedTarget||document.activeElement,c=Yu(t.contentRef.current,"contains",s);i&&!c&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,a=n.openOnTriggerClick,o=t.state.open,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];Yu.apply(void 0,[r,"props.onClick",e].concat(s)),o&&i?t.close(e):!o&&a&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];Yu.apply(void 0,[r,"props.onFocus",e].concat(o)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,a=n.mouseLeaveDelay,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];Yu.apply(void 0,[r,"props.onMouseLeave",e].concat(u)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,a))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,a=n.openOnTriggerMouseEnter,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];Yu.apply(void 0,[r,"props.onMouseEnter",e].concat(u)),a&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){Yu(t.props,"onOpen",e,Xe({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=Xe({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),Yu(t.props,"onClose",e,Xe({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=Xe({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){Yu(t.props,"onMount",null,t.props)},t.handleUnmount=function(){Yu(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,$l(t.props.triggerRef,e)},t}Ru(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,r=e.mountNode,i=e.trigger,a=this.state.open;return _.createElement(_.Fragment,null,a&&_.createElement(_.Fragment,null,_.createElement(uf,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},t),_.createElement(Ll(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),_.createElement(Ll(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),_.createElement(Ll(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),_.createElement(Ll(),{name:"click",on:this.handleDocumentClick,pool:n}),_.createElement(Ll(),{name:"keydown",on:this.handleEscape,pool:n})),i&&_.createElement(nf,{innerRef:this.handleTriggerRef},_.cloneElement(i,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(Xu);sf.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],sf.propTypes={},sf.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},sf.autoControlledProps=["open"],sf.Inner=uf;var cf=sf;function lf(e){var t=e.blurring,n=e.className,r=e.children,i=e.content,a=e.dimmed,o=Ze(nt(t,"blurring"),nt(a,"dimmed"),"dimmable",n),u=ct(lf,e),s=lt(lf,e);return _.createElement(s,Xe({},u,{className:o}),Di(r)?i:r)}lf.handledProps=["as","blurring","children","className","content","dimmed"],lf.propTypes={};var ff=lf,hf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).containerRef=(0,_.createRef)(),t.contentRef=(0,_.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;Yu(t.props,"onClick",e,t.props),n&&n!==e.target&&af(n,e)||Yu(t.props,"onClickOutside",e,t.props)},t}Ru(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.disabled,u=e.inverted,s=e.page,c=e.simple,l=e.verticalAlign,f=Ze("ui",nt(n,"active transition visible"),nt(o,"disabled"),nt(u,"inverted"),nt(s,"page"),nt(c,"simple"),ut(l),"dimmer",i),h=ct(t,this.props),d=lt(t,this.props),p=Di(r)?a:r;return _.createElement(nf,{innerRef:this.containerRef},_.createElement(d,Xe({},h,{className:f,onClick:this.handleClick}),p&&_.createElement("div",{className:"content",ref:this.contentRef},p)))},t}(_.Component);hf.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],hf.propTypes={};var df=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){jl()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){jl()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.page,i=ct(t,this.props);return r?_.createElement(cf,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},_.createElement(hf,Xe({},i,{active:n,page:r}))):_.createElement(hf,Xe({},i,{active:n,page:r}))},t}(_.Component);function pf(e){var t=e.children,n=e.className,r=e.content,i=e.size,a=Ze("ui",i,n,"images"),o=ct(pf,e),u=lt(pf,e);return _.createElement(u,Xe({},o,{className:a}),Di(t)?r:t)}df.handledProps=["active","page"],df.propTypes={},df.Dimmable=ff,df.Inner=hf,df.create=oa(df,(function(e){return{content:e}})),pf.handledProps=["as","children","className","content","size"],pf.propTypes={};var vf=pf;function mf(e){var t=e.avatar,n=e.bordered,r=e.centered,i=e.children,a=e.circular,o=e.className,u=e.content,s=e.dimmer,c=e.disabled,l=e.floated,f=e.fluid,h=e.hidden,d=e.href,p=e.inline,v=e.label,m=e.rounded,y=e.size,g=e.spaced,k=e.verticalAlign,b=e.wrapped,w=e.ui,x=Ze(nt(w,"ui"),y,nt(t,"avatar"),nt(n,"bordered"),nt(a,"circular"),nt(r,"centered"),nt(c,"disabled"),nt(f,"fluid"),nt(h,"hidden"),nt(p,"inline"),nt(m,"rounded"),it(g,"spaced"),rt(l,"floated"),ut(k),"image",o),E=ct(mf,e),I=Yl(E,{htmlProps:Ql}),S=I[0],T=I[1],C=lt(mf,e,(function(){if(!ia(s)||!ia(v)||!ia(b)||!Di(i))return"div"}));return Di(i)?Di(u)?"img"===C?_.createElement(C,Xe({},T,S,{className:x})):_.createElement(C,Xe({},T,{className:x,href:d}),df.create(s,{autoGenerateKey:!1}),_f.create(v,{autoGenerateKey:!1}),_.createElement("img",S)):_.createElement(C,Xe({},E,{className:x}),u):_.createElement(C,Xe({},E,{className:x}),i)}mf.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],mf.Group=vf,mf.propTypes={},mf.defaultProps={as:"img",ui:!0},mf.create=oa(mf,(function(e){return{src:e}}));var yf=mf;function gf(e){var t=e.children,n=e.className,r=e.content,i=Ze("detail",n),a=ct(gf,e),o=lt(gf,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}gf.handledProps=["as","children","className","content"],gf.propTypes={},gf.create=oa(gf,(function(e){return{content:e}}));var kf=gf;function bf(e){var t=e.children,n=e.circular,r=e.className,i=e.color,a=e.content,o=e.size,u=e.tag,s=Ze("ui",i,o,nt(n,"circular"),nt(u,"tag"),"labels",r),c=ct(bf,e),l=lt(bf,e);return _.createElement(l,Xe({},c,{className:s}),Di(t)?a:t)}bf.handledProps=["as","children","circular","className","color","content","size","tag"],bf.propTypes={};var wf=bf,_f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){Yu(e,"onClick",n),Yu(t.props,"onRemove",n,t.props)}}},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.attached,i=e.basic,a=e.children,o=e.circular,u=e.className,s=e.color,c=e.content,l=e.corner,f=e.detail,h=e.empty,d=e.floating,p=e.horizontal,v=e.icon,m=e.image,y=e.onRemove,g=e.pointing,k=e.prompt,b=e.removeIcon,w=e.ribbon,x=e.size,E=e.tag,I=Ze("ui",s,(!0===g?"pointing":("left"===g||"right"===g)&&g+" pointing")||("above"===g||"below"===g)&&"pointing "+g,x,nt(n,"active"),nt(i,"basic"),nt(o,"circular"),nt(h,"empty"),nt(d,"floating"),nt(p,"horizontal"),nt(!0===m,"image"),nt(k,"prompt"),nt(E,"tag"),it(l,"corner"),it(w,"ribbon"),rt(r,"attached"),"label",u),S=ct(t,this.props),T=lt(t,this.props);if(!Di(a))return _.createElement(T,Xe({},S,{className:I,onClick:this.handleClick}),a);var C=$u(b)?"delete":b;return _.createElement(T,Xe({className:I,onClick:this.handleClick},S),ic.create(v,{autoGenerateKey:!1}),"boolean"!==typeof m&&yf.create(m,{autoGenerateKey:!1}),c,kf.create(f,{autoGenerateKey:!1}),y&&ic.create(C,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(_.Component);function xf(e){var t=e.children,n=e.className,r=e.content,i=e.hidden,a=e.visible,o=Ze(nt(a,"visible"),nt(i,"hidden"),"content",n),u=ct(xf,e),s=lt(xf,e);return _.createElement(s,Xe({},u,{className:o}),Di(t)?r:t)}_f.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],_f.propTypes={},_f.Detail=kf,_f.Group=wf,_f.create=oa(_f,(function(e){return{content:e}})),xf.handledProps=["as","children","className","content","hidden","visible"],xf.propTypes={};var Ef=xf;function If(e){var t=e.attached,n=e.basic,r=e.buttons,i=e.children,a=e.className,o=e.color,u=e.compact,s=e.content,c=e.floated,l=e.fluid,f=e.icon,h=e.inverted,d=e.labeled,p=e.negative,v=e.positive,m=e.primary,y=e.secondary,g=e.size,k=e.toggle,b=e.vertical,w=e.widths,x=Ze("ui",o,g,nt(n,"basic"),nt(u,"compact"),nt(l,"fluid"),nt(f,"icon"),nt(h,"inverted"),nt(d,"labeled"),nt(p,"negative"),nt(v,"positive"),nt(m,"primary"),nt(y,"secondary"),nt(k,"toggle"),nt(b,"vertical"),it(t,"attached"),rt(c,"floated"),st(w),"buttons",a),E=ct(If,e),I=lt(If,e);return ia(r)?_.createElement(I,Xe({},E,{className:x}),Di(i)?s:i):_.createElement(I,Xe({},E,{className:x}),Du(r,(function(e){return Af.create(e)})))}If.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],If.propTypes={};var Sf=If;function Tf(e){var t=e.className,n=e.text,r=Ze("or",t),i=ct(Tf,e),a=lt(Tf,e);return _.createElement(a,Xe({},i,{className:r,"data-text":n}))}Tf.handledProps=["as","className","text"],Tf.propTypes={};var Cf=Tf,Nf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,_.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!ia(n)||!ia(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return ia(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(e){return Yu(t.ref.current,"focus",e)},t.handleClick=function(e){t.props.disabled?e.preventDefault():Yu(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,a=e.icon;return!0===a||a&&(n||Di(r)&&ia(i))},t}Ru(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return ia(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,r=e.animated,i=e.attached,a=e.basic,o=e.children,u=e.circular,s=e.className,c=e.color,l=e.compact,f=e.content,h=e.disabled,d=e.floated,p=e.fluid,v=e.icon,m=e.inverted,y=e.label,g=e.labelPosition,k=e.loading,b=e.negative,w=e.positive,x=e.primary,E=e.secondary,I=e.size,S=e.toggle,T=e.type,C=Ze(c,I,nt(n,"active"),nt(a,"basic"),nt(u,"circular"),nt(l,"compact"),nt(p,"fluid"),nt(this.hasIconClass(),"icon"),nt(m,"inverted"),nt(k,"loading"),nt(b,"negative"),nt(w,"positive"),nt(x,"primary"),nt(E,"secondary"),nt(S,"toggle"),it(r,"animated"),it(i,"attached")),N=Ze(it(g||!!y,"labeled")),A=Ze(nt(h,"disabled"),rt(d,"floated")),P=ct(t,this.props),R=lt(t,this.props,this.computeElementType),O=this.computeTabIndex(R);if(!ia(y)){var D=Ze("ui",C,"button",s),L=Ze("ui",N,"button",s,A),M=_f.create(y,{defaultProps:{basic:!0,pointing:"left"===g?"right":"left"},autoGenerateKey:!1});return _.createElement(R,Xe({},P,{className:L,onClick:this.handleClick}),"left"===g&&M,_.createElement(nf,{innerRef:this.ref},_.createElement("button",{className:D,"aria-pressed":S?!!n:void 0,disabled:h,type:T,tabIndex:O},ic.create(v,{autoGenerateKey:!1})," ",f)),("right"===g||!g)&&M)}var F=Ze("ui",C,A,N,"button",s),U=!Di(o),j=this.computeButtonAriaRole(R);return _.createElement(nf,{innerRef:this.ref},_.createElement(R,Xe({},P,{className:F,"aria-pressed":S?!!n:void 0,disabled:h&&"button"===R||void 0,onClick:this.handleClick,role:j,type:T,tabIndex:O}),U&&o,!U&&ic.create(v,{autoGenerateKey:!1}),!U&&f))},t}(_.Component);Nf.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Nf.propTypes={},Nf.defaultProps={as:"button"},Nf.Content=Ef,Nf.Group=Sf,Nf.Or=Cf,Nf.create=oa(Nf,(function(e){return{content:e}}));var Af=Nf,Pf=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).inputRef=(0,_.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return ia(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return ia(r)?t?-1:void 0:r},n.focus=function(e){return n.inputRef.current.focus(e)},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=ki(e,"target.value");Yu(n.props,"onChange",e,Xe({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return Xe({},t,e.props,{ref:function(t){$l(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,a=n.computeTabIndex(),o=ct(t,n.props),u=Yl(o),s=u[0],c=u[1];return[Xe({},s,{disabled:r,type:i,tabIndex:a,onChange:n.handleChange,ref:n.inputRef}),c]},n}return Ru(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.action,i=n.actionPosition,a=n.children,o=n.className,u=n.disabled,s=n.error,c=n.fluid,l=n.focus,f=n.icon,h=n.iconPosition,d=n.input,p=n.inverted,v=n.label,m=n.labelPosition,y=n.loading,g=n.size,k=n.transparent,b=n.type,w=Ze("ui",g,nt(u,"disabled"),nt(s,"error"),nt(c,"fluid"),nt(l,"focus"),nt(p,"inverted"),nt(y,"loading"),nt(k,"transparent"),rt(i,"action")||nt(r,"action"),rt(h,"icon")||nt(f||y,"icon"),rt(m,"labeled")||nt(v,"labeled"),"input",o),x=lt(t,this.props),E=this.partitionProps(),I=E[0],S=E[1];if(!Di(a)){var T=Du(_.Children.toArray(a),(function(t){return"input"!==t.type?t:(0,_.cloneElement)(t,e.handleChildOverrides(t,I))}));return _.createElement(x,Xe({},S,{className:w}),T)}var C=Af.create(r,{autoGenerateKey:!1}),N=_f.create(v,{defaultProps:{className:Ze("label",ql(m,"corner")&&m)},autoGenerateKey:!1});return _.createElement(x,Xe({},S,{className:w}),"left"===i&&C,"right"!==m&&N,sa(d||b,{defaultProps:I,autoGenerateKey:!1}),ic.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==i&&C,"right"===m&&N)},t}(_.Component);Pf.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],Pf.propTypes={},Pf.defaultProps={type:"text"},Pf.create=oa(Pf,(function(e){return{type:e}}));var Rf=Pf;function Of(e){var t=e.categoryContent,n=e.resultsContent;return _.createElement(_.Fragment,null,_.createElement("div",{className:"name"},t),_.createElement("div",{className:"results"},n))}Of.handledProps=["categoryContent","resultsContent"],Of.propTypes={};var Df=Of;function Lf(e){var t=e.active,n=e.children,r=e.className,i=e.content,a=e.layoutRenderer,o=e.renderer,u=Ze(nt(t,"active"),"category",r),s=ct(Lf,e),c=lt(Lf,e),l=o(e),f=Di(n)?i:n;return _.createElement(c,Xe({},s,{className:u}),a({categoryContent:l,resultsContent:f}))}Lf.handledProps=["active","as","children","className","content","layoutRenderer","name","renderer","results"],Lf.defaultProps={layoutRenderer:Df,renderer:function(e){return e.name}},Lf.propTypes={};var Mf=Lf,Ff=function(e){var t=e.image,n=e.price,r=e.title,i=e.description;return[t&&_.createElement("div",{key:"image",className:"image"},ua(t,{autoGenerateKey:!1})),_.createElement("div",{key:"content",className:"content"},n&&_.createElement("div",{className:"price"},n),r&&_.createElement("div",{className:"title"},r),i&&_.createElement("div",{className:"description"},i))]};Ff.handledProps=[];var Uf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.className,i=e.renderer,a=Ze(nt(n,"active"),"result",r),o=ct(t,this.props),u=lt(t,this.props);return _.createElement(u,Xe({},o,{className:a,onClick:this.handleClick}),i(this.props))},t}(_.Component);function jf(e){var t=e.children,n=e.className,r=e.content,i=Ze("results transition",n),a=ct(jf,e),o=lt(jf,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}Uf.handledProps=["active","as","className","content","description","id","image","onClick","price","renderer","title"],Uf.propTypes={},Uf.defaultProps={renderer:Ff},jf.handledProps=["as","children","className","content"],jf.propTypes={};var Vf=jf,zf=function(e){var t=e.input;return $u(t)?Xe({},e,{input:{className:"prompt"}}):ea(t)?Xe({},e,{input:Xe({},t,{className:Ze(t.className,"prompt")})}):e},Bf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleResultSelect=function(e,n){Yu(t.props,"onResultSelect",e,Xe({},t.props,{result:n}))},t.handleSelectionChange=function(e){var n=t.getSelectedResult();Yu(t.props,"onSelectionChange",e,Xe({},t.props,{result:n}))},t.closeOnEscape=function(e){Pl().getCode(e)===Pl().Escape&&(e.preventDefault(),t.close())},t.moveSelectionOnKeyDown=function(e){switch(Pl().getCode(e)){case Pl().ArrowDown:e.preventDefault(),t.moveSelectionBy(e,1);break;case Pl().ArrowUp:e.preventDefault(),t.moveSelectionBy(e,-1)}},t.selectItemOnEnter=function(e){if(Pl().getCode(e)===Pl().Enter){var n=t.getSelectedResult();n&&(e.preventDefault(),t.setValue(n.title),t.handleResultSelect(e,n),t.close())}},t.closeOnDocumentClick=function(e){t.close()},t.handleMouseDown=function(e){t.isMouseDown=!0,Yu(t.props,"onMouseDown",e,t.props),Ml.sub("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,Ml.unsub("mouseup",t.handleDocumentMouseUp)},t.handleInputClick=function(e){e.nativeEvent.stopImmediatePropagation(),t.tryOpen()},t.handleItemClick=function(e,n){var r=n.id,i=t.getSelectedResult(r);e.nativeEvent.stopImmediatePropagation(),t.setValue(i.title),t.handleResultSelect(e,i),t.close()},t.handleItemMouseDown=function(e){e.preventDefault()},t.handleFocus=function(e){Yu(t.props,"onFocus",e,t.props),t.setState({focus:!0})},t.handleBlur=function(e){Yu(t.props,"onBlur",e,t.props),t.setState({focus:!1})},t.handleSearchChange=function(e){e.stopPropagation();var n=t.props.minCharacters,r=t.state.open,i=e.target.value;Yu(t.props,"onSearchChange",e,Xe({},t.props,{value:i})),i.length<n?t.close():r||t.tryOpen(i),t.setValue(i)},t.getFlattenedResults=function(){var e=t.props,n=e.category,r=e.results;return n?Nl(r,(function(e,t){return e.concat(t.results)}),[]):r},t.getSelectedResult=function(e){void 0===e&&(e=t.state.selectedIndex);var n=t.getFlattenedResults();return ki(n,e)},t.setValue=function(e){var n=t.props.selectFirstResult;t.setState({value:e,selectedIndex:n?0:-1})},t.moveSelectionBy=function(e,n){var r=t.state.selectedIndex,i=t.getFlattenedResults().length-1,a=r+n;a>i?a=0:a<0&&(a=i),t.setState({selectedIndex:a}),t.scrollSelectedItemIntoView(),t.handleSelectionChange(e)},t.scrollSelectedItemIntoView=function(){if(jl()){var e=document.querySelector(".ui.search.active.visible .results.visible");if(e){var t=e.querySelector(".result.active");if(t){var n=t.offsetTop<e.scrollTop,r=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;n?e.scrollTop=t.offsetTop:r&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}},t.tryOpen=function(e){void 0===e&&(e=t.state.value);var n=t.props.minCharacters;e.length<n||t.open()},t.open=function(){t.setState({open:!0})},t.close=function(){t.setState({open:!1})},t.renderSearchInput=function(e){var n=t.props,r=n.icon,i=n.input,a=n.placeholder,o=t.state.value;return Rf.create(i,{autoGenerateKey:!1,defaultProps:Xe({},e,{autoComplete:"off",icon:r,onChange:t.handleSearchChange,onClick:t.handleInputClick,tabIndex:"0",value:o,placeholder:a}),overrideProps:zf})},t.renderNoResults=function(){var e=t.props,n=e.noResultsDescription,r=e.noResultsMessage;return _.createElement("div",{className:"message empty"},_.createElement("div",{className:"header"},r),n&&_.createElement("div",{className:"description"},n))},t.renderResult=function(e,n,r,i){var a=e.childKey,o=lc(e,["childKey"]);void 0===i&&(i=0);var u=t.props.resultRenderer,s=t.state.selectedIndex,c=n+i;return _.createElement(Uf,Xe({key:null!=a?a:o.id||o.title,active:s===c,onClick:t.handleItemClick,onMouseDown:t.handleItemMouseDown,renderer:u},o,{id:c}))},t.renderResults=function(){var e=t.props.results;return Du(e,t.renderResult)},t.renderCategories=function(){var e=t.props,n=e.categoryLayoutRenderer,r=e.categoryRenderer,i=e.results,a=t.state.selectedIndex,o=0;return Du(i,(function(e){var i=e.childKey,u=lc(e,["childKey"]),s=Xe({key:null!=i?i:u.name,active:Tl(a,o,o+u.results.length),layoutRenderer:n,renderer:r},u),c=xl(t.renderResult,o);return o+=u.results.length,_.createElement(Mf,s,u.results.map(c))}))},t.renderMenuContent=function(){var e=t.props,n=e.category,r=e.showNoResults,i=e.results;return hc(i)?r?t.renderNoResults():null:n?t.renderCategories():t.renderResults()},t.renderResultsMenu=function(){var e=t.state.open?"visible":"",n=t.renderMenuContent();if(n)return _.createElement(Vf,{className:e},n)},t}Ru(t,e),t.getAutoControlledStateFromProps=function(e,t){if("undefined"!==typeof t.prevValue&&Ol()(t.prevValue,t.value))return{prevValue:t.value};var n=e.selectFirstResult?0:-1;return{prevValue:t.value,selectedIndex:n}};var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!Ol()(e,this.props)||!Ol()(t,this.state)},n.componentDidUpdate=function(e,t){!t.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&Ml.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.focus&&!this.state.focus&&(this.isMouseDown||this.close(),Ml.unsub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])),!t.open&&this.state.open?(this.open(),Ml.sub("click",this.closeOnDocumentClick),Ml.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.open&&!this.state.open&&(this.close(),Ml.unsub("click",this.closeOnDocumentClick),Ml.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))},n.componentWillUnmount=function(){Ml.unsub("click",this.closeOnDocumentClick),Ml.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])},n.render=function(){var e=this.state,n=e.searchClasses,r=e.focus,i=e.open,a=this.props,o=a.aligned,u=a.category,s=a.className,c=a.fluid,l=a.loading,f=a.size,h=Ze("ui",i&&"active visible",f,n,nt(u,"category"),nt(r,"focus"),nt(c,"fluid"),nt(l,"loading"),rt(o,"aligned"),"search",s),d=ct(t,this.props),p=lt(t,this.props),v=Yl(d,{htmlProps:Hl}),m=v[0],y=v[1];return _.createElement(p,Xe({},y,{className:h,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(m),this.renderResultsMenu())},t}(Xu);Bf.handledProps=["aligned","as","category","categoryLayoutRenderer","categoryRenderer","className","defaultOpen","defaultValue","fluid","icon","input","loading","minCharacters","noResultsDescription","noResultsMessage","onBlur","onFocus","onMouseDown","onResultSelect","onSearchChange","onSelectionChange","open","placeholder","resultRenderer","results","selectFirstResult","showNoResults","size","value"],Bf.propTypes={},Bf.defaultProps={icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0},Bf.autoControlledProps=["open","value"],Bf.Category=Mf,Bf.Result=Uf,Bf.Results=Vf;var qf=n(880),Gf=n.n(qf)()("W4QGDLA9P1","9e9f69b862a5b89beeceaaa11f2b193e").initIndex("Socialplatform");var Kf=function(e){var t=e.user,n=be(),r=u(_.useState(""),2),i=r[0],a=r[1],o=u(_.useState([]),2),s=o[0],c=o[1];return(0,ga.jsxs)(cc,{children:[(0,ga.jsx)(cc.Item,{as:Qe,to:"/posts",children:"Social Platform"}),(0,ga.jsx)(cc.Item,{children:(0,ga.jsx)(Bf,{value:i,onSearchChange:function(e,t){var n=t.value;a(n),Gf.search(n).then((function(e){var t=e.hits.map((function(e){return{title:e.title,description:e.content,id:e.objectID}}));c(t)}))},results:s,noResultsMessage:"No posts found.",onResultSelect:function(e,t){var r=t.result;n("/posts/".concat(r.id))}})}),(0,ga.jsx)(cc.Menu,{position:"right",children:t?(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(cc.Item,{as:Qe,to:"/new-post",children:"Publish"}),(0,ga.jsx)(cc.Item,{as:Qe,to:"/my/posts",children:"Account"}),(0,ga.jsx)(cc.Item,{onClick:function(){return Pu.auth().signOut()},children:"Log out"})]}):(0,ga.jsx)(cc.Item,{as:Qe,to:"/signin",children:"Register/Login"})})]})};var Hf=function(e,t,n){"__proto__"==t&&qu?qu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Wf=Object.prototype.hasOwnProperty;var Qf=function(e,t,n){var r=e[t];Wf.call(e,t)&&dt(r,n)&&(void 0!==n||t in e)||Hf(e,t,n)};var Yf=function(e,t,n,r){if(!jt(e))return e;for(var i=-1,a=(t=mi(t,e)).length,o=a-1,u=e;null!=u&&++i<a;){var s=yi(t[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=o){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=jt(l)?l:ar(t[i+1])?[]:{})}Qf(u,s,c),u=u[s]}return e};var $f=function(e,t,n){return null==e?e:Yf(e,t,n)},Xf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=(0,_.createRef)(),t.labelRef=(0,_.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,a=t.state.checked;return!n&&!i&&!(r&&a)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return ia(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,a=r.indeterminate,o=Yu(t.inputRef.current,"contains",e.target),u=Yu(t.labelRef.current,"contains",e.target),s=!u&&!o,c=!ia(n);u&&c||Yu(t.props,"onClick",e,Xe({},t.props,{checked:!i,indeterminate:!!a})),t.isClickFromMouse&&(t.isClickFromMouse=!1,u&&!c&&t.handleChange(e),s&&t.handleChange(e),u&&c&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(Yu(t.props,"onChange",e,Xe({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;Yu(t.props,"onMouseDown",e,Xe({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||Yu(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,Yu(t.props,"onMouseUp",e,Xe({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;$f(t.inputRef,"current.indeterminate",!!e)},t}Ru(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,r=e.disabled,i=e.label,a=e.id,o=e.name,u=e.radio,s=e.readOnly,c=e.slider,l=e.toggle,f=e.type,h=e.value,d=this.state,p=d.checked,v=d.indeterminate,m=Ze("ui",nt(p,"checked"),nt(r,"disabled"),nt(v,"indeterminate"),nt(ia(i),"fitted"),nt(u,"radio"),nt(s,"read-only"),nt(c,"slider"),nt(l,"toggle"),"checkbox",n),y=ct(t,this.props),g=lt(t,this.props),k=Yl(y,{htmlProps:Hl}),b=k[0],w=k[1],x=ca(i,{defaultProps:{htmlFor:a},autoGenerateKey:!1})||_.createElement("label",{htmlFor:a});return _.createElement(g,Xe({},w,{className:m,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),_.createElement(nf,{innerRef:this.inputRef},_.createElement("input",Xe({},b,{checked:p,className:"hidden",disabled:r,id:a,name:o,readOnly:!0,tabIndex:this.computeTabIndex(),type:f,value:h}))),_.createElement(nf,{innerRef:this.labelRef},x))},t}(Xu);function Jf(e){var t=e.slider,n=e.toggle,r=e.type,i=ct(Jf,e),a=!(t||n)||void 0;return _.createElement(Xf,Xe({},i,{type:r,radio:a,slider:t,toggle:n}))}Xf.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],Xf.propTypes={},Xf.defaultProps={type:"checkbox"},Xf.autoControlledProps=["checked","indeterminate"],Jf.handledProps=["slider","toggle","type"],Jf.propTypes={},Jf.defaultProps={type:"radio"};var Zf=Jf;function eh(e){var t=e.children,n=e.className,r=e.content,i=e.control,a=e.disabled,o=e.error,u=e.inline,s=e.label,c=e.required,l=e.type,f=e.width,h=e.id,d=Ze(nt(a,"disabled"),nt(o,"error"),nt(u,"inline"),nt(c,"required"),st(f,"wide"),"field",n),p=ct(eh,e),v=lt(eh,e),m=ki(o,"pointing","above"),y=_f.create(o,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:m,id:h?h+"-error-message":void 0,role:"alert","aria-atomic":!0}}),g=("below"===m||"right"===m)&&y,k=("above"===m||"left"===m)&&y;if(ia(i))return ia(s)?_.createElement(v,Xe({},p,{className:d,id:h}),Di(t)?r:t):_.createElement(v,Xe({},p,{className:d,id:h}),g,ca(s,{autoGenerateKey:!1}),k);var b={"aria-describedby":h&&o?h+"-error-message":null,"aria-invalid":!!o||void 0},w=Xe({},p,{content:r,children:t,disabled:a,required:c,type:l,id:h});return"input"!==i||"checkbox"!==l&&"radio"!==l?i===Xf||i===Zf?_.createElement(v,{className:d},g,(0,_.createElement)(i,Xe({},b,w,{label:s})),k):_.createElement(v,{className:d},ca(s,{defaultProps:{htmlFor:h},autoGenerateKey:!1}),g,(0,_.createElement)(i,Xe({},b,w)),k):_.createElement(v,{className:d},_.createElement("label",null,g,(0,_.createElement)(i,Xe({},b,w))," ",s,k))}eh.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],eh.propTypes={};var th=eh;function nh(e){var t=e.control,n=ct(nh,e),r=lt(nh,e);return _.createElement(r,Xe({},n,{control:t}))}nh.handledProps=["as","control"],nh.propTypes={},nh.defaultProps={as:th,control:Af};var rh=nh;function ih(e){var t=e.control,n=ct(ih,e),r=lt(ih,e);return _.createElement(r,Xe({},n,{control:t}))}ih.handledProps=["as","control"],ih.propTypes={},ih.defaultProps={as:th,control:Xf};var ah=ih;var oh=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i};var uh=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};var sh=function(e,t){var n=!0;return Ai(e,(function(e,r,i){return n=!!t(e,r,i)})),n};var ch=function(e,t,n){var r=Un(e)?uh:sh;return n&&Ri(e,t,n)&&(t=void 0),r(e,Ci(t,3))};var lh=function(e,t,n,r){var i=-1,a=zi,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=fi(t,cr(n))),r?(a=Bi,o=!1):t.length>=200&&(a=Nn,o=!1,t=new Cn(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s};var fh=function(e){return Hn(e)&&Er(e)},hh=Qu((function(e,t){return fh(e)?lh(e,t):[]})),dh=hh;var ph=function(e){return function(t,n,r){var i=Object(t);if(!Er(t)){var a=Ci(n,3);t=Ir(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}},vh=Math.max;var mh=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:kl(n);return i<0&&(i=vh(r+i,0)),Fi(e,Ci(t,3),i)},yh=ph(mh);var gh=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:kl(t),Fu(e,0,(t=r-t)<0?0:t)):[]},kh=Ii("length"),bh="\\ud800-\\udfff",wh="["+bh+"]",_h="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",xh="\\ud83c[\\udffb-\\udfff]",Eh="[^"+bh+"]",Ih="(?:\\ud83c[\\udde6-\\uddff]){2}",Sh="[\\ud800-\\udbff][\\udc00-\\udfff]",Th="(?:"+_h+"|"+xh+")"+"?",Ch="[\\ufe0e\\ufe0f]?",Nh=Ch+Th+("(?:\\u200d(?:"+[Eh,Ih,Sh].join("|")+")"+Ch+Th+")*"),Ah="(?:"+[Eh+_h+"?",_h,Ih,Sh,wh].join("|")+")",Ph=RegExp(xh+"(?="+xh+")|"+Ah+Nh,"g");var Rh=function(e){for(var t=Ph.lastIndex=0;Ph.test(e);)++t;return t};var Oh=function(e){return Fs(e)?Rh(e):kh(e)};var Dh=function(e){if(null==e)return 0;if(Er(e))return na(e)?Oh(e):e.length;var t=Gr(e);return"[object Map]"==t||"[object Set]"==t?e.size:xr(e).length},Lh=Nt?Nt.isConcatSpreadable:void 0;var Mh=function(e){return Un(e)||Jn(e)||!!(Lh&&e&&e[Lh])};var Fh=function e(t,n,r,i,a){var o=-1,u=t.length;for(r||(r=Mh),a||(a=[]);++o<u;){var s=t[o];n>0&&r(s)?n>1?e(s,n-1,r,i,a):Fn(a,s):i||(a[a.length]=s)}return a},Uh=Qu((function(e,t){return fh(e)?lh(e,Fh(t,1,fh,!0)):[]})),jh=Uh,Vh=Qu((function(e){return Hi(Fh(e,1,fh,!0))}));var zh=function(e,t){return $r(e,t)};var Bh=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=gi(e,o);n(u,o)&&Yf(a,mi(o,e),u)}return a};var qh=function(e,t){return Bh(e,t,(function(t,n){return _i(e,n)}))};var Gh=function(e){return(null==e?0:e.length)?Fh(e,1):[]};var Kh=function(e){return Wu(zu(e,void 0,Gh),e+"")}((function(e,t){return null==e?{}:qh(e,t)})),Hh=function(e){function t(){return e.apply(this,arguments)||this}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.className,r=e.name,i=Ze(r,"flag",n),a=ct(t,this.props),o=lt(t,this.props);return _.createElement(o,Xe({},a,{className:i}))},t}(_.PureComponent);Hh.handledProps=["as","className","name"],Hh.propTypes={},Hh.defaultProps={as:"i"},Hh.create=oa(Hh,(function(e){return{name:e}}));var Wh=Hh;function Qh(e){var t=e.className,n=Ze("divider",t),r=ct(Qh,e),i=lt(Qh,e);return _.createElement(i,Xe({},r,{className:n}))}Qh.handledProps=["as","className"],Qh.propTypes={};var Yh=Qh,$h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){Yu(t.props,"onClick",e,t.props)},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.disabled,u=e.description,s=e.flag,c=e.icon,l=e.image,f=e.label,h=e.selected,d=e.text,p=Ze(nt(n,"active"),nt(o,"disabled"),nt(h,"selected"),"item",i),v=ia(c)?function(e,t){return Oi(_.Children.toArray(e),{type:t})}(r,"DropdownMenu")&&"dropdown":c,m=ct(t,this.props),y=lt(t,this.props),g={role:"option","aria-disabled":o,"aria-checked":n,"aria-selected":h};if(!Di(r))return _.createElement(y,Xe({},m,g,{className:p,onClick:this.handleClick}),r);var k=Wh.create(s,{autoGenerateKey:!1}),b=ic.create(v,{autoGenerateKey:!1}),w=yf.create(l,{autoGenerateKey:!1}),x=_f.create(f,{autoGenerateKey:!1}),E=aa("span",(function(e){return{children:e}}),u,{defaultProps:{className:"description"},autoGenerateKey:!1}),I=aa("span",(function(e){return{children:e}}),Di(a)?d:a,{defaultProps:{className:"text"},autoGenerateKey:!1});return _.createElement(y,Xe({},m,g,{className:p,onClick:this.handleClick}),w,b,k,x,E,I)},t}(_.Component);$h.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],$h.propTypes={},$h.create=oa($h,(function(e){return e}));var Xh=$h;function Jh(e){var t=e.children,n=e.className,r=e.content,i=e.icon,a=Ze("header",n),o=ct(Jh,e),u=lt(Jh,e);return Di(t)?_.createElement(u,Xe({},o,{className:a}),ic.create(i,{autoGenerateKey:!1}),r):_.createElement(u,Xe({},o,{className:a}),t)}Jh.handledProps=["as","children","className","content","icon"],Jh.propTypes={},Jh.create=oa(Jh,(function(e){return{content:e}}));var Zh=Jh;function ed(e){var t=e.children,n=e.className,r=e.content,i=e.direction,a=e.open,o=e.scrolling,u=Ze(i,nt(a,"visible"),nt(o,"scrolling"),"menu transition",n),s=ct(ed,e),c=lt(ed,e);return _.createElement(c,Xe({},s,{className:u}),Di(t)?r:t)}ed.handledProps=["as","children","className","content","direction","open","scrolling"],ed.propTypes={};var td=ed,nd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=ki(e,"target.value");Yu(t.props,"onChange",e,Xe({},t.props,{value:n}))},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,r=e.className,i=e.tabIndex,a=e.type,o=e.value,u=Ze("search",r),s=ct(t,this.props);return _.createElement("input",Xe({},s,{"aria-autocomplete":"list",autoComplete:n,className:u,onChange:this.handleChange,tabIndex:i,type:a,value:o}))},t}(_.Component);nd.handledProps=["as","autoComplete","className","tabIndex","type","value"],nd.propTypes={},nd.defaultProps={autoComplete:"off",type:"text"},nd.create=oa(nd,(function(e){return{type:e}}));var rd=nd;function id(e){var t=e.children,n=e.className,r=e.content,i=Ze("divider",n),a=ct(id,e),o=lt(id,e);return _.createElement(o,Xe({"aria-atomic":!0,"aria-live":"polite",role:"alert"},a,{className:i}),Di(t)?r:t)}id.handledProps=["as","children","className","content"],id.propTypes={},id.create=oa(id,(function(e){return{content:e}}));var ad=id,od=/[\\^$.*+?()[\]{}|]/g,ud=RegExp(od.source);var sd=function(e){return(e=vi(e))&&ud.test(e)?e.replace(od,"\\$&"):e};var cd=function(e,t){var n=[];return Ai(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};var ld=function(e,t){return(Un(e)?Vn:cd)(e,Ci(t,3))};function fd(e){var t=e.additionLabel,n=e.additionPosition,r=e.allowAdditions,i=e.deburr,a=e.multiple,o=e.options,u=e.search,s=e.searchQuery,c=e.value,l=o;if(a&&(l=ld(l,(function(e){return!ql(c,e.value)}))),u&&s)if(Vt(u))l=u(l,s);else{var f=i?is(s):s,h=new RegExp(sd(f),"i");l=ld(l,(function(e){return h.test(i?is(e.text):e.text)}))}if(r&&u&&s&&!Oi(l,{text:s})){var d={key:"addition",text:[_.isValidElement(t)?_.cloneElement(t,{key:"addition-label"}):t||"",_.createElement("b",{key:"addition-query"},s)],value:s,className:"addition","data-additional":!0};"top"===n?l.unshift(d):l.push(d)}return l}function hd(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,u=e.options,s=e.search,c=e.searchQuery,l=e.selectedIndex,f=e.value,h=fd({value:f,options:u,searchQuery:c,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:a,multiple:o,search:s}),d=Nl(h,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!l||l<0){var p=d[0];t=o?p:mh(h,["value",f])||d[0]}else if(o)t=yh(d,(function(e){return e>=l})),l>=h.length-1&&(t=d[d.length-1]);else{var v=mh(h,["value",f]);t=ql(d,v)?v:void 0}return(!t||t<0)&&(t=d[0]),t}fd.handledProps=[];var dd=function(e,t){return ia(e)?t:e},pd=function(e){return e?e.map((function(e){return Kh(e,["key","value"])})):e};function vd(e){var t=e.flag,n=e.image,r=e.text;return Vt(r)?r:{content:_.createElement(_.Fragment,null,Wh.create(t),yf.create(n),r)}}var md=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).searchRef=(0,_.createRef)(),t.sizerRef=(0,_.createRef)(),t.ref=(0,_.createRef)(),t.handleChange=function(e,n){Yu(t.props,"onChange",e,Xe({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;($u(r)?!i:r)&&t.close(e,qi)},t.closeOnEscape=function(e){t.props.closeOnEscape&&Pl().getCode(e)===Pl().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,a=r.selectOnNavigation;if(t.state.open){var o=((n={})[Pl().ArrowDown]=1,n[Pl().ArrowUp]=-1,n)[Pl().getCode(e)];if(void 0!==o){e.preventDefault();var u=t.getSelectedIndexAfterMove(o);!i&&a&&t.makeSelectedItemActive(e,u),t.setState({selectedIndex:u})}}},t.openOnSpace=function(e){var n,r,i,a=t.state.focus&&!t.state.open&&Pl().getCode(e)===Pl().Spacebar,o="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);a&&(o&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var a=Pl().getCode(e);a!==Pl().ArrowDown&&a!==Pl().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,a=r.value,o=t.props.multiple,u=t.getSelectedItem(n),s=ki(u,"value"),c=ki(u,"disabled");if(ia(s)||!i||c)return a;var l=o?Vh(a,[s]):s;return(o?!!jh(l,a).length:l!==a)&&(t.setState({value:l}),t.handleChange(e,l),u["data-additional"]&&Yu(t.props,"onAddItem",e,Xe({},t.props,{value:s}))),a},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,a=r.selectedIndex;if(i&&(Pl().getCode(e)===Pl().Enter||!n&&Pl().getCode(e)===Pl().Spacebar)){e.preventDefault();var o=Dh(fd({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==o){var u=t.makeSelectedItemActive(e,a);t.setState({selectedIndex:hd({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:a,value:u,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&Yu(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,a=t.state,o=a.searchQuery,u=a.value;if(Pl().getCode(e)===Pl().Backspace&&!o&&i&&r&&!hc(u)){e.preventDefault();var s=gh(u);t.setState({value:s}),t.handleChange(e,s)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&af(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,Yu(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,a=t.state,o=a.open,u=a.searchQuery;if(Yu(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);o?Yu(t.searchRef.current,"focus"):u.length>=r||1===r?t.open(e):Yu(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();Yu(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,a=r.search,o=t.state.value,u=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var s=n["data-additional"],c=i?Vh(t.state.value,[u]):u;(i?!!jh(c,o).length:c!==o)&&(t.setState({value:c}),t.handleChange(e,c)),t.clearSearchQuery(),Yu(a?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),s&&Yu(t.props,"onAddItem",e,Xe({},t.props,{value:u}))}},t.handleFocus=function(e){t.state.focus||(Yu(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=ki(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,a=r.multiple,o=r.selectOnBlur;t.isMouseDown||(Yu(t.props,"onBlur",e,t.props),o&&!a&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,a=t.state.open,o=r;Yu(t.props,"onSearchChange",e,Xe({},t.props,{searchQuery:o})),t.setState({searchQuery:o,selectedIndex:0}),!a&&o.length>=i?t.open():a&&1!==i&&o.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),Yu(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=fd({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return ki(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return yh(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,a=e.multiple,o={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=a),o},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),Yu(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=dh(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=fd({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!ch(r,"disabled")){var i=r.length-1,a=n+e;return!t.props.wrapSelection&&(a>i||a<0)?a=n:a>i?a=0:a<0&&(a=i),r[a].disabled?t.getSelectedIndexAfterMove(e,a):a}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:Ze(n&&t.hasValue()&&"clear",e.className),onClick:function(n){Yu(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return ia(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:ia(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){Yu(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!hc(n):!ia(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,a=n.top-r,o=i<0&&a>i;!o!==!t.state.upward&&t.setState({upward:o})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,a=r.search;i||(a&&Yu(t.searchRef.current,"focus"),Yu(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(Yu(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,a=n.search,o=n.text,u=t.state,s=u.searchQuery,c=u.selectedIndex,l=u.value,f=u.open,h=t.hasValue(),d=Ze(i&&!h&&"default","text",a&&s&&"filtered"),p=i;return o?p=o:f&&!r?e=t.getSelectedItem(c):h&&(e=t.getItemByValue(l)),ad.create(e?vd(e):p,{defaultProps:{className:d}})},t.renderSearchInput=function(){var e=t.props,n=e.search,r=e.searchInput,i=t.state.searchQuery;return n&&_.createElement(nf,{innerRef:t.searchRef},rd.create(r,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:i},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,r=e.multiple;return n&&r&&_.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,a=i.selectedLabel,o=i.value;if(n&&!hc(o)){var u=Du(o,t.getItemByValue);return Du(oh(u),(function(e,n){var i={active:e.value===a,as:"a",key:dd(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return _f.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,r=e.multiple,i=e.search,a=e.noResultsMessage,o=t.state,u=o.open,s=o.selectedIndex,c=o.value;if(n&&!u)return null;var l=fd({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==a&&i&&hc(l))return _.createElement("div",{className:"message"},a);var f=r?function(e){return ql(c,e)}:function(e){return e===c};return Du(l,(function(e,n){return Xh.create(Xe({active:f(e.value),selected:s===n},e,{key:dd(e.key,e.value),style:Xe({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,r=e.direction,i=e.header,a=t.state.open,o=t.getDropdownMenuAriaOptions();if(!Di(n)){var u=_.Children.only(n),s=Ze(r,nt(a,"visible"),u.props.className);return(0,_.cloneElement)(u,Xe({className:s},o))}return _.createElement(td,Xe({},o,{direction:r,open:a}),Zh.create(i,{autoGenerateKey:!1}),t.renderOptions())},t}Ru(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!Ol()(n.__value,t.value)||!zh(pd(e.options),pd(n.__options)))&&(r.selectedIndex=hd({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!Ol()(e,this.props)||!Ol()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,a=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var u=!o||o&&1===i&&!this.state.open;a&&u&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,r=e.button,i=e.className,a=e.compact,o=e.disabled,u=e.error,s=e.fluid,c=e.floating,l=e.icon,f=e.inline,h=e.item,d=e.labeled,p=e.loading,v=e.multiple,m=e.pointing,y=e.search,g=e.selection,k=e.scrolling,b=e.simple,w=e.trigger,x=this.state,E=x.focus,I=x.open,S=x.upward,T=Ze("ui",nt(I,"active visible"),nt(o,"disabled"),nt(u,"error"),nt(p,"loading"),nt(n,"basic"),nt(r,"button"),nt(a,"compact"),nt(s,"fluid"),nt(c,"floating"),nt(f,"inline"),nt(d,"labeled"),nt(h,"item"),nt(v,"multiple"),nt(y,"search"),nt(g,"selection"),nt(b,"simple"),nt(k,"scrolling"),nt(S,"upward"),it(m,"pointing"),"dropdown",i),C=ct(t,this.props),N=lt(t,this.props),A=this.getDropdownAriaOptions(N,this.props);return _.createElement(nf,{innerRef:this.ref},_.createElement(N,Xe({},C,A,{className:T,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),w||this.renderText(),ic.create(l,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),I&&_.createElement(Ll(),{name:"keydown",on:this.closeOnEscape}),I&&_.createElement(Ll(),{name:"click",on:this.closeOnDocumentClick}),E&&_.createElement(Ll(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(Xu);function yd(e){var t=e.control,n=ct(yd,e),r=lt(yd,e);return _.createElement(r,Xe({},n,{control:t}))}md.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],md.propTypes={},md.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:vd,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},md.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],md.Divider=Yh,md.Header=Zh,md.Item=Xh,md.Menu=td,md.SearchInput=rd,md.Text=ad,yd.handledProps=["as","control"],yd.propTypes={},yd.defaultProps={as:th,control:md};var gd=yd;function kd(e){var t=e.children,n=e.className,r=e.grouped,i=e.inline,a=e.unstackable,o=e.widths,u=Ze(nt(r,"grouped"),nt(i,"inline"),nt(a,"unstackable"),st(o,null,!0),"fields",n),s=ct(kd,e),c=lt(kd,e);return _.createElement(c,Xe({},s,{className:u}),t)}kd.handledProps=["as","children","className","grouped","inline","unstackable","widths"],kd.propTypes={};var bd=kd;function wd(e){var t=e.control,n=ct(wd,e),r=lt(wd,e);return _.createElement(r,Xe({},n,{control:t}))}wd.handledProps=["as","control"],wd.propTypes={},wd.defaultProps={as:th,control:Rf};var _d=wd;function xd(e){var t=e.control,n=ct(xd,e),r=lt(xd,e);return _.createElement(r,Xe({},n,{control:t}))}xd.handledProps=["as","control"],xd.propTypes={},xd.defaultProps={as:th,control:Zf};var Ed=xd;function Id(e){return _.createElement(md,Xe({},e,{selection:!0}))}Id.handledProps=["options"],Id.propTypes={},Id.Divider=md.Divider,Id.Header=md.Header,Id.Item=md.Item,Id.Menu=md.Menu;var Sd=Id;function Td(e){var t=e.control,n=e.options,r=ct(Td,e),i=lt(Td,e);return _.createElement(i,Xe({},r,{control:t,options:n}))}Td.handledProps=["as","control","options"],Td.propTypes={},Td.defaultProps={as:th,control:Sd};var Cd=Td,Nd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,_.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=ki(e,"target.value");Yu(t.props,"onChange",e,Xe({},t.props,{value:n}))},t.handleInput=function(e){var n=ki(e,"target.value");Yu(t.props,"onInput",e,Xe({},t.props,{value:n}))},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,r=e.value,i=ct(t,this.props),a=lt(t,this.props);return _.createElement(nf,{innerRef:this.ref},_.createElement(a,Xe({},i,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:r})))},t}(_.Component);Nd.handledProps=["as","onChange","onInput","rows","value"],Nd.propTypes={},Nd.defaultProps={as:"textarea",rows:3};var Ad=Nd;function Pd(e){var t=e.control,n=ct(Pd,e),r=lt(Pd,e);return _.createElement(r,Xe({},n,{control:t}))}Pd.handledProps=["as","control"],Pd.propTypes={},Pd.defaultProps={as:th,control:Ad};var Rd=Pd,Od=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&Yu(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Yu.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.action,r=e.children,i=e.className,a=e.error,o=e.inverted,u=e.loading,s=e.reply,c=e.size,l=e.success,f=e.unstackable,h=e.warning,d=e.widths,p=Ze("ui",c,nt(a,"error"),nt(o,"inverted"),nt(u,"loading"),nt(s,"reply"),nt(l,"success"),nt(f,"unstackable"),nt(h,"warning"),st(d,null,!0),"form",i),v=ct(t,this.props),m=lt(t,this.props);return _.createElement(m,Xe({},v,{action:n,className:p,onSubmit:this.handleSubmit}),r)},t}(_.Component);Od.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],Od.propTypes={},Od.defaultProps={as:"form"},Od.Field=th,Od.Button=rh,Od.Checkbox=ah,Od.Dropdown=gd,Od.Group=bd,Od.Input=_d,Od.Radio=Ed,Od.Select=Cd,Od.TextArea=Rd;var Dd=Od;function Ld(e){var t=e.children,n=e.className,r=e.content,i=Ze("content",n),a=ct(Ld,e),o=lt(Ld,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}Ld.handledProps=["as","children","className","content"],Ld.propTypes={};var Md=Ld;function Fd(e){var t=e.children,n=e.className,r=e.content,i=Ze("header",n),a=ct(Fd,e),o=lt(Fd,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}Fd.handledProps=["as","children","className","content"],Fd.propTypes={},Fd.create=oa(Fd,(function(e){return{content:e}}));var Ud=Fd;function jd(e){var t=e.children,n=e.className,r=e.content,i=Ze("content",n),a=ct(jd,e),o=lt(jd,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}jd.handledProps=["as","children","className","content"],jd.propTypes={},jd.defaultProps={as:"li"},jd.create=oa(jd,(function(e){return{content:e}}));var Vd=jd;function zd(e){var t=e.children,n=e.className,r=e.items,i=Ze("list",n),a=ct(zd,e),o=lt(zd,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?Du(r,Vd.create):t)}zd.handledProps=["as","children","className","items"],zd.propTypes={},zd.defaultProps={as:"ul"},zd.create=oa(zd,(function(e){return{items:e}}));var Bd=zd,qd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,r=e.children,i=e.className,a=e.color,o=e.compact,u=e.content,s=e.error,c=e.floating,l=e.header,f=e.hidden,h=e.icon,d=e.info,p=e.list,v=e.negative,m=e.onDismiss,y=e.positive,g=e.size,k=e.success,b=e.visible,w=e.warning,x=Ze("ui",a,g,nt(o,"compact"),nt(s,"error"),nt(c,"floating"),nt(f,"hidden"),nt(h,"icon"),nt(d,"info"),nt(v,"negative"),nt(y,"positive"),nt(k,"success"),nt(b,"visible"),nt(w,"warning"),it(n,"attached"),"message",i),E=m&&_.createElement(ic,{name:"close",onClick:this.handleDismiss}),I=ct(t,this.props),S=lt(t,this.props);return Di(r)?_.createElement(S,Xe({},I,{className:x}),E,ic.create(h,{autoGenerateKey:!1}),(!ia(l)||!ia(u)||!ia(p))&&_.createElement(Md,null,Ud.create(l,{autoGenerateKey:!1}),Bd.create(p,{autoGenerateKey:!1}),la(u,{autoGenerateKey:!1}))):_.createElement(S,Xe({},I,{className:x}),E,r)},t}(_.Component);function Gd(){return Gd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Gd.apply(this,arguments)}qd.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],qd.propTypes={},qd.Content=Md,qd.Header=Ud,qd.List=Bd,qd.Item=Vd;function Kd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var Hd,Wd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Qd="EMAIL_SIGNIN",Yd="PASSWORD_RESET",$d="RECOVER_EMAIL",Xd="REVERT_SECOND_FACTOR_ADDITION",Jd="VERIFY_AND_CHANGE_EMAIL",Zd="VERIFY_EMAIL";function ep(){return ba({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var tp=function(){var e;return ba(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ba(e,"argument-error",""),ba(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ba(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ba(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ba(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ba(e,"cordova-not-ready","Cordova framework is not ready."),ba(e,"cors-unsupported","This browser is not supported."),ba(e,"credential-already-in-use","This credential is already associated with a different user account."),ba(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ba(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ba(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ba(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ba(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ba(e,"email-already-in-use","The email address is already in use by another account."),ba(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ba(e,"expired-action-code","The action code has expired."),ba(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ba(e,"internal-error","An internal AuthError has occurred."),ba(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ba(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ba(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ba(e,"invalid-auth-event","An internal AuthError has occurred."),ba(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ba(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ba(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ba(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ba(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ba(e,"invalid-email","The email address is badly formatted."),ba(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ba(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ba(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ba(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ba(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ba(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ba(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ba(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ba(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ba(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ba(e,"wrong-password","The password is invalid or the user does not have a password."),ba(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ba(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ba(e,"invalid-provider-id","The specified provider ID is invalid."),ba(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ba(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ba(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ba(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ba(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ba(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ba(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ba(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ba(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ba(e,"missing-continue-uri","A continue URL must be provided in the request."),ba(e,"missing-iframe-start","An internal AuthError has occurred."),ba(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ba(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ba(e,"missing-password","A non-empty password must be provided"),ba(e,"missing-multi-factor-info","No second factor identifier is provided."),ba(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ba(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ba(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ba(e,"app-deleted","This instance of FirebaseApp has been deleted."),ba(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ba(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ba(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ba(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ba(e,"no-auth-event","An internal AuthError has occurred."),ba(e,"no-such-provider","User was not linked to an account with the given provider."),ba(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ba(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ba(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ba(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ba(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ba(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ba(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ba(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ba(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ba(e,"rejected-credential","The request contains malformed or mismatching credentials."),ba(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ba(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ba(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ba(e,"timeout","The operation has timed out."),ba(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ba(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ba(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ba(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ba(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ba(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ba(e,"unverified-email","The operation requires a verified email."),ba(e,"user-cancelled","The user did not grant your application the permissions it requested."),ba(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ba(e,"user-disabled","The user account has been disabled by an administrator."),ba(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ba(e,"user-signed-out",""),ba(e,"weak-password","The password must be 6 characters long or more."),ba(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ba(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),ba(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),ba(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),ba(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),ba(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),ba(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),ba(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),ba(e,"invalid-req-type","Invalid request parameters."),ba(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},np=ep,rp=new ja("auth","Firebase",ep()),ip=new ho("@firebase/auth");function ap(e){if(ip.logLevel<=ao.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ip.warn.apply(ip,["Auth (".concat(Jo,"): ").concat(e)].concat(n))}}function op(e){if(ip.logLevel<=ao.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ip.error.apply(ip,["Auth (".concat(Jo,"): ").concat(e)].concat(n))}}function up(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw fp.apply(void 0,[e].concat(n))}function sp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fp.apply(void 0,[e].concat(n))}function cp(e,t,n){var r=Object.assign(Object.assign({},np()),ba({},t,n));return new ja("auth","Firebase",r).create(t,{appName:e.name})}function lp(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&up(e,"argument-error"),cp(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function fp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=c(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(c(o)))}return rp.create.apply(rp,[e].concat(n))}function hp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw fp.apply(void 0,[t].concat(r))}}function dp(e){var t="INTERNAL ASSERTION FAILED: "+e;throw op(t),new Error(t)}function pp(e,t){e||dp(t)}function vp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mp(){return"http:"===yp()||"https:"===yp()}function yp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var gp=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,pp(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ra())||La()}return p(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mp()||Da()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function kp(e,t){pp(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var bp=function(){function e(){l(this,e)}return p(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void dp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void dp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void dp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),wp=(ba(Hd={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ba(Hd,"MISSING_CUSTOM_TOKEN","internal-error"),ba(Hd,"INVALID_IDENTIFIER","invalid-email"),ba(Hd,"MISSING_CONTINUE_URI","internal-error"),ba(Hd,"INVALID_PASSWORD","wrong-password"),ba(Hd,"MISSING_PASSWORD","missing-password"),ba(Hd,"EMAIL_EXISTS","email-already-in-use"),ba(Hd,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ba(Hd,"INVALID_IDP_RESPONSE","invalid-credential"),ba(Hd,"INVALID_PENDING_TOKEN","invalid-credential"),ba(Hd,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ba(Hd,"MISSING_REQ_TYPE","internal-error"),ba(Hd,"EMAIL_NOT_FOUND","user-not-found"),ba(Hd,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ba(Hd,"EXPIRED_OOB_CODE","expired-action-code"),ba(Hd,"INVALID_OOB_CODE","invalid-action-code"),ba(Hd,"MISSING_OOB_CODE","internal-error"),ba(Hd,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ba(Hd,"INVALID_ID_TOKEN","invalid-user-token"),ba(Hd,"TOKEN_EXPIRED","user-token-expired"),ba(Hd,"USER_NOT_FOUND","user-token-expired"),ba(Hd,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ba(Hd,"INVALID_CODE","invalid-verification-code"),ba(Hd,"INVALID_SESSION_INFO","invalid-verification-id"),ba(Hd,"INVALID_TEMPORARY_PROOF","invalid-credential"),ba(Hd,"MISSING_SESSION_INFO","missing-verification-id"),ba(Hd,"SESSION_EXPIRED","code-expired"),ba(Hd,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ba(Hd,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ba(Hd,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ba(Hd,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ba(Hd,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ba(Hd,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ba(Hd,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ba(Hd,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ba(Hd,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ba(Hd,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ba(Hd,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ba(Hd,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),ba(Hd,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),ba(Hd,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),ba(Hd,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),ba(Hd,"MISSING_CLIENT_TYPE","missing-client-type"),ba(Hd,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),ba(Hd,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),ba(Hd,"INVALID_REQ_TYPE","invalid-req-type"),Hd),_p=new gp(3e4,6e4);function xp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ep(e,t,n,r){return Ip.apply(this,arguments)}function Ip(){return Ip=eo(Ja().mark((function e(t,n,r,i){var a,o=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Sp(t,a,eo(Ja().mark((function e(){var a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ka(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",bp.fetch()(Ap(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Sp(e,t,n){return Tp.apply(this,arguments)}function Tp(){return Tp=eo(Ja().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},wp),n),e.prev=2,a=new Pp(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Rp(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Rp(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Rp(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Rp(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw cp(t,p,d);case 34:up(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ua)){e.next=41;break}throw e.t0;case 41:up(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Tp.apply(this,arguments)}function Cp(e,t,n,r){return Np.apply(this,arguments)}function Np(){return Np=eo(Ja().mark((function e(t,n,r,i){var a,o,u=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ep(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&up(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}function Ap(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?kp(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Pp=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(sp(n.auth,"network-request-failed"))}),_p.get())}))}return p(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Rp(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=sp(e,t,r);return i.customData._tokenResponse=n,i}function Op(e,t){return Dp.apply(this,arguments)}function Dp(){return(Dp=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lp(e,t){return Mp.apply(this,arguments)}function Mp(){return(Mp=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fp(e,t){return Up.apply(this,arguments)}function Up(){return(Up=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jp(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Vp(){return Vp=eo(Ja().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Xa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,hp((a=Bp(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:jp(zp(a.auth_time)),issuedAtTime:jp(zp(a.iat)),expirationTime:jp(zp(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}function zp(e){return 1e3*Number(e)}function Bp(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return op("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ia(r);return a?JSON.parse(a):(op("Failed to decode base64 JWT payload"),null)}catch(o){return op("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function qp(e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=eo(Ja().mark((function e(t,n){var r=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ua&&Kp(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Gp.apply(this,arguments)}function Kp(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Hp=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return p(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(eo(Ja().mark((function t(){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Wp=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return p(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=jp(this.lastLoginAt),this.creationTime=jp(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Qp(e){return Yp.apply(this,arguments)}function Yp(){return Yp=eo(Ja().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,qp(t,Fp(r,{idToken:i}));case 6:hp(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Kd(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Xp(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Wp(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Yp.apply(this,arguments)}function $p(){return($p=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xa(t),e.next=3,Qp(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xp(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(c(n),c(t))}function Jp(e,t){return Zp.apply(this,arguments)}function Zp(){return(Zp=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sp(t,{},eo(Ja().mark((function e(){var r,i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ka({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ap(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",bp.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ev=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return p(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){hp(e.idToken,"internal-error"),hp("undefined"!==typeof e.idToken,"internal-error"),hp("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Bp(e);return hp(t,"internal-error"),hp("undefined"!==typeof t.exp,"internal-error"),hp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=eo(Ja().mark((function e(t){var n,r=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],hp(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=eo(Ja().mark((function e(t,n){var r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jp(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return dp("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(hp("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(hp("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(hp("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function tv(e,t){hp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var nv=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Kd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?c(a.providerData):[],this.metadata=new Wp(a.createdAt||void 0,a.lastLoginAt||void 0)}return p(e,[{key:"getIdToken",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qp(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(hp(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Vp.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return $p.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(hp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){hp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=eo(Ja().mark((function e(t){var n,r,i=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Qp(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,qp(this,Op(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;hp(k&&x,t,"internal-error");var E=ev.fromJSON(this.name,x);hp("string"===typeof k,t,"internal-error"),tv(f,t.name),tv(h,t.name),hp("boolean"===typeof b,t,"internal-error"),hp("boolean"===typeof w,t,"internal-error"),tv(d,t.name),tv(p,t.name),tv(v,t.name),tv(m,t.name),tv(y,t.name),tv(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=eo(Ja().mark((function t(n,r){var i,a,o,u=arguments;return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ev).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Qp(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),rv=new Map;function iv(e){pp(e instanceof Function,"Expected a class definition");var t=rv.get(e);return t?(pp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rv.set(e,t),t)}var av=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return p(e,[{key:"_isAvailable",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();av.type="NONE";var ov=av;function uv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var sv=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=uv(this.userKey,a.apiKey,o),this.fullPersistenceKey=uv("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return p(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?nv._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=eo(Ja().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(iv(ov),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||iv(ov),u=uv(i,n.config.apiKey,n.name),s=null,c=S(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=nv._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function cv(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vv(t))return"Blackberry";if(mv(t))return"Webos";if(fv(t))return"Safari";if((t.includes("chrome/")||hv(t))&&!t.includes("edge/"))return"Chrome";if(pv(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function lv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/firefox\//i.test(e)}function fv(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/crios\//i.test(e)}function dv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/iemobile/i.test(e)}function pv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/android/i.test(e)}function vv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/blackberry/i.test(e)}function mv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/webos/i.test(e)}function yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return yv(e)||pv(e)||mv(e)||vv(e)||/windows phone/i.test(e)||dv(e)}function kv(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=cv(Ra());break;case"Worker":t="".concat(cv(Ra()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Jo,"/").concat(r)}function bv(e){return wv.apply(this,arguments)}function wv(){return(wv=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ep(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _v(e,t){return xv.apply(this,arguments)}function xv(){return(xv=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"GET","/v2/recaptchaConfig",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ev(e){return void 0!==e&&void 0!==e.getResponse}function Iv(e){return void 0!==e&&void 0!==e.enterprise}var Sv=p((function e(t){if(l(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Tv(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=sp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Cv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Nv=function(){function e(t){l(this,e),this.type="recaptcha-enterprise",this.auth=Dv(t)}return p(e,[{key:"verify",value:function(){var e=eo(Ja().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Iv(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=eo(Ja().mark((function e(n,r){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_v(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Sv(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Iv(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Tv("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Av(e,t,n){return Pv.apply(this,arguments)}function Pv(){return Pv=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Nv(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Pv.apply(this,arguments)}var Rv=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return p(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=eo(Ja().mark((function e(t){var n,r,i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=S(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=S(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ov=function(){function e(t,n,r,i){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new Rv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return p(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=iv(t)),this._initializationPromise=this.queue(eo(Ja().mark((function r(){var i,a;return Ja().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,sv.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=eo(Ja().mark((function e(t){var n,r,i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return hp(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qp(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Xa(t):null)&&hp(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=eo(Ja().mark((function e(t){var n,r=this,i=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&hp(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(eo(Ja().mark((function n(){return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(iv(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=eo(Ja().mark((function e(){var t,n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_v(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Sv(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Nv(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ja("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return hp(n=t&&iv(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,sv.create(this,[iv(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=eo(Ja().mark((function e(t){var n=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return hp(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return hp(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kv(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=eo(Ja().mark((function e(){var t,n,r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ba({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=eo(Ja().mark((function e(){var t,n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&ap("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dv(e){return Xa(e)}var Lv=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=Qa((function(e){return n.observer=e}))}return p(e,[{key:"next",get:function(){return hp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Mv(e,t,n){var r=Dv(e);hp(r._canInitEmulator,r,"emulator-config-failed"),hp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Fv(t),o=function(e){var t=Fv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Uv(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:Uv(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Fv(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Uv(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var jv=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return p(e,[{key:"toJSON",value:function(){return dp("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return dp("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return dp("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return dp("not implemented")}}]),e}();function Vv(e,t){return zv.apply(this,arguments)}function zv(){return(zv=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:resetPassword",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bv(e,t){return qv.apply(this,arguments)}function qv(){return(qv=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gv(e,t){return Kv.apply(this,arguments)}function Kv(){return(Kv=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:update",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hv(e,t){return Wv.apply(this,arguments)}function Wv(){return(Wv=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(t,"POST","/v1/accounts:signInWithPassword",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qv(e,t){return Yv.apply(this,arguments)}function Yv(){return(Yv=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:sendOobCode",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $v(e,t){return Xv.apply(this,arguments)}function Xv(){return(Xv=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qv(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jv(e,t){return Zv.apply(this,arguments)}function Zv(){return(Zv=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qv(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function em(e,t){return tm.apply(this,arguments)}function tm(){return(tm=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qv(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nm(e,t){return rm.apply(this,arguments)}function rm(){return(rm=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qv(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function im(e,t){return am.apply(this,arguments)}function am(){return(am=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(t,"POST","/v1/accounts:signInWithEmailLink",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function om(e,t){return um.apply(this,arguments)}function um(){return(um=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(t,"POST","/v1/accounts:signInWithEmailLink",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sm=function(e){m(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return p(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=eo(Ja().mark((function e(t){var n,r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Av(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Hv(t,i));case 11:return e.abrupt("return",Hv(t,r).catch(function(){var e=eo(Ja().mark((function e(n){var i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Av(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Hv(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",im(t,{email:this._email,oobCode:this._password}));case 13:up(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Bv(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",om(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:up(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(jv);function cm(e,t){return lm.apply(this,arguments)}function lm(){return(lm=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(t,"POST","/v1/accounts:signInWithIdp",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fm=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return p(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return cm(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,cm(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,cm(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ka(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):up("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Kd(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(jv);function hm(e,t){return dm.apply(this,arguments)}function dm(){return(dm=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:sendVerificationCode",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pm(){return(pm=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(t,"POST","/v1/accounts:signInWithPhoneNumber",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vm(){return(vm=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cp(t,"POST","/v1/accounts:signInWithPhoneNumber",xp(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Rp(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mm=ba({},"USER_NOT_FOUND","user-not-found");function ym(){return(ym=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Cp(t,"POST","/v1/accounts:signInWithPhoneNumber",xp(t,r),mm));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gm=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return pm.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return vm.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ym.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(jv);var km=function(){function e(t){var n,r,i,a,o,u;l(this,e);var s=Ha(Wa(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);hp(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return p(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ha(Wa(e)).link,n=t?Ha(Wa(t)).deep_link_id:null,r=Ha(Wa(e)).deep_link_id;return(r?Ha(Wa(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(HL){return null}}}]),e}();var bm=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return p(e,null,[{key:"credential",value:function(e,t){return sm._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=km.parseLink(t);return hp(n,"argument-error"),sm._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();bm.PROVIDER_ID="password",bm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var wm=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return p(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),_m=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return p(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return c(this.scopes)}}]),n}(wm),xm=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return hp(e.idToken||e.accessToken,"argument-error"),fm._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return hp("providerId"in t&&"signInMethod"in t,"argument-error"),fm._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(_m),Em=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"facebook.com")}return p(n,null,[{key:"credential",value:function(e){return fm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(HL){return null}}}]),n}(_m);Em.FACEBOOK_SIGN_IN_METHOD="facebook.com",Em.PROVIDER_ID="facebook.com";var Im=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return p(n,null,[{key:"credential",value:function(e,t){return fm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(HL){return null}}}]),n}(_m);Im.GOOGLE_SIGN_IN_METHOD="google.com",Im.PROVIDER_ID="google.com";var Sm=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"github.com")}return p(n,null,[{key:"credential",value:function(e){return fm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(HL){return null}}}]),n}(_m);Sm.GITHUB_SIGN_IN_METHOD="github.com",Sm.PROVIDER_ID="github.com";var Tm=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return p(n,[{key:"_getIdTokenResponse",value:function(e){return cm(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,cm(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,cm(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(jv),Cm=function(e){m(n,e);var t=b(n);function n(e){return l(this,n),hp(e.startsWith("saml."),"argument-error"),t.call(this,e)}return p(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Tm.fromJSON(e);return hp(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Tm._create(r,n)}catch(i){return null}}}]),n}(wm),Nm=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"twitter.com")}return p(n,null,[{key:"credential",value:function(e,t){return fm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(HL){return null}}}]),n}(_m);function Am(e,t){return Pm.apply(this,arguments)}function Pm(){return(Pm=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(t,"POST","/v1/accounts:signUp",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Nm.TWITTER_SIGN_IN_METHOD="twitter.com",Nm.PROVIDER_ID="twitter.com";var Rm=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return p(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=eo(Ja().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,nv._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Om(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=eo(Ja().mark((function t(n,r,i){var a;return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Om(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Om(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Dm(){return Dm=eo(Ja().mark((function e(t){var n,r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Rm({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Am(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Rm._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}var Lm=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o,u;return l(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(k(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return p(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ua);function Mm(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Lm._fromErrorAndOperation(e,n,t,r);throw n}))}function Fm(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Um(e,t){return jm.apply(this,arguments)}function jm(){return jm=eo(Ja().mark((function e(t,n){var r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,Bm(!0,r,n);case 3:return e.t0=Lp,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Fm(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),jm.apply(this,arguments)}function Vm(e,t){return zm.apply(this,arguments)}function zm(){return zm=eo(Ja().mark((function e(t,n){var r,i,a=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=qp,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Rm._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),zm.apply(this,arguments)}function Bm(e,t,n){return qm.apply(this,arguments)}function qm(){return(qm=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qp(n);case 2:i=Fm(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",hp(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gm(e,t){return Km.apply(this,arguments)}function Km(){return Km=eo(Ja().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,qp(t,Mm(i,a,n,t),r);case 6:return hp((o=e.sent).idToken,i,"internal-error"),hp(u=Bp(o.idToken),i,"internal-error"),s=u.sub,hp(t.uid===s,i,"user-mismatch"),e.abrupt("return",Rm._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&up(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Km.apply(this,arguments)}function Hm(e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=eo(Ja().mark((function e(t,n){var r,i,a,o,u=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Mm(t,i,n);case 4:return a=e.sent,e.next=7,Rm._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Qm(e,t){return Ym.apply(this,arguments)}function Ym(){return(Ym=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hm(Dv(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $m(e,t){return Xm.apply(this,arguments)}function Xm(){return(Xm=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,Bm(!1,r,n.providerId);case 3:return e.abrupt("return",Vm(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jm(e,t){return Zm.apply(this,arguments)}function Zm(){return(Zm=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gm(Xa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return(ty=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(t,"POST","/v1/accounts:signInWithCustomToken",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ny(){return(ny=eo(Ja().mark((function e(t,n){var r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dv(t),e.next=3,ey(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Rm._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ry=function(){function e(t,n){l(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return p(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?iy._fromServerResponse(e,t):"totpInfo"in t?ay._fromServerResponse(e,t):up(e,"internal-error")}}]),e}(),iy=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return p(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ry),ay=function(e){m(n,e);var t=b(n);function n(e){return l(this,n),t.call(this,"totp",e)}return p(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ry);function oy(e,t,n){var r;hp((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),hp("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(hp(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(hp(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function uy(){return uy=eo(Ja().mark((function e(t,n,r){var i,a,o,u;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Dv(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Av(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&oy(a,u,r),e.next=9,Jv(a,u);case 9:e.next=14;break;case 11:return r&&oy(a,o,r),e.next=14,Jv(a,o).catch(function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Av(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&oy(a,n,r),e.next=8,Jv(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function sy(){return(sy=eo(Ja().mark((function e(t,n,r){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vv(Xa(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cy(){return(cy=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gv(Xa(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return(fy=eo(Ja().mark((function e(t,n){var r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,Vv(r,{oobCode:n});case 3:i=e.sent,hp(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return hp(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:hp(i.mfaInfo,r,"internal-error");case 13:hp(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ry._fromServerResponse(Dv(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hy(){return(hy=eo(Ja().mark((function e(t,n){var r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ly(Xa(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dy(e,t,n){return py.apply(this,arguments)}function py(){return py=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s,c,l;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Dv(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Av(a,o,"signUpPassword");case 5:s=e.sent,u=Am(a,s),e.next=10;break;case 9:u=Am(a,o).catch(function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Av(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Am(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Rm._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),py.apply(this,arguments)}function vy(){return vy=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){hp(t.handleCodeInApp,a,"argument-error"),t&&oy(a,e,t)},a=Dv(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Av(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,em(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,em(a,o).catch(function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Av(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,em(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function my(){return(my=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),hp((a=bm.credentialWithLink(n,r||vp()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Qm(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yy(e,t){return gy.apply(this,arguments)}function gy(){return(gy=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:createAuthUri",xp(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ky(){return(ky=eo(Ja().mark((function e(t,n){var r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mp()?vp():"http://localhost",i={identifier:n,continueUri:r},e.next=4,yy(Xa(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function by(){return(by=eo(Ja().mark((function e(t,n){var r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&oy(r.auth,a,n),e.next=8,$v(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wy(){return(wy=eo(Ja().mark((function e(t,n,r){var i,a,o,u;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&oy(i.auth,o,r),e.next=8,nm(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _y(e,t){return xy.apply(this,arguments)}function xy(){return(xy=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ey(){return(Ey=eo(Ja().mark((function e(t,n){var r,i,a,o,u,s,c;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Xa(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,qp(a,_y(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iy(e,t,n){return Sy.apply(this,arguments)}function Sy(){return(Sy=eo(Ja().mark((function e(t,n,r){var i,a,o,u;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,qp(t,Bv(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ty=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Cy=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i)).username=a,o}return p(n)}(Ty),Ny=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"facebook.com",r)}return p(n)}(Ty),Ay=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return p(n)}(Cy),Py=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"google.com",r)}return p(n)}(Ty),Ry=function(e){m(n,e);var t=b(n);function n(e,r,i){return l(this,n),t.call(this,e,"twitter.com",r,i)}return p(n)}(Cy);function Oy(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Bp(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ty(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ny(a,i);case"github.com":return new Ay(a,i);case"google.com":return new Py(a,i);case"twitter.com":return new Ry(a,i,e.screenName||null);case"custom":case"anonymous":return new Ty(a,null);default:return new Ty(a,r,i)}}(n)}var Dy=function(){function e(t,n,r){l(this,e),this.type=t,this.credential=n,this.auth=r}return p(e,[{key:"toJSON",value:function(){return{multiFactorSession:ba({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ly=function(){function e(t,n,r){l(this,e),this.session=t,this.hints=n,this.signInResolver=r}return p(e,[{key:"resolveSignIn",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Dv(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ry._fromServerResponse(r,e)}));hp(i.mfaPendingCredential,r,"internal-error");var o=Dy._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=eo(Ja().mark((function e(t){var a,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Rm._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return hp(n.user,r,"internal-error"),e.abrupt("return",Rm._forOperation(n.user,n.operationType,u));case 17:up(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function My(e,t){return Ep(e,"POST","/v2/accounts/mfaEnrollment:start",xp(e,t))}function Fy(e,t){return Ep(e,"POST","/v2/accounts/mfaEnrollment:finalize",xp(e,t))}var Uy=function(){function e(t){var n=this;l(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ry._fromServerResponse(t.auth,e)})))}))}return p(e,[{key:"getSession",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Dy,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=eo(Ja().mark((function e(t,n){var r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,qp(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=eo(Ja().mark((function e(t){var n,r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,qp(this.user,Ep(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",xp(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),jy=new WeakMap;var Vy="__sak",zy=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return p(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Vy,"1"),this.storage.removeItem(Vy),Promise.resolve(!0)):Promise.resolve(!1)}catch(HL){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var By=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ra();return fv(e)||yv(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=gv(),e._shouldAllowMigration=!0,e}return p(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ma()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=eo(Ja().mark((function e(t,r){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gd(y(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=eo(Ja().mark((function e(t){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gd(y(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gd(y(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(zy);By.type="LOCAL";var qy=By,Gy=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return p(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(zy);Gy.type="SESSION";var Ky=Gy;function Hy(e){return Promise.all(e.map(function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Wy=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return p(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=eo(Ja().mark((function e(t){var n,r,i,a,o,u,s,c;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Hy(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Qy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Wy.receivers=[];var Yy=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return p(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=eo(Ja().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Qy("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function $y(){return window}function Xy(e){$y().location.href=e}function Jy(){return"undefined"!==typeof $y().WorkerGlobalScope&&"function"===typeof $y().importScripts}function Zy(){return eg.apply(this,arguments)}function eg(){return(eg=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function tg(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ng="firebaseLocalStorageDb",rg="firebaseLocalStorage",ig="fbase_key",ag=function(){function e(t){l(this,e),this.request=t}return p(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function og(e,t){return e.transaction([rg],t?"readwrite":"readonly").objectStore(rg)}function ug(){var e=indexedDB.deleteDatabase(ng);return new ag(e).toPromise()}function sg(){var e=indexedDB.open(ng,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(rg,{keyPath:ig})}catch(r){n(r)}})),e.addEventListener("success",eo(Ja().mark((function n(){var r;return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(rg)){n.next=12;break}return r.close(),n.next=5,ug();case 5:return n.t0=t,n.next=8,sg();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function cg(e,t,n){return lg.apply(this,arguments)}function lg(){return lg=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=og(t,!0).put((ba(i={},ig,n),ba(i,"value",r),i)),e.abrupt("return",new ag(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=eo(Ja().mark((function e(t,n){var r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=og(t,!1).get(n),e.next=3,new ag(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e,t){var n=og(e,!0).delete(t);return new ag(n).toPromise()}var pg=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return p(e,[{key:"_openDb",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,sg();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jy()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=eo(Ja().mark((function e(){var t=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Wy._getInstance(Jy()?self:null),this.receiver._subscribe("keyChanged",function(){var e=eo(Ja().mark((function e(n,r){var i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=eo(Ja().mark((function e(){var t,n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zy();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Yy(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&tg()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,sg();case 5:return t=e.sent,e.next=8,cg(t,Vy,"1");case 8:return e.next=10,dg(t,Vy);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=eo(Ja().mark((function e(t,n){var r=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return cg(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return fg(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=eo(Ja().mark((function e(t){var n=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return dg(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=eo(Ja().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=og(e,!1).getAll();return new ag(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=S(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(eo(Ja().mark((function t(){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();pg.type="LOCAL";var vg=pg;function mg(e,t){return Ep(e,"POST","/v2/accounts/mfaSignIn:start",xp(e,t))}function yg(e,t){return Ep(e,"POST","/v2/accounts/mfaSignIn:finalize",xp(e,t))}var gg=1e12,kg=function(){function e(t){l(this,e),this.auth=t,this.counter=gg,this._widgets=new Map}return p(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new bg(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||gg;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||gg;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||gg,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bg=function(){function e(t,n,r){var i=this;l(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;hp(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return p(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var wg=Cv("rcb"),_g=new gp(3e4,6e4),xg=function(){function e(){var t;l(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=$y().grecaptcha)||void 0===t?void 0:t.render)}return p(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return hp(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Ev($y().grecaptcha)?Promise.resolve($y().grecaptcha):new Promise((function(r,i){var a=$y().setTimeout((function(){i(sp(e,"network-request-failed"))}),_g.get());$y()[wg]=function(){$y().clearTimeout(a),delete $y()[wg];var o=$y().grecaptcha;if(o&&Ev(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(sp(e,"internal-error"))},Tv("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Ka({onload:wg,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(sp(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=$y().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Eg=function(){function e(){l(this,e)}return p(e,[{key:"load",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new kg(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ig="recaptcha",Sg={theme:"light",type:"image"},Tg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Sg),r=arguments.length>2?arguments[2]:void 0;l(this,e),this.parameters=n,this.type=Ig,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dv(r),this.isInvisible="invisible"===this.parameters.size,hp("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;hp(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eg:new xg,this.validateStartingState()}return p(e,[{key:"verify",value:function(){var e=eo(Ja().mark((function e(){var t,n,r,i=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){hp(!this.parameters.sitekey,this.auth,"argument-error"),hp(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),hp("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=$y()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){hp(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=eo(Ja().mark((function e(){var t,n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hp(mp()&&!Jy(),this.auth,"internal-error"),e.next=3,Cg();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,bv(this.auth);case 8:hp(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return hp(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Cg(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ng=function(){function e(t,n){l(this,e),this.verificationId=t,this.onConfirmation=n}return p(e,[{key:"confirm",value:function(e){var t=gm._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ag(){return(Ag=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dv(t),e.next=3,Dg(i,n,Xa(r));case 3:return a=e.sent,e.abrupt("return",new Ng(a,(function(e){return Qm(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pg(e,t,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),e.next=3,Bm(!1,i,"phone");case 3:return e.next=5,Dg(i.auth,n,Xa(r));case 5:return a=e.sent,e.abrupt("return",new Ng(a,(function(e){return $m(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Og(){return(Og=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),e.next=3,Dg(i.auth,n,Xa(r));case 3:return a=e.sent,e.abrupt("return",new Ng(a,(function(e){return Jm(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dg(e,t,n){return Lg.apply(this,arguments)}function Lg(){return Lg=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,hp("string"===typeof a,t,"argument-error"),hp(r.type===Ig,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return hp("enroll"===u.type,t,"internal-error"),e.next=13,My(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return hp("signin"===u.type,t,"internal-error"),hp(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,mg(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,hm(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Lg.apply(this,arguments)}function Mg(){return(Mg=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vm(Xa(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fg=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=Dv(t)}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return Dg(this.auth,e,Xa(t))}}],[{key:"credential",value:function(e,t){return gm._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?gm._fromTokenResponse(n,r):null}}]),e}();function Ug(e,t){return t?iv(t):(hp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Fg.PROVIDER_ID="phone",Fg.PHONE_SIGN_IN_METHOD="phone";var jg=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return cm(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return cm(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return cm(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(jv);function Vg(e){return Hm(e.auth,new jg(e),e.bypassAuthState)}function zg(e){var t=e.auth,n=e.user;return hp(n,t,"internal-error"),Gm(n,new jg(e),e.bypassAuthState)}function Bg(e){return qg.apply(this,arguments)}function qg(){return(qg=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,hp(r=t.user,n,"internal-error"),e.abrupt("return",Vm(r,new jg(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return p(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=eo(Ja().mark((function t(n,r){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=eo(Ja().mark((function e(t){var n,r,i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vg;case"linkViaPopup":case"linkViaRedirect":return Bg;case"reauthViaPopup":case"reauthViaRedirect":return zg;default:up(this.auth,"internal-error")}}},{key:"resolve",value:function(e){pp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){pp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Kg=new gp(2e3,1e4);function Hg(e,t,n){return Wg.apply(this,arguments)}function Wg(){return(Wg=eo(Ja().mark((function e(t,n,r){var i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dv(t),lp(t,n,wm),a=Ug(i,r),o=new Xg(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qg(){return(Qg=eo(Ja().mark((function e(t,n,r){var i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lp((i=Xa(t)).auth,n,wm),a=Ug(i.auth,r),o=new Xg(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yg(e,t,n){return $g.apply(this,arguments)}function $g(){return($g=eo(Ja().mark((function e(t,n,r){var i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lp((i=Xa(t)).auth,n,wm),a=Ug(i.auth,r),o=new Xg(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xg=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o){var u;return l(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=k(u),u}return p(n,[{key:"executeNotNull",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return hp(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=eo(Ja().mark((function e(){var t,n=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pp(1===this.filter.length,"Popup operations only handle one event"),t=Qy(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(sp(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(sp(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(sp(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Kg.get())}()}}]),n}(Gg);Xg.currentPopupAction=null;var Jg="pendingRedirect",Zg=new Map,ek=function(e){m(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return p(n,[{key:"execute",value:function(){var e=eo(Ja().mark((function e(){var t,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Zg.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,tk(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Gd(y(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Zg.set(this.auth._key(),t);case 21:return this.bypassAuthState||Zg.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=eo(Ja().mark((function e(t){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Gd(y(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Gd(y(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Gg);function tk(e,t){return nk.apply(this,arguments)}function nk(){return(nk=eo(Ja().mark((function e(t,n){var r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uk(n),i=ok(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rk(e,t){return ik.apply(this,arguments)}function ik(){return(ik=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ok(t)._set(uk(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ak(e,t){Zg.set(e._key(),t)}function ok(e){return iv(e._redirectPersistence)}function uk(e){return uv(Jg,e.config.apiKey,e.name)}function sk(e,t,n){return function(e,t,n){return ck.apply(this,arguments)}(e,t,n)}function ck(){return(ck=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dv(t),lp(t,n,wm),e.next=4,i._initializationPromise;case 4:return a=Ug(i,r),e.next=7,rk(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lk(e,t,n){return function(e,t,n){return fk.apply(this,arguments)}(e,t,n)}function fk(){return(fk=eo(Ja().mark((function e(t,n,r){var i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lp((i=Xa(t)).auth,n,wm),e.next=4,i.auth._initializationPromise;case 4:return a=Ug(i.auth,r),e.next=7,rk(a,i.auth);case 7:return e.next=9,gk(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hk(e,t,n){return function(e,t,n){return dk.apply(this,arguments)}(e,t,n)}function dk(){return(dk=eo(Ja().mark((function e(t,n,r){var i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lp((i=Xa(t)).auth,n,wm),e.next=4,i.auth._initializationPromise;case 4:return a=Ug(i.auth,r),e.next=7,Bm(!1,i,n.providerId);case 7:return e.next=9,rk(a,i.auth);case 9:return e.next=11,gk(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pk(e,t){return vk.apply(this,arguments)}function vk(){return(vk=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dv(t)._initializationPromise;case 2:return e.abrupt("return",mk(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mk(e,t){return yk.apply(this,arguments)}function yk(){return yk=eo(Ja().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Dv(t),a=Ug(i,n),o=new ek(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),yk.apply(this,arguments)}function gk(e){return kk.apply(this,arguments)}function kk(){return(kk=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qy("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bk=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return p(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _k(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!_k(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sp(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wk(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(wk(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function wk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function _k(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function xk(e){return Ek.apply(this,arguments)}function Ek(){return Ek=eo(Ja().mark((function e(t){var n,r=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ep(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ek.apply(this,arguments)}var Ik=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sk=/^https?/;function Tk(){return(Tk=eo(Ja().mark((function e(t){var n,r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,xk(t);case 4:n=e.sent,r=n.authorizedDomains,i=S(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ck(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:up(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Ck(e){var t=vp(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Sk.test(r))return!1;if(Ik.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Nk=new gp(3e4,6e4);function Ak(){var e=$y().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=c(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Pk=null;function Rk(e){return Pk=Pk||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ak(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ak(),n(sp(e,"network-request-failed"))},timeout:Nk.get()})}if(null===(i=null===(r=$y().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=$y().gapi)||void 0===a?void 0:a.load)){var u=Cv("iframefcb");return $y()[u]=function(){gapi.load?o():n(sp(e,"network-request-failed"))},Tv("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Pk=null,e}))}(e),Pk}var Ok=new gp(5e3,15e3),Dk="__/auth/iframe",Lk="emulator/auth/iframe",Mk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uk(e){var t=e.config;hp(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?kp(t,Lk):"https://".concat(e.config.authDomain,"/").concat(Dk),r={apiKey:t.apiKey,appName:e.name,v:Jo},i=Fk.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ka(r).slice(1))}function jk(e){return Vk.apply(this,arguments)}function Vk(){return Vk=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rk(t);case 2:return n=e.sent,hp(r=$y().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Uk(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mk,dontclear:!0},(function(e){return new Promise(function(){var n=eo(Ja().mark((function n(r,i){var a,o,u;return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){$y().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=sp(t,"network-request-failed"),o=$y().setTimeout((function(){i(a)}),Ok.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}var zk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bk=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return p(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function qk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},zk),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ra().toLowerCase();n&&(s=hv(l)?"_blank":n),lv(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return yv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Bk(null);var h=window.open(t||"",s,f);hp(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Bk(h)}var Gk="__/auth/handler",Kk="emulator/auth/handler",Hk=encodeURIComponent("fac");function Wk(e,t,n,r,i,a){return Qk.apply(this,arguments)}function Qk(){return(Qk=eo(Ja().mark((function e(t,n,r,i,a,o){var s,c,l,f,h,d,p,v,m,y,g,k,b;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hp(t.config.authDomain,t,"auth-domain-config-required"),hp(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Jo,eventId:a},n instanceof wm)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Ba(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(o||{});c<l.length;c++)f=u(l[c],2),h=f[0],d=f[1],s[h]=d;for(n instanceof _m&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(Hk,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Yk(t),"?").concat(Ka(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yk(e){var t=e.config;return t.emulator?kp(t,Kk):"https://".concat(t.authDomain,"/").concat(Gk)}var $k="webStorageSupport",Xk=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ky,this._completeRedirectFn=mk,this._overrideRedirectResult=ak}return p(e,[{key:"_openPopup",value:function(){var e=eo(Ja().mark((function e(t,n,r,i){var a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pp(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Wk(t,n,r,vp(),i);case 3:return o=e.sent,e.abrupt("return",qk(t,o,Qy()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=eo(Ja().mark((function e(t,n,r,i){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Wk(t,n,r,vp(),i);case 4:return Xy(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(pp(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jk(t);case 2:return n=e.sent,r=new bk(t),n.register("authEvent",(function(e){return hp(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send($k,{type:$k},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[$k];void 0!==i&&t(!!i),up(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Tk.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return gv()||fv()||yv()}}]),e}(),Jk=Xk,Zk=function(){function e(t){l(this,e),this.factorId=t}return p(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return dp("unexpected MultiFactorSessionType")}}}]),e}(),eb=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return p(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ep(e,"POST","/v2/accounts/mfaEnrollment:finalize",xp(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ep(e,"POST","/v2/accounts/mfaSignIn:finalize",xp(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Zk),tb=function(){function e(){l(this,e)}return p(e,null,[{key:"assertion",value:function(e){return eb._fromCredential(e)}}]),e}();tb.FACTOR_ID="phone";var nb=function(){function e(){l(this,e)}return p(e,null,[{key:"assertionForEnrollment",value:function(e,t){return rb._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return rb._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hp("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},Ep(i,"POST","/v2/accounts/mfaEnrollment:start",xp(i,a));case 4:return r=e.sent,e.abrupt("return",ib._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();nb.FACTOR_ID="totp";var rb=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return p(n,[{key:"_finalizeEnroll",value:function(){var e=eo(Ja().mark((function e(t,n,r){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hp("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Fy(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hp(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",yg(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Zk),ib=function(){function e(t,n,r,i,a,o,u){l(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return p(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(ab(e)||ab(t))&&(r=!0),r&&(ab(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),ab(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function ab(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var ob="@firebase/auth",ub="0.23.2",sb=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return p(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){hp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var cb;!function(e){var t;null===(t=Ca())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function lb(){return window}cb="Browser",Ko(new to("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;hp(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:cb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kv(cb)},l=new Ov(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(iv);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ko(new to("auth-internal",(function(e){return function(e){return new sb(e)}(Dv(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),iu(ob,ub,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(cb)),iu(ob,ub,"esm2017");var fb=2e3;function hb(e,t,n){return db.apply(this,arguments)}function db(){return db=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lb(),o=a.BuildInfo,pp(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,kb(n.sessionId);case 4:return u=e.sent,s={},yv()?s.ibi=o.packageName:pv()?s.apn=o.packageName:up(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Wk(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(){return(pb=eo(Ja().mark((function e(t){var n,r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lb(),r=n.BuildInfo,i={},yv()?i.iosBundleId=r.packageName:pv()?i.androidPackageName=r.packageName:up(t,"operation-not-supported-in-this-environment"),e.next=5,xk(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vb(e){var t=lb().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function mb(e,t,n){return yb.apply(this,arguments)}function yb(){return yb=eo(Ja().mark((function e(t,n,r){var i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lb(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(sp(t,"redirect-cancelled-by-user"))}),fb))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),pv()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),yb.apply(this,arguments)}function gb(e){var t,n,r,i,a,o,u,s,c,l,f=lb();hp("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),hp("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),hp("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hp("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hp("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function kb(e){return bb.apply(this,arguments)}function bb(){return(bb=eo(Ja().mark((function e(t){var n,r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wb(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wb(e){if(pp(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var _b=20,xb=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return p(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Gd(y(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(bk);function Eb(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Nb(),postBody:null,tenantId:e.tenantId,error:sp(e,"no-auth-event")}}function Ib(e,t){return Ab()._set(Pb(e),t)}function Sb(e){return Tb.apply(this,arguments)}function Tb(){return(Tb=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ab()._get(Pb(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ab()._remove(Pb(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cb(e,t){var n,r,i=function(e){var t=Rb(e),n=t.link?decodeURIComponent(t.link):void 0,r=Rb(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Rb(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Rb(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?sp(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Nb(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<_b;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Ab(){return iv(qy)}function Pb(e){return uv("authEvent",e.config.apiKey,e.name)}function Rb(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=I(e.split("?"));t[0];return Ha(t.slice(1).join("?"))}var Ob=function(){function e(){l(this,e),this._redirectPersistence=Ky,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mk,this._overrideRedirectResult=ak}return p(e,[{key:"_initialize",value:function(){var e=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new xb(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){up(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=eo(Ja().mark((function e(t,n,r,i){var a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gb(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Zg.clear(),e.next=10,this._originValidation(t);case 10:return o=Eb(t,r,i),e.next=13,Ib(t,o);case 13:return e.next=15,hb(t,o,n);case 15:return u=e.sent,e.next=18,vb(u);case 18:return s=e.sent,e.abrupt("return",mb(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pb.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=lb(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(eo(Ja().mark((function n(){return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sb(e);case 2:t.onEvent(Lb());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=eo(Ja().mark((function n(r){var i,a;return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Sb(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Cb(i,r.url)),t.onEvent(a||Lb());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");lb().handleOpenURL=function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Db=Ob;function Lb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:sp("no-auth-event")}}var Mb=1e3;function Fb(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return!("file:"!==Fb()&&"ionic:"!==Fb()&&"capacitor:"!==Fb()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function jb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return Ma()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/Edge\/\d+/.test(e)}(e)}function Vb(){try{var e=self.localStorage,t=Qy();if(e)return e.setItem(t,"1"),e.removeItem(t),!jb()||Fa()}catch(n){return zb()&&Fa()}return!1}function zb(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Bb(){return("http:"===Fb()||"https:"===Fb()||Da()||Ub())&&!(La()||Oa())&&Vb()&&!zb()}function qb(){return Ub()&&"undefined"!==typeof document}function Gb(){return Kb.apply(this,arguments)}function Kb(){return(Kb=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qb()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Mb);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hb={LOCAL:"local",NONE:"none",SESSION:"session"},Wb=hp,Qb="persistence";function Yb(e,t){Wb(Object.values(Hb).includes(t),e,"invalid-persistence-type"),La()?Wb(t!==Hb.SESSION,e,"unsupported-persistence-type"):Oa()?Wb(t===Hb.NONE,e,"unsupported-persistence-type"):zb()?Wb(t===Hb.NONE||t===Hb.LOCAL&&Fa(),e,"unsupported-persistence-type"):Wb(t===Hb.NONE||Vb(),e,"unsupported-persistence-type")}function $b(e){return Xb.apply(this,arguments)}function Xb(){return(Xb=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Jb(),r=uv(Qb,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jb(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Zb=hp,ew=function(){function e(){l(this,e),this.browserResolver=iv(Jk),this.cordovaResolver=iv(Db),this.underlyingResolver=null,this._redirectPersistence=Ky,this._completeRedirectFn=mk,this._overrideRedirectResult=ak}return p(e,[{key:"_initialize",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=eo(Ja().mark((function e(t,n,r,i){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=eo(Ja().mark((function e(t,n,r,i){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return qb()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Zb(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gb();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tw(e){return e.unwrap()}function nw(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new uw(e,function(e,t){var n,r=Xa(e),i=t;return hp(t.customData.operationType,r,"argument-error"),hp(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ly._fromError(r,i)}(e,t));else if(r){var i=rw(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function rw(e){var t=(e instanceof Ua?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ua)&&"temporaryProof"in t&&"phoneNumber"in t)return Fg.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Wd.PASSWORD)return null;switch(r){case Wd.GOOGLE:n=Im;break;case Wd.FACEBOOK:n=Em;break;case Wd.GITHUB:n=Sm;break;case Wd.TWITTER:n=Nm;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Tm._create(r,u):fm._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new xm(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ua?n.credentialFromError(e):n.credentialFromResult(e)}function iw(e,t){return t.catch((function(t){throw t instanceof Ua&&nw(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,rw(t)),additionalUserInfo:Oy(e),user:sw.getOrCreate(r)}}))}function aw(e,t){return ow.apply(this,arguments)}function ow(){return(ow=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return iw(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uw=function(){function e(t,n){l(this,e),this.resolver=n,this.auth=t.wrapped()}return p(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return iw(tw(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),sw=function(){function e(t){l(this,e),this._delegate=t,this.multiFactor=function(e){var t=Xa(e);return jy.has(t)||jy.set(t,Uy._fromUser(t)),jy.get(t)}(t)}return p(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iw(this.auth,$m(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aw(this.auth,Pg(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iw(this.auth,Yg(this._delegate,t,ew)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$b(Dv(this.auth));case 2:return e.abrupt("return",hk(this._delegate,t,ew));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iw(this.auth,Jm(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return aw(this.auth,function(e,t,n){return Og.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return iw(this.auth,function(e,t,n){return Qg.apply(this,arguments)}(this._delegate,e,ew))}},{key:"reauthenticateWithRedirect",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$b(Dv(this.auth));case 2:return e.abrupt("return",lk(this._delegate,t,ew));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return by.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Um(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Iy(Xa(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Iy(Xa(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Mg.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ey.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return wy.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();sw.USER_MAP=new WeakMap;var cw=hp,lw=function(){function e(t,n){if(l(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;cw(r,"invalid-api-key",{appName:t.name}),cw(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ew:void 0;this._delegate=n.initialize({options:{persistence:hw(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(tp),this.linkUnderlyingAuth()}return p(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?sw.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Mv(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return cy.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ly(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return sy.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iw(this._delegate,dy(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ky.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=km.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cw(Bb(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,pk(this._delegate,ew);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",iw(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Dv(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=fw(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=fw(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return vy.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return uy.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yb(this._delegate,t),e.t0=t,e.next=e.t0===Hb.SESSION?4:e.t0===Hb.LOCAL?6:e.t0===Hb.NONE?11:13;break;case 4:return n=Ky,e.abrupt("break",14);case 6:return e.next=8,iv(vg)._isAvailable();case 8:return r=e.sent,n=r?vg:qy,e.abrupt("break",14);case 11:return n=ov,e.abrupt("break",14);case 13:return e.abrupt("return",up("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return iw(this._delegate,function(e){return Dm.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return iw(this._delegate,Qm(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return iw(this._delegate,function(e,t){return ny.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return iw(this._delegate,function(e,t,n){return Qm(Xa(e),bm.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return iw(this._delegate,function(e,t,n){return my.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return aw(this._delegate,function(e,t,n){return Ag.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cw(Bb(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",iw(this._delegate,Hg(this._delegate,t,ew)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cw(Bb(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,$b(this._delegate);case 3:return e.abrupt("return",sk(this._delegate,t,ew));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return hy.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function fw(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&sw.getOrCreate(e))},error:t,complete:n}}function hw(e,t){var n=function(e,t){var n=Jb();if(!n)return[];var r=uv(Qb,e,t);switch(n.getItem(r)){case Hb.NONE:return[ov];case Hb.LOCAL:return[vg,Ky];case Hb.SESSION:return[Ky];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(vg)||n.push(vg),"undefined"!==typeof window)for(var r=0,i=[qy,Ky];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ov)||n.push(ov),n}lw.Persistence=Hb;var dw=function(){function e(){l(this,e),this.providerId="phone",this._delegate=new Fg(tw(Au.auth()))}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Fg.credential(e,t)}}]),e}();dw.PHONE_SIGN_IN_METHOD=Fg.PHONE_SIGN_IN_METHOD,dw.PROVIDER_ID=Fg.PROVIDER_ID;var pw,vw=hp,mw=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Au.app();l(this,e),vw(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Tg(t,n,i.auth()),this.type=this._delegate.type}return p(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(pw=Au).INTERNAL.registerComponent(new to("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new lw(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Qd,PASSWORD_RESET:Yd,RECOVER_EMAIL:$d,REVERT_SECOND_FACTOR_ADDITION:Xd,VERIFY_AND_CHANGE_EMAIL:Jd,VERIFY_EMAIL:Zd}},EmailAuthProvider:bm,FacebookAuthProvider:Em,GithubAuthProvider:Sm,GoogleAuthProvider:Im,OAuthProvider:xm,SAMLAuthProvider:Cm,PhoneAuthProvider:dw,PhoneMultiFactorGenerator:tb,RecaptchaVerifier:mw,TwitterAuthProvider:Nm,Auth:lw,AuthCredential:jv,Error:Ua}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pw.registerVersion("@firebase/auth-compat","0.4.2");var yw,gw="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},kw={},bw=bw||{},ww=gw||self;function _w(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xw(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ew="closure_uid_"+(1e9*Math.random()>>>0),Iw=0;function Sw(e,t,n){return e.call.apply(e.bind,arguments)}function Tw(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Cw(e,t,n){return(Cw=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sw:Tw).apply(null,arguments)}function Nw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Aw(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Pw(){this.s=this.s,this.o=this.o}Pw.prototype.s=!1,Pw.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ew)&&e[Ew]||(e[Ew]=++Iw))},Pw.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Rw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ow(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Dw(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(_w(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Lw(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Lw.prototype.h=function(){this.defaultPrevented=!0};var Mw=function(){if(!ww.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ww.addEventListener("test",(function(){}),t),ww.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Fw(e){return/^[\s\xa0]*$/.test(e)}function Uw(){var e=ww.navigator;return e&&(e=e.userAgent)?e:""}function jw(e){return-1!=Uw().indexOf(e)}function Vw(e){return Vw[" "](e),e}Vw[" "]=function(){};var zw,Bw,qw=jw("Opera"),Gw=jw("Trident")||jw("MSIE"),Kw=jw("Edge"),Hw=Kw||Gw,Ww=jw("Gecko")&&!(-1!=Uw().toLowerCase().indexOf("webkit")&&!jw("Edge"))&&!(jw("Trident")||jw("MSIE"))&&!jw("Edge"),Qw=-1!=Uw().toLowerCase().indexOf("webkit")&&!jw("Edge");function Yw(){var e=ww.document;return e?e.documentMode:void 0}e:{var $w="",Xw=function(){var e=Uw();return Ww?/rv:([^\);]+)(\)|;)/.exec(e):Kw?/Edge\/([\d\.]+)/.exec(e):Gw?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qw?/WebKit\/(\S+)/.exec(e):qw?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Xw&&($w=Xw?Xw[1]:""),Gw){var Jw=Yw();if(null!=Jw&&Jw>parseFloat($w)){zw=String(Jw);break e}}zw=$w}if(ww.document&&Gw){var Zw=Yw();Bw=Zw||(parseInt(zw,10)||void 0)}else Bw=void 0;var e_=Bw;function t_(e,t){if(Lw.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ww){e:{try{Vw(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:n_[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&t_.$.h.call(this)}}Aw(t_,Lw);var n_={2:"touch",3:"pen",4:"mouse"};t_.prototype.h=function(){t_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var r_="closure_listenable_"+(1e6*Math.random()|0),i_=0;function a_(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++i_,this.fa=this.ia=!1}function o_(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function u_(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function s_(e){var t={};for(var n in e)t[n]=e[n];return t}var c_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l_(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<c_.length;a++)n=c_[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function f_(e){this.src=e,this.g={},this.h=0}function h_(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Rw(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(o_(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function d_(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}f_.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=d_(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new a_(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var p_="closure_lm_"+(1e6*Math.random()|0),v_={};function m_(e,t,n,r,i){if(r&&r.once)return g_(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)m_(e,t[a],n,r,i);return null}return n=I_(n),e&&e[r_]?e.O(t,n,xw(r)?!!r.capture:!!r,i):y_(e,t,n,!1,r,i)}function y_(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=xw(i)?!!i.capture:!!i,u=x_(e);if(u||(e[p_]=u=new f_(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=__;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mw||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(w_(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function g_(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)g_(e,t[a],n,r,i);return null}return n=I_(n),e&&e[r_]?e.P(t,n,xw(r)?!!r.capture:!!r,i):y_(e,t,n,!0,r,i)}function k_(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)k_(e,t[a],n,r,i);else r=xw(r)?!!r.capture:!!r,n=I_(n),e&&e[r_]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=d_(a=e.g[t],n,r,i))&&(o_(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=x_(e))&&(t=e.g[t.toString()],e=-1,t&&(e=d_(t,n,r,i)),(n=-1<e?t[e]:null)&&b_(n))}function b_(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[r_])h_(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(w_(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=x_(t))?(h_(n,e),0==n.h&&(n.src=null,t[p_]=null)):o_(e)}}}function w_(e){return e in v_?v_[e]:v_[e]="on"+e}function __(e,t){if(e.fa)e=!0;else{t=new t_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&b_(e),e=n.call(r,t)}return e}function x_(e){return(e=e[p_])instanceof f_?e:null}var E_="__closure_events_fn_"+(1e9*Math.random()>>>0);function I_(e){return"function"===typeof e?e:(e[E_]||(e[E_]=function(t){return e.handleEvent(t)}),e[E_])}function S_(){Pw.call(this),this.i=new f_(this),this.S=this,this.J=null}function T_(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Lw(t,e);else if(t instanceof Lw)t.target=t.target||e;else{var i=t;l_(t=new Lw(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=C_(o,r,!0,t)&&i}if(i=C_(o=t.g=e,r,!0,t)&&i,i=C_(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=C_(o=t.g=n[a],r,!1,t)&&i}function C_(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&h_(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Aw(S_,Pw),S_.prototype[r_]=!0,S_.prototype.removeEventListener=function(e,t,n,r){k_(this,e,t,n,r)},S_.prototype.N=function(){if(S_.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)o_(n[r]);delete t.g[e],t.h--}}this.J=null},S_.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},S_.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var N_=ww.JSON.stringify,A_=function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function P_(){var e=j_,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var R_=function(){function e(){l(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=O_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),O_=new A_((function(){return new D_}),(function(e){return e.reset()})),D_=function(){function e(){l(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function L_(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function M_(e){ww.setTimeout((function(){throw e}),0)}var F_,U_=!1,j_=new R_,V_=function(){var e=ww.Promise.resolve(void 0);F_=function(){e.then(z_)}},z_=function(){for(var e;e=P_();){try{e.h.call(e.g)}catch(n){M_(n)}var t=O_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}U_=!1};function B_(e,t){S_.call(this),this.h=e||1,this.g=t||ww,this.j=Cw(this.qb,this),this.l=Date.now()}function q_(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function G_(e,t,n){if("function"===typeof e)n&&(e=Cw(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Cw(e.handleEvent,e)}return 2147483647<Number(t)?-1:ww.setTimeout(e,t||0)}function K_(e){e.g=G_((function(){e.g=null,e.i&&(e.i=!1,K_(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Aw(B_,S_),(yw=B_.prototype).ga=!1,yw.T=null,yw.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),T_(this,"tick"),this.ga&&(q_(this),this.start()))}},yw.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yw.N=function(){B_.$.N.call(this),q_(this),delete this.g};var H_=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:K_(this)}},{key:"N",value:function(){Gd(y(n.prototype),"N",this).call(this),this.g&&(ww.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Pw);function W_(e){Pw.call(this),this.h=e,this.g={}}Aw(W_,Pw);var Q_=[];function Y_(e,t,n,r){Array.isArray(n)||(n&&(Q_[0]=n.toString()),n=Q_);for(var i=0;i<n.length;i++){var a=m_(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $_(e){u_(e.g,(function(e,t){this.g.hasOwnProperty(t)&&b_(e)}),e),e.g={}}function X_(){this.g=!0}function J_(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return N_(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}W_.prototype.N=function(){W_.$.N.call(this),$_(this)},W_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},X_.prototype.Ea=function(){this.g=!1},X_.prototype.info=function(){};var Z_={},ex=null;function tx(){return ex=ex||new S_}function nx(e){Lw.call(this,Z_.Ta,e)}function rx(e){var t=tx();T_(t,new nx(t))}function ix(e,t){Lw.call(this,Z_.STAT_EVENT,e),this.stat=t}function ax(e){var t=tx();T_(t,new ix(t,e))}function ox(e,t){Lw.call(this,Z_.Ua,e),this.size=t}function ux(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ww.setTimeout((function(){e()}),t)}Z_.Ta="serverreachability",Aw(nx,Lw),Z_.STAT_EVENT="statevent",Aw(ix,Lw),Z_.Ua="timingevent",Aw(ox,Lw);var sx={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lx(){}function fx(e){return e.h||(e.h=e.i())}function hx(){}lx.prototype.h=null;var dx,px={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vx(){Lw.call(this,"d")}function mx(){Lw.call(this,"c")}function yx(){}function gx(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new W_(this),this.P=bx,e=Hw?125:void 0,this.V=new B_(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kx}function kx(){this.i=null,this.g="",this.h=!1}Aw(vx,Lw),Aw(mx,Lw),Aw(yx,lx),yx.prototype.g=function(){return new XMLHttpRequest},yx.prototype.i=function(){return{}},dx=new yx;var bx=45e3,wx={},_x={};function xx(e,t,n){e.L=1,e.v=Bx(Fx(t)),e.s=n,e.S=!0,Ex(e,null)}function Ex(e,t){e.G=Date.now(),Cx(e),e.A=Fx(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),tE(n.i,"t",r),e.C=0,n=e.l.J,e.h=new kx,e.g=nI(e.l,n?t:null,!e.s),0<e.O&&(e.M=new H_(Cw(e.Pa,e,e.g),e.O)),Y_(e.U,e.g,"readystatechange",e.nb),t=e.I?s_(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),rx(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ix(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Sx(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Tx(e,n))==_x){4==t&&(e.o=4,ax(14),i=!1),J_(e.j,e.m,null,"[Incomplete Response]");break}if(r==wx){e.o=4,ax(15),J_(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}J_(e.j,e.m,r,null),Ox(e,r)}Ix(e)&&r!=_x&&r!=wx&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ax(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),QE(t),t.M=!0,ax(11))):(J_(e.j,e.m,n,"[Invalid Chunked Response]"),Rx(e),Px(e))}function Tx(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_x:(n=Number(t.substring(n,r)),isNaN(n)?wx:(r+=1)+n>t.length?_x:(t=t.slice(r,r+n),e.C=r+n,t))}function Cx(e){e.Y=Date.now()+e.P,Nx(e,e.P)}function Nx(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ux(Cw(e.lb,e),t)}function Ax(e){e.B&&(ww.clearTimeout(e.B),e.B=null)}function Px(e){0==e.l.H||e.J||XE(e.l,e)}function Rx(e){Ax(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,q_(e.V),$_(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ox(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||sE(n.i,e)))if(!e.K&&sE(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;$E(n),VE(n)}WE(n),ax(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ux(Cw(n.ib,n),6e3));if(1>=uE(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else ZE(n,11)}else if((e.K||n.g==e)&&$E(n),!Fw(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(cE(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,zx(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=tI(r,r.J?r.pa:null,r.Y),d.K){lE(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Ax(p),Cx(p)),r.g=d}else HE(r);0<n.j.length&&BE(n)}else"stop"!=a[0]&&"close"!=a[0]||ZE(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ZE(n,7):jE(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}rx()}catch(a){}}function Dx(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(_w(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(_w(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(_w(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(yw=gx.prototype).setTimeout=function(e){this.P=e},yw.nb=function(e){e=e.target;var t=this.M;t&&3==OE(e)?t.l():this.Pa(e)},yw.Pa=function(e){try{if(e==this.g)e:{var t=OE(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Hw||this.g&&(this.h.h||this.g.ja()||DE(this.g)))){this.J||4!=t||7==n||rx(),Ax(this);var r=this.g.da();this.ca=r;t:if(Ix(this)){var i=DE(this.g);e="";var a=i.length,o=4==OE(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rx(this),Px(this);var u="";break t}this.h.i=new ww.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fw(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ax(12),Rx(this),Px(this);break e}J_(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ox(this,r)}this.S?(Sx(this,t,u),Hw&&this.i&&3==t&&(Y_(this.U,this.V,"tick",this.mb),this.V.start())):(J_(this.j,this.m,u,null),Ox(this,u)),4==t&&Rx(this),this.i&&!this.J&&(4==t?XE(this.l,this):(this.i=!1,Cx(this)))}else(function(e){var t={};e=(e.g&&2<=OE(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Fw(e[n])){var r=L_(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,ax(12)):(this.o=0,ax(13)),Rx(this),Px(this)}}}catch(t){}},yw.mb=function(){if(this.g){var e=OE(this.g),t=this.g.ja();this.C<t.length&&(Ax(this),Sx(this,e,t),this.i&&4!=e&&Cx(this))}},yw.cancel=function(){this.J=!0,Rx(this)},yw.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(rx(),ax(17)),Rx(this),this.o=2,Px(this)):Nx(this,this.Y-e)};var Lx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mx(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Mx){this.h=e.h,Ux(this,e.j),this.s=e.s,this.g=e.g,jx(this,e.m),this.l=e.l;var t=e.i,n=new Xx;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Vx(this,n),this.o=e.o}else e&&(t=String(e).match(Lx))?(this.h=!1,Ux(this,t[1]||"",!0),this.s=qx(t[2]||""),this.g=qx(t[3]||"",!0),jx(this,t[4]),this.l=qx(t[5]||"",!0),Vx(this,t[6]||"",!0),this.o=qx(t[7]||"")):(this.h=!1,this.i=new Xx(null,this.h))}function Fx(e){return new Mx(e)}function Ux(e,t,n){e.j=n?qx(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vx(e,t,n){t instanceof Xx?(e.i=t,function(e,t){t&&!e.j&&(Jx(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zx(this,t),tE(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Gx(t,Yx)),e.i=new Xx(t,e.h))}function zx(e,t,n){e.i.set(t,n)}function Bx(e){return zx(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qx(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gx(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kx(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mx.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gx(t,Hx,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gx(t,Hx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gx(n,"/"==n.charAt(0)?Qx:Wx,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gx(n,$x)),e.join("")};var Hx=/[#\/\?@]/g,Wx=/[#\?:]/g,Qx=/[#\?]/g,Yx=/[#\?@]/g,$x=/#/g;function Xx(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jx(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zx(e,t){Jx(e),t=nE(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function eE(e,t){return Jx(e),t=nE(e,t),e.g.has(t)}function tE(e,t,n){Zx(e,t),0<n.length&&(e.i=null,e.g.set(nE(e,t),Ow(n)),e.h+=n.length)}function nE(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(yw=Xx.prototype).add=function(e,t){Jx(this),this.i=null,e=nE(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},yw.forEach=function(e,t){Jx(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},yw.ta=function(){Jx(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},yw.Z=function(e){Jx(this);var t=[];if("string"===typeof e)eE(this,e)&&(t=t.concat(this.g.get(nE(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},yw.set=function(e,t){return Jx(this),this.i=null,eE(this,e=nE(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},yw.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},yw.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var rE=p((function e(t,n){l(this,e),this.g=t,this.map=n}));function iE(e){this.l=e||aE,ww.PerformanceNavigationTiming?e=0<(e=ww.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ww.g&&ww.g.Ka&&ww.g.Ka()&&ww.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aE=10;function oE(e){return!!e.h||!!e.g&&e.g.size>=e.j}function uE(e){return e.h?1:e.g?e.g.size:0}function sE(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cE(e,t){e.g?e.g.add(t):e.h=t}function lE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fE(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=S(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Ow(e.i)}iE.prototype.cancel=function(){if(this.i=fE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=S(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var hE,dE=function(){function e(){l(this,e)}return p(e,[{key:"stringify",value:function(e){return ww.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return ww.JSON.parse(e,void 0)}}]),e}();function pE(){this.g=new dE}function vE(e,t,n){var r=n||"";try{Dx(e,(function(e,n){var i=e;xw(e)&&(i=N_(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mE(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function yE(e){this.l=e.fc||null,this.j=e.ob||!1}function gE(e,t){S_.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=kE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Aw(yE,lx),yE.prototype.g=function(){return new gE(this.l,this.j)},yE.prototype.i=(hE={},function(){return hE}),Aw(gE,S_);var kE=0;function bE(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function wE(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_E(e)}function _E(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(yw=gE.prototype).open=function(e,t){if(this.readyState!=kE)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_E(this)},yw.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ww).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},yw.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wE(this)),this.readyState=kE},yw.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_E(this)),this.g&&(this.readyState=3,_E(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ww.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bE(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},yw.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wE(this):_E(this),3==this.readyState&&bE(this)}},yw.Za=function(e){this.g&&(this.response=this.responseText=e,wE(this))},yw.Ya=function(e){this.g&&(this.response=e,wE(this))},yw.ka=function(){this.g&&wE(this)},yw.setRequestHeader=function(e,t){this.v.append(e,t)},yw.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},yw.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(gE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xE=ww.JSON.parse;function EE(e){S_.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=IE,this.L=this.M=!1}Aw(EE,S_);var IE="",SE=/^https?$/i,TE=["POST","PUT"];function CE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,NE(e),PE(e)}function NE(e){e.F||(e.F=!0,T_(e,"complete"),T_(e,"error"))}function AE(e){if(e.h&&"undefined"!=typeof bw&&(!e.C[1]||4!=OE(e)||2!=e.da()))if(e.v&&4==OE(e))G_(e.La,0,e);else if(T_(e,"readystatechange"),4==OE(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Lx)[1]||null;!a&&ww.self&&ww.self.location&&(a=ww.self.location.protocol.slice(0,-1)),i=!SE.test(a?a.toLowerCase():"")}t=i}if(t)T_(e,"complete"),T_(e,"success");else{e.m=6;try{var o=2<OE(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",NE(e)}}finally{PE(e)}}}function PE(e,t){if(e.g){RE(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||T_(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function RE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ww.clearTimeout(e.A),e.A=null)}function OE(e){return e.g?e.g.readyState:0}function DE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case IE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jI){return null}}function LE(e){var t="";return u_(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ME(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LE(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zx(e,t,n))}function FE(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function UE(e){this.Ga=0,this.j=[],this.l=new X_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=FE("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=FE("baseRetryDelayMs",5e3,e),this.hb=FE("retryDelaySeedMs",1e4,e),this.eb=FE("forwardChannelMaxRetries",2,e),this.xa=FE("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new iE(e&&e.concurrentRequestLimit),this.Ja=new pE,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jE(e){if(zE(e),3==e.H){var t=e.W++,n=Fx(e.I);if(zx(n,"SID",e.K),zx(n,"RID",t),zx(n,"TYPE","terminate"),GE(e,n),(t=new gx(e,e.l,t)).L=2,t.v=Bx(Fx(n)),n=!1,ww.navigator&&ww.navigator.sendBeacon)try{n=ww.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&ww.Image&&((new Image).src=t.v,n=!0),n||(t.g=nI(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Cx(t)}eI(e)}function VE(e){e.g&&(QE(e),e.g.cancel(),e.g=null)}function zE(e){VE(e),e.u&&(ww.clearTimeout(e.u),e.u=null),$E(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ww.clearTimeout(e.m),e.m=null)}function BE(e){if(!oE(e.i)&&!e.m){e.m=!0;var t=e.Na;F_||V_(),U_||(F_(),U_=!0),j_.add(t,e),e.C=0}}function qE(e,t){var n;n=t?t.m:e.W++;var r=Fx(e.I);zx(r,"SID",e.K),zx(r,"RID",n),zx(r,"AID",e.V),GE(e,r),e.o&&e.s&&ME(r,e.o,e.s),n=new gx(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=KE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),cE(e.i,n),xx(n,r,t)}function GE(e,t){e.na&&u_(e.na,(function(e,n){zx(t,n,e)})),e.h&&Dx({},(function(e,n){zx(t,n,e)}))}function KE(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Cw(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{vE(l,o,"req"+c+"_")}catch($I){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function HE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;F_||V_(),U_||(F_(),U_=!0),j_.add(t,e),e.A=0}}function WE(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ux(Cw(e.Ma,e),JE(e,e.A)),e.A++,!0)}function QE(e){null!=e.B&&(ww.clearTimeout(e.B),e.B=null)}function YE(e){e.g=new gx(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Fx(e.wa);zx(t,"RID","rpc"),zx(t,"SID",e.K),zx(t,"AID",e.V),zx(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&zx(t,"TO",e.qa),zx(t,"TYPE","xmlhttp"),GE(e,t),e.o&&e.s&&ME(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Bx(Fx(t)),n.s=null,n.S=!0,Ex(n,e)}function $E(e){null!=e.v&&(ww.clearTimeout(e.v),e.v=null)}function XE(e,t){var n=null;if(e.g==t){$E(e),QE(e),e.g=null;var r=2}else{if(!sE(e.i,t))return;n=t.F,lE(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;T_(r=tx(),new ox(r,n)),BE(e)}else HE(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(uE(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ux(Cw(e.Na,e,t),JE(e,e.C)),e.C++,!0))}(e,t)||2==r&&WE(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ZE(e,5);break;case 4:ZE(e,10);break;case 3:ZE(e,6);break;default:ZE(e,2)}}function JE(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ZE(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Cw(e.pb,e);n||(n=new Mx("//www.google.com/images/cleardot.gif"),ww.location&&"http"==ww.location.protocol||Ux(n,"https"),Bx(n)),function(e,t){var n=new X_;if(ww.Image){var r=new Image;r.onload=Nw(mE,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nw(mE,n,r,"TestLoadImage: error",!1,t),r.onabort=Nw(mE,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nw(mE,n,r,"TestLoadImage: timeout",!1,t),ww.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ax(2);e.H=0,e.h&&e.h.za(t),eI(e),zE(e)}function eI(e){if(e.H=0,e.ma=[],e.h){var t=fE(e.i);0==t.length&&0==e.j.length||(Dw(e.ma,t),Dw(e.ma,e.j),e.i.i.length=0,Ow(e.j),e.j.length=0),e.h.ya()}}function tI(e,t,n){var r=n instanceof Mx?Fx(n):new Mx(n);if(""!=r.g)t&&(r.g=t+"."+r.g),jx(r,r.m);else{var i=ww.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Mx(null);r&&Ux(a,r),t&&(a.g=t),i&&jx(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&zx(r,n,t),zx(r,"VER",e.ra),GE(e,r),r}function nI(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new EE(new yE({ob:!0})):new EE(e.va)).Oa(e.J),t}function rI(){}function iI(){if(Gw&&!(10<=Number(e_)))throw Error("Environmental error: no available transport.")}function aI(e,t){S_.call(this),this.g=new UE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Fw(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fw(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sI(this)}function oI(e){vx.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uI(){mx.call(this),this.status=1}function sI(e){this.g=e}function cI(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lI(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function fI(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(yw=EE.prototype).Oa=function(e){this.M=e},yw.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dx.g(),this.C=this.u?fx(this.u):fx(dx),this.g.onreadystatechange=Cw(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void CE(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=S(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ww.FormData&&e instanceof ww.FormData,!(0<=Rw(TE,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=S(n);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{RE(this),0<this.B&&((this.L=function(e){return Gw&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cw(this.ua,this)):this.A=G_(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){CE(this,s)}},yw.ua=function(){"undefined"!=typeof bw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,T_(this,"timeout"),this.abort(8))},yw.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,T_(this,"complete"),T_(this,"abort"),PE(this))},yw.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),PE(this,!0)),EE.$.N.call(this)},yw.La=function(){this.s||(this.G||this.v||this.l?AE(this):this.kb())},yw.kb=function(){AE(this)},yw.isActive=function(){return!!this.g},yw.da=function(){try{return 2<OE(this)?this.g.status:-1}catch(hE){return-1}},yw.ja=function(){try{return this.g?this.g.responseText:""}catch(hE){return""}},yw.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xE(t)}},yw.Ia=function(){return this.m},yw.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(yw=UE.prototype).ra=8,yw.H=1,yw.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new gx(this,this.l,e),n=this.s;if(this.U&&(n?l_(n=s_(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=KE(this,t,r),zx(i=Fx(this.I),"RID",e),zx(i,"CVER",22),this.F&&zx(i,"X-HTTP-Session-Id",this.F),GE(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(LE(n)))+"&"+r:this.o&&ME(i,this.o,n)),cE(this.i,t),this.bb&&zx(i,"TYPE","init"),this.P?(zx(i,"$req",r),zx(i,"SID","null"),t.aa=!0,xx(t,i,null)):xx(t,i,r),this.H=2}}else 3==this.H&&(e?qE(this,e):0==this.j.length||oE(this.i)||qE(this))},yw.Ma=function(){if(this.u=null,YE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ux(Cw(this.jb,this),e)}},yw.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ax(10),VE(this),YE(this))},yw.ib=function(){null!=this.v&&(this.v=null,VE(this),WE(this),ax(19))},yw.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ax(2)):(this.l.info("Failed to ping google.com"),ax(1))},yw.isActive=function(){return!!this.h&&this.h.isActive(this)},(yw=rI.prototype).Ba=function(){},yw.Aa=function(){},yw.za=function(){},yw.ya=function(){},yw.isActive=function(){return!0},yw.Va=function(){},iI.prototype.g=function(e,t){return new aI(e,t)},Aw(aI,S_),aI.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ax(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=tI(e,null,e.Y),BE(e)},aI.prototype.close=function(){jE(this.g)},aI.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=N_(e),e=n);t.j.push(new rE(t.fb++,e)),3==t.H&&BE(t)},aI.prototype.N=function(){this.g.h=null,delete this.j,jE(this.g),delete this.g,aI.$.N.call(this)},Aw(oI,vx),Aw(uI,mx),Aw(sI,rI),sI.prototype.Ba=function(){T_(this.g,"a")},sI.prototype.Aa=function(e){T_(this.g,new oI(e))},sI.prototype.za=function(e){T_(this.g,new uI)},sI.prototype.ya=function(){T_(this.g,"b")},Aw(cI,(function(){this.blockSize=-1})),cI.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},cI.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)lI(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){lI(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){lI(this,r),i=0;break}}this.h=i,this.i+=t},cI.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var hI={};function dI(e){return-128<=e&&128>e?function(e,t){var n=hI;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new fI([0|e],0>e?-1:0)})):new fI([0|e],0>e?-1:0)}function pI(e){if(isNaN(e)||!isFinite(e))return mI;if(0>e)return wI(pI(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=vI;return new fI(t,0)}var vI=4294967296,mI=dI(0),yI=dI(1),gI=dI(16777216);function kI(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function bI(e){return-1==e.h}function wI(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new fI(n,~e.h).add(yI)}function _I(e,t){return e.add(wI(t))}function xI(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function EI(e,t){this.g=e,this.h=t}function II(e,t){if(kI(t))throw Error("division by zero");if(kI(e))return new EI(mI,mI);if(bI(e))return t=II(wI(e),t),new EI(wI(t.g),wI(t.h));if(bI(t))return t=II(e,wI(t)),new EI(wI(t.g),t.h);if(30<e.g.length){if(bI(e)||bI(t))throw Error("slowDivide_ only works with positive integers.");for(var n=yI,r=t;0>=r.X(e);)n=SI(n),r=SI(r);var i=TI(n,1),a=TI(r,1);for(r=TI(r,2),n=TI(n,2);!kI(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=TI(r,1),n=TI(n,1)}return t=_I(e,i.R(t)),new EI(i,t)}for(i=mI;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=pI(n)).R(t);bI(o)||0<o.X(e);)o=(a=pI(n-=r)).R(t);kI(a)&&(a=yI),i=i.add(a),e=_I(e,o)}return new EI(i,e)}function SI(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new fI(n,e.h)}function TI(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new fI(i,e.h)}(yw=fI.prototype).ea=function(){if(bI(this))return-wI(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:vI+r)*t,t*=vI}return e},yw.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(kI(this))return"0";if(bI(this))return"-"+wI(this).toString(e);for(var t=pI(Math.pow(e,6)),n=this,r="";;){var i=II(n,t).g,a=((0<(n=_I(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(kI(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},yw.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},yw.X=function(e){return bI(e=_I(this,e))?-1:kI(e)?0:1},yw.abs=function(){return bI(this)?wI(this):this},yw.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new fI(n,-2147483648&n[n.length-1]?-1:0)},yw.R=function(e){if(kI(this)||kI(e))return mI;if(bI(this))return bI(e)?wI(this).R(wI(e)):wI(wI(this).R(e));if(bI(e))return wI(this.R(wI(e)));if(0>this.X(gI)&&0>e.X(gI))return pI(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,xI(n,2*r+2*i),n[2*r+2*i+1]+=a*s,xI(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,xI(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,xI(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new fI(n,0)},yw.gb=function(e){return II(this,e).h},yw.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new fI(n,this.h&e.h)},yw.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new fI(n,this.h|e.h)},yw.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new fI(n,this.h^e.h)},iI.prototype.createWebChannel=iI.prototype.g,aI.prototype.send=aI.prototype.u,aI.prototype.open=aI.prototype.m,aI.prototype.close=aI.prototype.close,sx.NO_ERROR=0,sx.TIMEOUT=8,sx.HTTP_ERROR=6,cx.COMPLETE="complete",hx.EventType=px,px.OPEN="a",px.CLOSE="b",px.ERROR="c",px.MESSAGE="d",S_.prototype.listen=S_.prototype.O,EE.prototype.listenOnce=EE.prototype.P,EE.prototype.getLastError=EE.prototype.Sa,EE.prototype.getLastErrorCode=EE.prototype.Ia,EE.prototype.getStatus=EE.prototype.da,EE.prototype.getResponseJson=EE.prototype.Wa,EE.prototype.getResponseText=EE.prototype.ja,EE.prototype.send=EE.prototype.ha,EE.prototype.setWithCredentials=EE.prototype.Oa,cI.prototype.digest=cI.prototype.l,cI.prototype.reset=cI.prototype.reset,cI.prototype.update=cI.prototype.j,fI.prototype.add=fI.prototype.add,fI.prototype.multiply=fI.prototype.R,fI.prototype.modulo=fI.prototype.gb,fI.prototype.compare=fI.prototype.X,fI.prototype.toNumber=fI.prototype.ea,fI.prototype.toString=fI.prototype.toString,fI.prototype.getBits=fI.prototype.D,fI.fromNumber=pI,fI.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return wI(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=pI(Math.pow(n,8)),i=mI,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=pI(Math.pow(n,o)),i=i.R(o).add(pI(u))):i=(i=i.R(r)).add(pI(u))}return i};var CI=kw.createWebChannelTransport=function(){return new iI},NI=kw.getStatEventTarget=function(){return tx()},AI=kw.ErrorCode=sx,PI=kw.EventType=cx,RI=kw.Event=Z_,OI=kw.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},DI=kw.FetchXmlHttpFactory=yE,LI=kw.WebChannel=hx,MI=kw.XhrIo=EE,FI=kw.Md5=cI,UI=kw.Integer=fI,jI="@firebase/firestore",VI=function(){function e(t){l(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();VI.UNAUTHENTICATED=new VI(null),VI.GOOGLE_CREDENTIALS=new VI("google-credentials-uid"),VI.FIRST_PARTY=new VI("first-party-uid"),VI.MOCK_USER=new VI("mock-user");var zI="9.22.1",BI=new ho("@firebase/firestore");function qI(){return BI.logLevel}function GI(e){if(BI.logLevel<=ao.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(WI);BI.debug.apply(BI,["Firestore (".concat(zI,"): ").concat(e)].concat(c(i)))}}function KI(e){if(BI.logLevel<=ao.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(WI);BI.error.apply(BI,["Firestore (".concat(zI,"): ").concat(e)].concat(c(i)))}}function HI(e){if(BI.logLevel<=ao.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(WI);BI.warn.apply(BI,["Firestore (".concat(zI,"): ").concat(e)].concat(c(i)))}}function WI(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function QI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(zI,") INTERNAL ASSERTION FAILED: ")+e;throw KI(t),new Error(t)}function YI(e,t){e||QI()}function $I(e,t){return e}var XI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},JI=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(Ua),ZI=p((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),eS=p((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),tS=function(){function e(){l(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(VI.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),nS=function(){function e(t){l(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),rS=function(){function e(t){l(this,e),this.t=t,this.currentUser=VI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ZI;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ZI,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){GI("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(GI("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ZI)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(GI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(YI("string"==typeof n.accessToken),new eS(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return YI(null===e||"string"==typeof e),new VI(e)}}]),e}(),iS=function(){function e(t,n,r){l(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=VI.FIRST_PARTY,this.g=new Map}return p(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),aS=function(){function e(t,n,r){l(this,e),this.h=t,this.l=n,this.m=r}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new iS(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(VI.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),oS=p((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),uS=function(){function e(t){l(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&GI("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,GI("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){GI("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):GI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(YI("string"==typeof t.token),e.T=t.token,new oS(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function sS(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var cS=function(){function e(){l(this,e)}return p(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=sS(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function lS(e,t){return e<t?-1:e>t?1:0}function fS(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function hS(e){return e+"\0"}var dS=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new JI(XI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new JI(XI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new JI(XI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new JI(XI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?lS(this.nanoseconds,e.nanoseconds):lS(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),pS=function(){function e(t){l(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new dS(0,0))}},{key:"max",value:function(){return new e(new dS(253402300799,999999999))}}]),e}(),vS=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&QI(),void 0===r?r=t.length-n:r>t.length-n&&QI(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),mS=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new JI(XI.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,c(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vS),yS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gS=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return yS.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new JI(XI.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new JI(XI.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new JI(XI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new JI(XI.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vS),kS=function(){function e(t){l(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===mS.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(mS.fromString(t))}},{key:"fromName",value:function(t){return new e(mS.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(mS.emptyPath())}},{key:"comparator",value:function(e,t){return mS.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new mS(t.slice()))}}]),e}(),bS=p((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function wS(e){return e.fields.find((function(e){return 2===e.kind}))}function _S(e){return e.fields.filter((function(e){return 2!==e.kind}))}bS.UNKNOWN_ID=-1;var xS=p((function e(t,n){l(this,e),this.fieldPath=t,this.kind=n}));var ES=function(){function e(t,n){l(this,e),this.sequenceNumber=t,this.offset=n}return p(e,null,[{key:"empty",value:function(){return new e(0,TS.min())}}]),e}();function IS(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pS.fromTimestamp(1e9===r?new dS(n+1,0):new dS(n,r));return new TS(i,kS.empty(),t)}function SS(e){return new TS(e.readTime,e.key,-1)}var TS=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(pS.min(),kS.empty(),-1)}},{key:"max",value:function(){return new e(pS.max(),kS.empty(),-1)}}]),e}();function CS(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=kS.comparator(e.documentKey,t.documentKey))?n:lS(e.largestBatchId,t.largestBatchId)}var NS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AS=function(){function e(){l(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function PS(e){return RS.apply(this,arguments)}function RS(){return(RS=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===XI.FAILED_PRECONDITION&&t.message===NS){e.next=2;break}throw t;case 2:GI("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var OS=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&QI(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=S(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),DS=function(){function e(t,n){var r=this;l(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new ZI,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new FS(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=BS(e.target.error);r.v.reject(new FS(t,n))}}return p(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(GI("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jS(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new FS(n,t)}}}]),e}(),LS=function(){function e(t,n,r){l(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Ra())&&KI("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return p(e,[{key:"$",value:function(){var e=eo(Ja().mark((function e(t){var n=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return GI("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new FS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new JI(XI.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new JI(XI.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new FS(t,n))},i.onupgradeneeded=function(e){GI("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){GI("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=eo(Ja().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Ja().mark((function e(){var n,u,s,l;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=DS.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),OS.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.R;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,GI("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return GI("SimpleDb","Removing database:",e),VS(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Fa())return!1;if(e.C())return!0;var t=Ra(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),MS=function(){function e(t){l(this,e),this.L=t,this.q=!1,this.U=null}return p(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return VS(this.L.delete())}}]),e}(),FS=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,XI.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return p(n)}(JI);function US(e){return"IndexedDbTransactionError"===e.name}var jS=function(){function e(t){l(this,e),this.store=t}return p(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(GI("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(GI("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),VS(n)}},{key:"add",value:function(e){return GI("SimpleDb","ADD",this.store.name,e,e),VS(this.store.add(e))}},{key:"get",value:function(e){var t=this;return VS(this.store.get(e)).next((function(n){return void 0===n&&(n=null),GI("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return GI("SimpleDb","DELETE",this.store.name,e),VS(this.store.delete(e))}},{key:"count",value:function(){return GI("SimpleDb","COUNT",this.store.name),VS(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new OS((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new OS((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){GI("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new OS((function(n,r){t.onerror=function(e){var t=BS(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new OS((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new MS(i),o=t(i.primaryKey,i.value,a);if(o instanceof OS){var u=o.catch((function(e){return a.done(),OS.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return OS.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function VS(e){return new OS((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=BS(e.target.error);n(t)}}))}var zS=!1;function BS(e){var t=LS.S(Ra());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new JI("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zS||(zS=!0,setTimeout((function(){throw r}),0)),r}}return e}var qS=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return p(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;GI("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=GI,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!US(e.t4)){e.next=17;break}GI("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,PS(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),GS=function(){function e(t,n){l(this,e),this.localStore=t,this.persistence=n}return p(e,[{key:"nt",value:function(){var e=eo(Ja().mark((function e(){var t,n=this,r=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return OS.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return GI("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return GI("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=SS(t);CS(r,n)>0&&(n=r)})),new TS(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),KS=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function HS(e){return null==e}function WS(e){return 0===e&&1/e==-1/0}function QS(e){return"number"==typeof e&&Number.isInteger(e)&&!WS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function YS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=XS(t)),t=$S(e.get(n),t);return XS(t)}function $S(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function XS(e){return e+"\x01\x01"}function JS(e){var t=e.length;if(YI(t>=2),2===t)return YI("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),mS.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&QI(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:QI()}a=o+2}return new mS(r)}KS.ct=-1;var ZS=["userId","batchId"];function eT(e,t){return[e,YS(t)]}function tT(e,t,n){return[e,YS(t),n]}var nT={},rT=["prefixPath","collectionGroup","readTime","documentId"],iT=["prefixPath","collectionGroup","documentId"],aT=["collectionGroup","readTime","prefixPath","documentId"],oT=["canonicalId","targetId"],uT=["targetId","path"],sT=["path","targetId"],cT=["collectionId","parent"],lT=["indexId","uid"],fT=["uid","sequenceNumber"],hT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dT=["indexId","uid","orderedDocumentKey"],pT=["userId","collectionPath","documentId"],vT=["userId","collectionPath","largestBatchId"],mT=["userId","collectionGroup","largestBatchId"],yT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),gT=[].concat(c(yT),["documentOverlays"]),kT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bT=kT,wT=[].concat(bT,["indexConfiguration","indexState","indexEntries"]),_T=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return p(n)}(AS);function xT(e,t){var n=$I(e);return LS.M(n.ht,t)}function ET(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function IT(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ST(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var TT=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||NT.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,NT.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,NT.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new CT(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new CT(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new CT(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new CT(this.root,e,this.comparator,!0)}}]),e}(),CT=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),NT=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw QI();if(this.right.isRed())throw QI();var e=this.left.check();if(e!==this.right.check())throw QI();return e+(this.isRed()?0:1)}}]),e}();NT.EMPTY=null,NT.RED=!0,NT.BLACK=!1,NT.EMPTY=new(function(){function e(){l(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw QI()}},{key:"value",get:function(){throw QI()}},{key:"color",get:function(){throw QI()}},{key:"left",get:function(){throw QI()}},{key:"right",get:function(){throw QI()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new NT(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var AT=function(){function e(t){l(this,e),this.comparator=t,this.data=new TT(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new PT(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new PT(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),PT=function(){function e(t){l(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function RT(e){return e.hasNext()?e.getNext():void 0}var OT=function(){function e(t){l(this,e),this.fields=t,t.sort(gS.comparator)}return p(e,[{key:"unionWith",value:function(t){var n,r=new AT(gS.comparator),i=S(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=S(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=S(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return fS(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),DT=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return p(n)}(E(Error));var LT=function(e){function t(e){l(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return lS(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new DT("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();LT.EMPTY_BYTE_STRING=new LT("");var MT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function FT(e){if(YI(!!e),"string"==typeof e){var t=0,n=MT.exec(e);if(YI(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:UT(e.seconds),nanos:UT(e.nanos)}}function UT(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jT(e){return"string"==typeof e?LT.fromBase64String(e):LT.fromUint8Array(e)}function VT(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zT(e){var t=e.mapValue.fields.__previous_value__;return VT(t)?zT(t):t}function BT(e){var t=FT(e.mapValue.fields.__local_write_time__.timestampValue);return new dS(t.seconds,t.nanos)}var qT=p((function e(t,n,r,i,a,o,u,s,c){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),GT=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),KT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},HT={nullValue:"NULL_VALUE"};function WT(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?VT(e)?4:uC(e)?9007199254740991:10:QI()}function QT(e,t){if(e===t)return!0;var n=WT(e);if(n!==WT(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return BT(e).isEqual(BT(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=FT(e.timestampValue),r=FT(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jT(e.bytesValue).isEqual(jT(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return UT(e.geoPointValue.latitude)===UT(t.geoPointValue.latitude)&&UT(e.geoPointValue.longitude)===UT(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return UT(e.integerValue)===UT(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=UT(e.doubleValue),r=UT(t.doubleValue);return n===r?WS(n)===WS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fS(e.arrayValue.values||[],t.arrayValue.values||[],QT);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ET(n)!==ET(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!QT(n[i],r[i])))return!1;return!0}(e,t);default:return QI()}}function YT(e,t){return void 0!==(e.values||[]).find((function(e){return QT(e,t)}))}function $T(e,t){if(e===t)return 0;var n=WT(e),r=WT(t);if(n!==r)return lS(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lS(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=UT(e.integerValue||e.doubleValue),r=UT(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return XT(e.timestampValue,t.timestampValue);case 4:return XT(BT(e),BT(t));case 5:return lS(e.stringValue,t.stringValue);case 6:return function(e,t){var n=jT(e),r=jT(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=lS(n[i],r[i]);if(0!==a)return a}return lS(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=lS(UT(e.latitude),UT(t.latitude));return 0!==n?n:lS(UT(e.longitude),UT(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=$T(n[i],r[i]);if(a)return a}return lS(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===KT.mapValue&&t===KT.mapValue)return 0;if(e===KT.mapValue)return 1;if(t===KT.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=lS(r[o],a[o]);if(0!==u)return u;var s=$T(n[r[o]],i[a[o]]);if(0!==s)return s}return lS(r.length,a.length)}(e.mapValue,t.mapValue);default:throw QI()}}function XT(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return lS(e,t);var n=FT(e),r=FT(t),i=lS(n.seconds,r.seconds);return 0!==i?i:lS(n.nanos,r.nanos)}function JT(e){return ZT(e)}function ZT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=FT(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jT(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,kS.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=S(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ZT(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=S(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ZT(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):QI();var t,n}function eC(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function tC(e){return!!e&&"integerValue"in e}function nC(e){return!!e&&"arrayValue"in e}function rC(e){return!!e&&"nullValue"in e}function iC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function aC(e){return!!e&&"mapValue"in e}function oC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return IT(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=oC(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=oC(e.arrayValue.values[r]);return n}return Object.assign({},e)}function uC(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function sC(e){return"nullValue"in e?HT:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?eC(GT.empty(),kS.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:QI()}function cC(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?eC(GT.empty(),kS.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?KT:QI()}function lC(e,t){var n=$T(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function fC(e,t){var n=$T(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var hC=function(){function e(t){l(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!aC(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oC(t)}},{key:"setAll",value:function(e){var t=this,n=gS.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=oC(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());aC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return QT(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];aC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){IT(t,(function(t,n){return e[t]=n}));var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(oC(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function dC(e){var t=[];return IT(e.fields,(function(e,n){var r=new gS([e]);if(aC(n)){var i=dC(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=S(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new OT(t)}var pC=function(){function e(t,n,r,i,a,o,u){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(pS.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=hC.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=hC.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=pS.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,pS.min(),pS.min(),pS.min(),hC.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,pS.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,pS.min(),pS.min(),hC.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,pS.min(),pS.min(),hC.empty(),2)}}]),e}(),vC=p((function e(t,n){l(this,e),this.position=t,this.inclusive=n}));function mC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?kS.comparator(kS.fromName(o.referenceValue),n.key):$T(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function yC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!QT(e.position[n],t.position[n]))return!1;return!0}var gC=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function kC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var bC=p((function e(){l(this,e)})),wC=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($T(t,this.value)):null!==t&&WT(this.value)===WT(t)&&this.matchesComparison($T(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return QI()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new PC(e,t,r):"array-contains"===t?new LC(e,r):"in"===t?new MC(e,r):"not-in"===t?new FC(e,r):"array-contains-any"===t?new UC(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new RC(e,n):new OC(e,n)}}]),n}(bC),_C=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return p(n,[{key:"matches",value:function(e){return xC(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=S(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(bC);function xC(e){return"and"===e.op}function EC(e){return"or"===e.op}function IC(e){return SC(e)&&xC(e)}function SC(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof _C)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function TC(e){if(e instanceof wC)return e.field.canonicalString()+e.op.toString()+JT(e.value);if(IC(e))return e.filters.map((function(e){return TC(e)})).join(",");var t=e.filters.map((function(e){return TC(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function CC(e,t){return e instanceof wC?function(e,t){return t instanceof wC&&e.op===t.op&&e.field.isEqual(t.field)&&QT(e.value,t.value)}(e,t):e instanceof _C?function(e,t){return t instanceof _C&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&CC(n,t.filters[r])}),!0)}(e,t):void QI()}function NC(e,t){var n=e.filters.concat(t);return _C.create(n,e.op)}function AC(e){return e instanceof wC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(JT(e.value))}(e):e instanceof _C?function(e){return e.op.toString()+" {"+e.getFilters().map(AC).join(" ,")+"}"}(e):"Filter"}var PC=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=kS.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=kS.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(wC),RC=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=DC("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wC),OC=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=DC("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wC);function DC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return kS.fromName(e.referenceValue)}))}var LC=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return nC(t)&&YT(t.arrayValue,this.value)}}]),n}(wC),MC=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&YT(this.value.arrayValue,t)}}]),n}(wC),FC=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(YT(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!YT(this.value.arrayValue,t)}}]),n}(wC),UC=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!nC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return YT(t.value.arrayValue,e)}))}}]),n}(wC),jC=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.dt=null}));function VC(e){return new jC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function zC(e){var t=$I(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return TC(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),HS(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return JT(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return JT(e)})).join(",")),t.dt=n}return t.dt}function BC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!kC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!CC(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yC(e.startAt,t.startAt)&&yC(e.endAt,t.endAt)}function qC(e){return kS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function GC(e,t){return e.filters.filter((function(e){return e instanceof wC&&e.field.isEqual(t)}))}function KC(e,t,n){var r,i=HT,a=!0,o=S(GC(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=HT,c=!0;switch(u.op){case"<":case"<=":s=sC(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=HT}lC({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];lC({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function HC(e,t,n){var r,i=KT,a=!0,o=S(GC(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=KT,c=!0;switch(u.op){case">=":case">":s=cC(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=KT}fC({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];fC({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var WC=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}));function QC(e,t,n,r,i,a,o,u){return new WC(e,t,n,r,i,a,o,u)}function YC(e){return new WC(e)}function $C(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function XC(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function JC(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function ZC(e){return null!==e.collectionGroup}function eN(e){var t=$I(e);if(null===t.wt){t.wt=[];var n=JC(t),r=XC(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new gC(n)),t.wt.push(new gC(gS.keyField(),"asc"));else{var i,a=!1,o=S(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new gC(gS.keyField(),s))}}}return t.wt}function tN(e){var t=$I(e);if(!t._t)if("F"===t.limitType)t._t=VC(t.path,t.collectionGroup,eN(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=S(eN(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new gC(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new vC(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new vC(t.startAt.position,t.startAt.inclusive):null;t._t=VC(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function nN(e,t){t.getFirstInequalityField(),JC(e);var n=e.filters.concat([t]);return new WC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rN(e,t,n){return new WC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function iN(e,t){return BC(tN(e),tN(t))&&e.limitType===t.limitType}function aN(e){return"".concat(zC(tN(e)),"|lt:").concat(e.limitType)}function oN(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return AC(e)})).join(", "),"]")),HS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return JT(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return JT(e)})).join(",")),"Target(".concat(t,")")}(tN(e)),"; limitType=").concat(e.limitType,")")}function uN(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):kS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=S(eN(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=S(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=mC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,eN(e),t))&&!(e.endAt&&!function(e,t,n){var r=mC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,eN(e),t))}(e,t)}function sN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function cN(e){return function(t,n){var r,i=!1,a=S(eN(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=lN(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function lN(e,t,n){var r=e.field.isKeyField()?kS.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$T(r,i):QI()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return QI()}}var fN=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){IT(this.inner,(function(t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ST(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),hN=new TT(kS.comparator);function dN(){return hN}var pN=new TT(kS.comparator);function vN(){for(var e=pN,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function mN(e){var t=pN;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function yN(){return kN()}function gN(){return kN()}function kN(){return new fN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var bN=new TT(kS.comparator),wN=new AT(kS.comparator);function _N(){for(var e=wN,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var xN=new AT(lS);function EN(){return xN}function IN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:WS(t)?"-0":t}}function SN(e){return{integerValue:""+e}}function TN(e,t){return QS(t)?SN(t):IN(e,t)}var CN=p((function e(){l(this,e),this._=void 0}));function NN(e,t,n){return e instanceof RN?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&VT(t)&&(t=zT(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ON?DN(e,t):e instanceof LN?MN(e,t):function(e,t){var n=PN(e,t),r=UN(n)+UN(e.gt);return tC(n)&&tC(e.gt)?SN(r):IN(e.serializer,r)}(e,t)}function AN(e,t,n){return e instanceof ON?DN(e,t):e instanceof LN?MN(e,t):n}function PN(e,t){return e instanceof FN?tC(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var RN=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n)}(CN),ON=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return p(n)}(CN);function DN(e,t){var n,r=jN(t),i=S(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return QT(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var LN=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return p(n)}(CN);function MN(e,t){var n,r=jN(t),i=S(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!QT(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var FN=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return p(n)}(CN);function UN(e){return UT(e.integerValue||e.doubleValue)}function jN(e){return nC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var VN=p((function e(t,n){l(this,e),this.field=t,this.transform=n}));var zN=p((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),BN=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function qN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var GN=p((function e(){l(this,e)}));function KN(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new rA(e.key,BN.none()):new $N(e.key,e.data,BN.none());var n,r=e.data,i=hC.empty(),a=new AT(gS.comparator),o=S(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new XN(e.key,i,new OT(a.toArray()),BN.none())}function HN(e,t,n){e instanceof $N?function(e,t,n){var r=e.value.clone(),i=ZN(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof XN?function(e,t,n){if(qN(e.precondition,t)){var r=ZN(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(JN(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function WN(e,t,n,r){return e instanceof $N?function(e,t,n,r){if(!qN(e.precondition,t))return n;var i=e.value.clone(),a=eA(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof XN?function(e,t,n,r){if(!qN(e.precondition,t))return n;var i=eA(e.fieldTransforms,r,t),a=t.data;return a.setAll(JN(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return qN(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function QN(e,t){var n,r=null,i=S(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=PN(a.transform,o||null);null!=u&&(null===r&&(r=hC.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function YN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fS(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ON&&t instanceof ON||e instanceof LN&&t instanceof LN?fS(e.elements,t.elements,QT):e instanceof FN&&t instanceof FN?QT(e.gt,t.gt):e instanceof RN&&t instanceof RN}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var $N=function(e){m(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(GN),XN=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return p(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(GN);function JN(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ZN(e,t,n){var r=new Map;YI(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,AN(o,u,n[i]))}return r}function eA(e,t,n){var r,i=new Map,a=S(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,NN(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var tA,nA,rA=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(GN),iA=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(GN),aA=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&HN(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=S(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=WN(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=S(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=WN(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=gN();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=KN(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(pS.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),_N())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&fS(this.mutations,e.mutations,(function(e,t){return YN(e,t)}))&&fS(this.baseMutations,e.baseMutations,(function(e,t){return YN(e,t)}))}}]),e}(),oA=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){YI(t.mutations.length===r.length);for(var i=bN,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),uA=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),sA=p((function e(t,n){l(this,e),this.count=t,this.unchangedNames=n}));function cA(e){switch(e){default:return QI();case XI.CANCELLED:case XI.UNKNOWN:case XI.DEADLINE_EXCEEDED:case XI.RESOURCE_EXHAUSTED:case XI.INTERNAL:case XI.UNAVAILABLE:case XI.UNAUTHENTICATED:return!1;case XI.INVALID_ARGUMENT:case XI.NOT_FOUND:case XI.ALREADY_EXISTS:case XI.PERMISSION_DENIED:case XI.FAILED_PRECONDITION:case XI.ABORTED:case XI.OUT_OF_RANGE:case XI.UNIMPLEMENTED:case XI.DATA_LOSS:return!0}}function lA(e){if(void 0===e)return KI("GRPC error has no .code"),XI.UNKNOWN;switch(e){case tA.OK:return XI.OK;case tA.CANCELLED:return XI.CANCELLED;case tA.UNKNOWN:return XI.UNKNOWN;case tA.DEADLINE_EXCEEDED:return XI.DEADLINE_EXCEEDED;case tA.RESOURCE_EXHAUSTED:return XI.RESOURCE_EXHAUSTED;case tA.INTERNAL:return XI.INTERNAL;case tA.UNAVAILABLE:return XI.UNAVAILABLE;case tA.UNAUTHENTICATED:return XI.UNAUTHENTICATED;case tA.INVALID_ARGUMENT:return XI.INVALID_ARGUMENT;case tA.NOT_FOUND:return XI.NOT_FOUND;case tA.ALREADY_EXISTS:return XI.ALREADY_EXISTS;case tA.PERMISSION_DENIED:return XI.PERMISSION_DENIED;case tA.FAILED_PRECONDITION:return XI.FAILED_PRECONDITION;case tA.ABORTED:return XI.ABORTED;case tA.OUT_OF_RANGE:return XI.OUT_OF_RANGE;case tA.UNIMPLEMENTED:return XI.UNIMPLEMENTED;case tA.DATA_LOSS:return XI.DATA_LOSS;default:return QI()}}(nA=tA||(tA={}))[nA.OK=0]="OK",nA[nA.CANCELLED=1]="CANCELLED",nA[nA.UNKNOWN=2]="UNKNOWN",nA[nA.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nA[nA.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nA[nA.NOT_FOUND=5]="NOT_FOUND",nA[nA.ALREADY_EXISTS=6]="ALREADY_EXISTS",nA[nA.PERMISSION_DENIED=7]="PERMISSION_DENIED",nA[nA.UNAUTHENTICATED=16]="UNAUTHENTICATED",nA[nA.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nA[nA.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nA[nA.ABORTED=10]="ABORTED",nA[nA.OUT_OF_RANGE=11]="OUT_OF_RANGE",nA[nA.UNIMPLEMENTED=12]="UNIMPLEMENTED",nA[nA.INTERNAL=13]="INTERNAL",nA[nA.UNAVAILABLE=14]="UNAVAILABLE",nA[nA.DATA_LOSS=15]="DATA_LOSS";var fA=function(){function e(){l(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return p(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return hA}},{key:"getOrCreateInstance",value:function(){return null===hA&&(hA=new e),hA}}]),e}(),hA=null;function dA(){return new TextEncoder}var pA=new UI([4294967295,4294967295],0);function vA(e){var t=dA().encode(e),n=new FI;return n.update(t),new Uint8Array(n.digest())}function mA(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new UI([n,r],0),new UI([i,a],0)]}var yA=function(){function e(t,n,r){if(l(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gA("Invalid padding: ".concat(n));if(r<0)throw new gA("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new gA("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new gA("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=UI.fromNumber(this.It)}return p(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(UI.fromNumber(n)));return 1===r.compare(pA)&&(r=new UI([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=u(mA(vA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=u(mA(vA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),gA=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return p(n)}(E(Error)),kA=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,bA.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(pS.min(),i,new TT(lS),dN(),_N())}}]),e}(),bA=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,_N(),_N(),_N())}}]),e}(),wA=p((function e(t,n,r,i){l(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),_A=p((function e(t,n){l(this,e),this.targetId=t,this.Vt=n})),xA=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LT.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),EA=function(){function e(){l(this,e),this.St=0,this.Dt=TA(),this.Ct=LT.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return p(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=_N(),t=_N(),n=_N();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:QI()}})),new bA(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=TA()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),IA=function(){function e(t){l(this,e),this.Gt=t,this.Qt=new Map,this.jt=dN(),this.zt=SA(),this.Wt=new TT(lS)}return p(e,[{key:"Ht",value:function(e){var t,n=S(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var i,a=S(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:QI()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(qC(a))if(0===r){var o=new kS(a.path);this.Yt(n,o,pC.newNoDocument(o,pS.min()))}else YI(1===r);else{var u=this.ie(n);if(u!==r){var s=this.re(e,u);if(0!==s){this.ee(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=fA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=jT(c).toUint8Array()}catch(e){if(e instanceof DT)return HI("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new yA(a,f,d)}catch(e){return HI(e instanceof gA?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&qC(a.target)){var o=new kS(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,pC.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=_N();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new kA(e,n,this.Wt,this.jt,r);return this.jt=dN(),this.zt=SA(),this.Wt=new TT(lS),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new EA,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new AT(lS),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||GI("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new EA),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function SA(){return new TT(kS.comparator)}function TA(){return new TT(kS.comparator)}var CA={asc:"ASCENDING",desc:"DESCENDING"},NA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AA={and:"AND",or:"OR"},PA=p((function e(t,n){l(this,e),this.databaseId=t,this.useProto3Json=n}));function RA(e,t){return e.useProto3Json||HS(t)?t:{value:t}}function OA(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function DA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function LA(e,t){return OA(e,t.toTimestamp())}function MA(e){return YI(!!e),pS.fromTimestamp(function(e){var t=FT(e);return new dS(t.seconds,t.nanos)}(e))}function FA(e,t){return function(e){return new mS(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function UA(e){var t=mS.fromString(e);return YI(uP(t)),t}function jA(e,t){return FA(e.databaseId,t.path)}function VA(e,t){var n=UA(t);if(n.get(1)!==e.databaseId.projectId)throw new JI(XI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new JI(XI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kS(GA(n))}function zA(e,t){return FA(e.databaseId,t)}function BA(e){var t=UA(e);return 4===t.length?mS.emptyPath():GA(t)}function qA(e){return new mS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function GA(e){return YI(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function KA(e,t,n){return{name:jA(e,t),fields:n.value.mapValue.fields}}function HA(e,t,n){var r=VA(e,t.name),i=MA(t.updateTime),a=t.createTime?MA(t.createTime):pS.min(),o=new hC({mapValue:{fields:t.fields}}),u=pC.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function WA(e,t){return"found"in t?function(e,t){YI(!!t.found),t.found.name,t.found.updateTime;var n=VA(e,t.found.name),r=MA(t.found.updateTime),i=t.found.createTime?MA(t.found.createTime):pS.min(),a=new hC({mapValue:{fields:t.found.fields}});return pC.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){YI(!!t.missing),YI(!!t.readTime);var n=VA(e,t.missing),r=MA(t.readTime);return pC.newNoDocument(n,r)}(e,t):QI()}function QA(e,t){var n;if(t instanceof $N)n={update:KA(e,t.key,t.value)};else if(t instanceof rA)n={delete:jA(e,t.key)};else if(t instanceof XN)n={update:KA(e,t.key,t.data),updateMask:oP(t.fieldMask)};else{if(!(t instanceof iA))return QI();n={verify:jA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof RN)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ON)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof LN)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof FN)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw QI()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:LA(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:QI()}(e,t.precondition)),n}function YA(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?BN.updateTime(MA(e.updateTime)):void 0!==e.exists?BN.exists(e.exists):BN.none()}(t.currentDocument):BN.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)YI("REQUEST_TIME"===t.setToServerValue),n=new RN;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ON(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new LN(i)}else"increment"in t?n=new FN(e,t.increment):QI();var a=gS.fromServerFormat(t.fieldPath);return new VN(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=VA(e,t.update.name),a=new hC({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new OT(t.map((function(e){return gS.fromServerFormat(e)})))}(t.updateMask);return new XN(i,a,o,n,r)}return new $N(i,a,n,r)}if(t.delete){var u=VA(e,t.delete);return new rA(u,n)}if(t.verify){var s=VA(e,t.verify);return new iA(s,n)}return QI()}function $A(e,t){return{documents:[zA(e,t.path)]}}function XA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zA(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zA(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return aP(_C.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rP(e.field),direction:eP(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=RA(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function JA(e){var t=BA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){YI(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=ZA(e);return t instanceof _C&&IC(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new gC(iP(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return HS(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new vC(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new vC(n,t)}(n.endAt)),QC(t,i,u,o,s,"F",c,l)}function ZA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=iP(e.unaryFilter.field);return wC.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=iP(e.unaryFilter.field);return wC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=iP(e.unaryFilter.field);return wC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=iP(e.unaryFilter.field);return wC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return QI()}}(e):void 0!==e.fieldFilter?function(e){return wC.create(iP(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return QI()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return _C.create(e.compositeFilter.filters.map((function(e){return ZA(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return QI()}}(e.compositeFilter.op))}(e):QI()}function eP(e){return CA[e]}function tP(e){return NA[e]}function nP(e){return AA[e]}function rP(e){return{fieldPath:e.canonicalString()}}function iP(e){return gS.fromServerFormat(e.fieldPath)}function aP(e){return e instanceof wC?function(e){if("=="===e.op){if(iC(e.value))return{unaryFilter:{field:rP(e.field),op:"IS_NAN"}};if(rC(e.value))return{unaryFilter:{field:rP(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(iC(e.value))return{unaryFilter:{field:rP(e.field),op:"IS_NOT_NAN"}};if(rC(e.value))return{unaryFilter:{field:rP(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rP(e.field),op:tP(e.op),value:e.value}}}(e):e instanceof _C?function(e){var t=e.getFilters().map((function(e){return aP(e)}));return 1===t.length?t[0]:{compositeFilter:{op:nP(e.op),filters:t}}}(e):QI()}function oP(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function uP(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var sP=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pS.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pS.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:LT.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),cP=p((function e(t){l(this,e),this.fe=t}));function lP(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:fP(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jA(e,t.key),fields:t.data.value.mapValue.fields,updateTime:OA(e,t.version.toTimestamp()),createTime:OA(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:hP(t.version)};else{if(!t.isUnknownDocument())return QI();r.unknownDocument={path:n.path.toArray(),version:hP(t.version)}}return r}function fP(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function hP(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function dP(e){var t=new dS(e.seconds,e.nanoseconds);return pS.fromTimestamp(t)}function pP(e,t){for(var n=(t.baseMutations||[]).map((function(t){return YA(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return YA(e.fe,t)})),u=dS.fromMillis(t.localWriteTimeMs);return new aA(t.batchId,u,n,o)}function vP(e){var t,n,r=dP(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?dP(e.lastLimboFreeSnapshotVersion):pS.min();return void 0!==e.query.documents?(YI(1===(n=e.query).documents.length),t=tN(YC(BA(n.documents[0])))):t=function(e){return tN(JA(e))}(e.query),new sP(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,LT.fromBase64String(e.resumeToken))}function mP(e,t){var n,r=hP(t.snapshotVersion),i=hP(t.lastLimboFreeSnapshotVersion);n=qC(t.target)?$A(e.fe,t.target):XA(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zC(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function yP(e){var t=JA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rN(t,t.limit,"L"):t}function gP(e,t){return new uA(t.largestBatchId,YA(e.fe,t.overlayMutation))}function kP(e,t){var n=t.path.lastSegment();return[e,YS(t.path.popLast()),n]}function bP(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:hP(r.readTime),documentKey:YS(r.documentKey.path),largestBatchId:r.largestBatchId}}var wP=function(){function e(){l(this,e)}return p(e,[{key:"getBundleMetadata",value:function(e,t){return _P(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:dP(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return _P(e).put({bundleId:(n=t).id,createTime:hP(MA(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return xP(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:yP(t.bundledQuery),readTime:dP(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return xP(e).put(function(e){return{name:e.name,readTime:hP(MA(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function _P(e){return xT(e,"bundles")}function xP(e){return xT(e,"namedQueries")}var EP=function(){function e(t,n){l(this,e),this.serializer=t,this.userId=n}return p(e,[{key:"getOverlay",value:function(e,t){var n=this;return IP(e).get(kP(this.userId,t)).next((function(e){return e?gP(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=yN();return OS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new uA(t,a);i.push(r.we(e,o))})),OS.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(YS(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(IP(e).J("collectionPathOverlayIndex",i))})),OS.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=yN(),a=YS(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return IP(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=gP(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=yN(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return IP(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=gP(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return IP(e).put(function(e,t,n){var r=u(kP(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:QA(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function IP(e){return xT(e,"documentOverlays")}var SP=function(){function e(){l(this,e)}return p(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(UT(e.integerValue));else if("doubleValue"in e){var n=UT(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),WS(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(jT(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?uC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):QI()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),kS.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function TP(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function CP(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=TP(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}SP.Ve=new SP;var NP=function(){function e(){l(this,e),this.buffer=new Uint8Array(1024),this.position=0}return p(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=CP(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=CP(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),AP=function(){function e(t){l(this,e),this.je=t}return p(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),PP=function(){function e(t){l(this,e),this.je=t}return p(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),RP=function(){function e(){l(this,e),this.je=new NP,this.ze=new AP(this.je),this.We=new PP(this.je)}return p(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),OP=function(){function e(t,n,r,i){l(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return p(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function DP(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=LP(e.arrayValue,t.arrayValue))?n:0!==(n=LP(e.directionalValue,t.directionalValue))?n:kS.comparator(e.documentKey,t.documentKey)}function LP(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var MP=function(){function e(t){l(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=S(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return p(e,[{key:"tn",value:function(e){YI(e.collectionGroup===this.collectionId);var t=wS(e);if(void 0!==t&&!this.en(t))return!1;for(var n=_S(e),r=0,i=0;r<n.length&&this.en(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ze){var a=n[r];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ye.length||!this.sn(this.Ye[i++],o))return!1}return!0}},{key:"en",value:function(e){var t,n=S(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function FP(e){var t,n;if(YI(e instanceof wC||e instanceof _C),e instanceof wC){if(e instanceof MC){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return wC.create(e.field,"==",t)})))||[];return _C.create(r,"or")}return e}var i=e.filters.map((function(e){return FP(e)}));return _C.create(i,e.op)}function UP(e){if(0===e.getFilters().length)return[];var t=BP(FP(e));return YI(zP(t)),jP(t)||VP(t)?[t]:t.getFilters()}function jP(e){return e instanceof wC}function VP(e){return e instanceof _C&&IC(e)}function zP(e){return jP(e)||VP(e)||function(e){if(e instanceof _C&&EC(e)){var t,n=S(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!jP(r)&&!VP(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function BP(e){if(YI(e instanceof wC||e instanceof _C),e instanceof wC)return e;if(1===e.filters.length)return BP(e.filters[0]);var t=e.filters.map((function(e){return BP(e)})),n=_C.create(t,e.op);return zP(n=KP(n))?n:(YI(n instanceof _C),YI(xC(n)),YI(n.filters.length>1),n.filters.reduce((function(e,t){return qP(e,t)})))}function qP(e,t){var n;return YI(e instanceof wC||e instanceof _C),YI(t instanceof wC||t instanceof _C),n=e instanceof wC?t instanceof wC?function(e,t){return _C.create([e,t],"and")}(e,t):GP(e,t):t instanceof wC?GP(t,e):function(e,t){if(YI(e.filters.length>0&&t.filters.length>0),xC(e)&&xC(t))return NC(e,t.getFilters());var n=EC(e)?e:t,r=EC(e)?t:e,i=n.filters.map((function(e){return qP(e,r)}));return _C.create(i,"or")}(e,t),KP(n)}function GP(e,t){if(xC(t))return NC(t,e.getFilters());var n=t.filters.map((function(t){return qP(e,t)}));return _C.create(n,"or")}function KP(e){if(YI(e instanceof wC||e instanceof _C),e instanceof wC)return e;var t=e.getFilters();if(1===t.length)return KP(t[0]);if(SC(e))return e;var n=t.map((function(e){return KP(e)})),r=[];return n.forEach((function(t){t instanceof wC?r.push(t):t instanceof _C&&(t.op===e.op?r.push.apply(r,c(t.filters)):r.push(t))})),1===r.length?r[0]:_C.create(r,e.op)}var HP=function(){function e(){l(this,e),this.rn=new WP}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),OS.resolve()}},{key:"getCollectionParents",value:function(e,t){return OS.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return OS.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return OS.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return OS.resolve(null)}},{key:"getIndexType",value:function(e,t){return OS.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return OS.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return OS.resolve(null)}},{key:"getMinOffset",value:function(e,t){return OS.resolve(TS.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return OS.resolve(TS.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return OS.resolve()}},{key:"updateIndexEntries",value:function(e,t){return OS.resolve()}}]),e}(),WP=function(){function e(){l(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new AT(mS.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new AT(mS.comparator)).toArray()}}]),e}(),QP=new Uint8Array(0),YP=function(){function e(t,n){l(this,e),this.user=t,this.databaseId=n,this.on=new WP,this.un=new fN((function(e){return zC(e)}),(function(e,t){return BC(e,t)})),this.uid=t.uid||""}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:YS(i)};return $P(e).put(a)}return OS.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[hS(t),""],!1,!0);return $P(e).j(r).next((function(e){var r,i=S(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(JS(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=JP(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ZP(e);return a.next((function(e){o.put(bP(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=JP(e),r=ZP(e),i=XP(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=XP(e),i=!0,a=new Map;return OS.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=_N(),o=[];return OS.forEach(a,(function(i,a){var u;GI("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(zC(t)));var s=function(e,t){var n=wS(t);if(void 0===n)return null;var r,i=S(GC(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=S(_S(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=S(GC(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=S(_S(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?KC(e,o.fieldPath,e.startAt):HC(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new vC(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=S(_S(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?HC(e,o.fieldPath,e.endAt):KC(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new vC(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return OS.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=kS.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return OS.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:UP(_C.create(e.filters,"and")).map((function(t){return VC(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),f=[],h=function(){var s=t?u.dn(t[d/l]):QP,h=u.wn(e,s,n[d%l],r),p=u._n(e,s,i[d%l],a),v=o.map((function(t){return u.wn(e,s,t,!0)}));f.push.apply(f,c(u.createRange(h,p,v)))},d=0;d<s;++d)h();return f}},{key:"wn",value:function(e,t,n,r){var i=new OP(e,kS.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new OP(e,kS.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new MP(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=S(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return OS.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new AT(gS.comparator),r=!1,i=S(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=S(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=S(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new RP,i=S(_S(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.He(a.kind);SP.Ve._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new RP;return SP.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new RP;return SP.Ve._e(eC(this.databaseId,t),n.He(function(e){var t=_S(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new RP);var i,a=0,o=S(_S(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=S(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.yn(t,s.fieldPath)&&nC(c))r=this.pn(r,s,c);else{var h=f.He(s.kind);SP.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=c(e),a=[],o=S(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,l=S(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new RP;h.seed(f.Qe()),SP.Ve._e(s,h.He(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof wC&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=JP(e),i=ZP(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return OS.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ES(t.sequenceNumber,new TS(dP(t.readTime),new kS(JS(t.documentKey)),t.largestBatchId)):ES.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new xS(gS.fromServerFormat(n),r)}));return new bS(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:lS(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=JP(e),a=ZP(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return OS.forEach(t,(function(t){return a.put(bP(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return OS.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?OS.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),OS.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?OS.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return XP(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return XP(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=XP(e),i=new AT(DP);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new OP(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new AT(DP),r=this.mn(t,e);if(null==r)return n;var i=wS(t);if(null!=i){var a=e.data.field(i.fieldPath);if(nC(a)){var o,u=S(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new OP(t.indexId,e.key,this.dn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new OP(t.indexId,e.key,QP,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;GI("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=RT(a),s=RT(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=RT(o)):l?(i(u),u=RT(a)):(u=RT(a),s=RT(o))}}(r,i,DP,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),OS.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return ZP(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return DP(e,t)})).filter((function(e,t,n){return!t||0!==DP(e,n[t-1])}));var r=[];r.push(e);var i,a=S(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=DP(o,e),s=DP(o,t);if(0===u)r[0]=e.Je();else if(u>0&&s<0)r.push(o),r.push(o.Je());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,QP,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,QP,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return DP(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(eR)}},{key:"getMinOffset",value:function(e,t){var n=this;return OS.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||QI()}))})).next(eR)}}]),e}();function $P(e){return xT(e,"collectionParents")}function XP(e){return xT(e,"indexEntries")}function JP(e){return xT(e,"indexConfiguration")}function ZP(e){return xT(e,"indexState")}function eR(e){YI(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;CS(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new TS(t.readTime,t.documentKey,n)}var tR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nR=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function rR(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){YI(1===u)})));var c,l=[],f=S(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=tT(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return OS.waitFor(a).next((function(){return l}))}function iR(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw QI();t=e.noDocument}return JSON.stringify(t).length}nR.DEFAULT_COLLECTION_PERCENTILE=10,nR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nR.DEFAULT=new nR(41943040,nR.DEFAULT_COLLECTION_PERCENTILE,nR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nR.DISABLED=new nR(-1,0,0);var aR=function(){function e(t,n,r,i){l(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return p(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uR(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=sR(e),o=uR(e);return o.add({}).next((function(u){YI("number"==typeof u);var s,c=new aA(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return QA(e.fe,t)})),i=n.mutations.map((function(t){return QA(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new AT((function(e,t){return lS(e.canonicalString(),t.canonicalString())})),d=S(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=tT(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,nT))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[u]=c.keys()})),OS.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return uR(e).get(t).next((function(e){return e?(YI(e.userId===n.userId),pP(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?OS.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return uR(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(YI(t.batchId>=r),a=pP(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uR(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uR(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return pP(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=eT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return sR(e).X({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=JS(l);if(c===n.userId&&t.path.isEqual(h))return uR(e).get(f).next((function(e){if(!e)throw QI();YI(e.userId===n.userId),a.push(pP(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new AT(lS),i=[];return t.forEach((function(t){var a=eT(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=sR(e).X({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=JS(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),OS.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=eT(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new AT(lS);return sR(e).X({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=JS(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(uR(e).get(t).next((function(e){if(null===e)throw QI();YI(e.userId===n.userId),r.push(pP(n.serializer,e))})))})),OS.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return rR(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),OS.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return OS.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return sR(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=JS(e[1]);i.push(a)}else r.done()})).next((function(){YI(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return oR(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return cR(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return YI(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function oR(e,t,n){var r=eT(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return sR(e).X({range:a,Y:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function uR(e){return xT(e,"mutations")}function sR(e){return xT(e,"documentMutations")}function cR(e){return xT(e,"mutationQueues")}var lR=function(){function e(t){l(this,e),this.Nn=t}return p(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),fR=function(){function e(t,n){l(this,e),this.referenceDelegate=t,this.serializer=n}return p(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new lR(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return pS.fromTimestamp(new dS(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return hR(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return YI(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return hR(e).X((function(o,u){var s=vP(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return OS.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return hR(e).X((function(e,n){var r=vP(n);t(r)}))}},{key:"$n",value:function(e){return dR(e).get("targetGlobalKey").next((function(e){return YI(null!==e),e}))}},{key:"On",value:function(e,t){return dR(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return hR(e).put(mP(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=zC(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hR(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=vP(n);BC(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=pR(e);return t.forEach((function(t){var o=YS(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),OS.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=pR(e);return OS.forEach(t,(function(t){var a=YS(t.path);return OS.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=pR(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pR(e),i=_N();return r.X({range:n,Y:!0},(function(e,t,n){var r=JS(e[1]),a=new kS(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=YS(t.path),r=IDBKeyRange.bound([n],[hS(n)],!1,!0),i=0;return pR(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return hR(e).get(t).next((function(e){return e?vP(e):null}))}}]),e}();function hR(e){return xT(e,"targets")}function dR(e){return xT(e,"targetGlobal")}function pR(e){return xT(e,"targetDocuments")}function vR(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=lS(r,o);return 0===c?lS(i,s):c}var mR=function(){function e(t){l(this,e),this.Ln=t,this.buffer=new AT(vR),this.qn=0}return p(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();vR(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),yR=function(){function e(t,n,r){l(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return p(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;GI("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!US(e.t0)){e.next=12;break}GI("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,PS(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),gR=function(){function e(t,n){l(this,e),this.jn=t,this.params=n}return p(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return OS.resolve(KS.ct);var r=new mR(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(GI("LruGarbageCollector","Garbage collection skipped; disabled"),OS.resolve(tR)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(GI("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),tR):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(GI("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),qI()<=ao.DEBUG&&GI("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),OS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function kR(e,t){return new gR(e,t)}var bR=function(){function e(t,n){l(this,e),this.db=t,this.garbageCollector=kR(this,n)}return p(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return wR(e,n)}},{key:"removeReference",value:function(e,t,n){return wR(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return wR(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return cR(e).Z((function(r){return oR(e,r,t).next((function(e){return e&&(n=!0),OS.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,pS.min()),pR(e).delete([0,YS(o.path)])}))}));i.push(s)}})).next((function(){return OS.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return wR(e,t)}},{key:"Yn",value:function(e,t){var n,r=pR(e),i=KS.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==KS.ct&&t(new kS(JS(n)),i),i=c,n=s):i=KS.ct})).next((function(){i!==KS.ct&&t(new kS(JS(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function wR(e,t){return pR(e).put(function(e,t){return{targetId:0,path:YS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var _R=function(){function e(){l(this,e),this.changes=new fN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,pC.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?OS.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),xR=function(){function e(t){l(this,e),this.serializer=t}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return TR(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return TR(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],fP(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=pC.newInvalidDocument(t);return TR(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(CR(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:pC.newInvalidDocument(t)};return TR(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(CR(t))},(function(e,i){r={document:n.ts(t,i),size:iR(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=dN();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=dN(),i=new TT(kS.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,iR(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return OS.resolve();var r=new AT(AR);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(CR(r.first()),CR(r.last())),a=r.getIterator(),o=a.getNext();return TR(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=kS.fromSegments([].concat(c(t.prefixPath),[t.collectionGroup,t.documentId]));o&&AR(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(CR(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),fP(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return TR(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=dN(),o=S(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.ts(kS.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(uN(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=dN(),o=NR(t,n),u=NR(t,TS.max());return TR(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.ts(kS.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new IR(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return SR(e).get("remoteDocumentGlobalKey").next((function(e){return YI(!!e),e}))}},{key:"Zn",value:function(e,t){return SR(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=HA(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=kS.fromSegments(t.noDocument.path),i=dP(t.noDocument.readTime);n=pC.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return QI();var a=kS.fromSegments(t.unknownDocument.path),o=dP(t.unknownDocument.version);n=pC.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new dS(e[0],e[1]);return pS.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(pS.min()))return n}return pC.newInvalidDocument(e)}}]),e}();function ER(e){return new xR(e)}var IR=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new fN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new AT((function(e,t){return lS(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.us.get(a);if(n.push(t.os.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=lP(t.os.serializer,o);i=i.add(a.path.popLast());var c=iR(s);r+=c-u.size,n.push(t.os.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=lP(t.os.serializer,o.convertToNoDocument(pS.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),OS.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(_R);function SR(e){return xT(e,"remoteDocumentGlobal")}function TR(e){return xT(e,"remoteDocumentsV14")}function CR(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function NR(e,t){var n=t.documentKey.path.toArray();return[e,fP(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function AR(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=lS(n[a],r[a]))return i;return(i=lS(n.length,r.length))||((i=lS(n[n.length-2],r[r.length-2]))||lS(n[n.length-1],r[r.length-1]))}var PR=p((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),RR=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return p(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&WN(r.mutation,e,OT.empty(),dS.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,_N()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_N(),i=yN();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=vN();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=yN();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,_N())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=dN(),a=kN(),o=kN();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof XN)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),WN(o.mutation,t,o.mutation.getFieldMask(),dS.now())):a.set(t.key,OT.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new PR(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=kN(),i=new TT((function(e,t){return e-t})),a=_N();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=S(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||OT.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||_N()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=gN();c.forEach((function(e){if(!a.has(e)){var n=KN(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return OS.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return kS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):OS.resolve(yN()),u=-1,s=a;return o.next((function(t){return OS.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?OS.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,_N())})).next((function(e){return{batchId:u,changes:mN(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new kS(t)).next((function(e){var t=vN();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=vN();return this.indexManager.getCollectionParents(e,i).next((function(o){return OS.forEach(o,(function(o){var u=function(e,t){return new WC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,pC.newInvalidDocument(r)))}));var n=vN();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&WN(a.mutation,i,OT.empty(),dS.now()),uN(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),OR=function(){function e(t){l(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return OS.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:MA(n.createTime)}),OS.resolve()}},{key:"getNamedQuery",value:function(e,t){return OS.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:yP(e.bundledQuery),readTime:MA(e.readTime)}}(t)),OS.resolve()}}]),e}(),DR=function(){function e(){l(this,e),this.overlays=new TT(kS.comparator),this.ls=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return OS.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=yN();return OS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),OS.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),OS.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=yN(),i=t.length+1,a=new kS(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return OS.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new TT((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=yN(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=yN(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return OS.resolve(s)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new uA(t,n));var a=this.ls.get(t);void 0===a&&(a=_N(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),LR=function(){function e(){l(this,e),this.fs=new AT(MR.ds),this.ws=new AT(MR._s)}return p(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new MR(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new MR(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new kS(new mS([])),r=new MR(n,e),i=new MR(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new kS(new mS([])),n=new MR(t,e),r=new MR(t,e+1),i=_N();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new MR(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),MR=function(){function e(t,n){l(this,e),this.key=t,this.As=n}return p(e,null,[{key:"ds",value:function(e,t){return kS.comparator(e.key,t.key)||lS(e.As,t.As)}},{key:"_s",value:function(e,t){return lS(e.As,t.As)||kS.comparator(e.key,t.key)}}]),e}(),FR=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new AT(MR.ds)}return p(e,[{key:"checkEmpty",value:function(e){return OS.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new aA(i,t,n,r);this.mutationQueue.push(a);var o,u=S(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new MR(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return OS.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return OS.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return OS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return OS.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return OS.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new MR(t,0),i=new MR(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),OS.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new AT(lS);return t.forEach((function(e){var t=new MR(e,0),i=new MR(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),OS.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;kS.isDocumentKey(i)||(i=i.child(""));var a=new MR(new kS(i),0),o=new AT(lS);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),OS.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;YI(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return OS.forEach(t.mutations,(function(i){var a=new MR(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new MR(t,0),r=this.Rs.firstAfterOrEqual(n);return OS.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,OS.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),UR=function(){function e(t){l(this,e),this.Ds=t,this.docs=new TT(kS.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return OS.resolve(n?n.document.mutableCopy():pC.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=dN();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():pC.newInvalidDocument(e))})),OS.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=dN(),a=t.path,o=new kS(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||CS(SS(l),n)<=0||(r.has(l.key)||uN(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return OS.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){QI()}},{key:"Cs",value:function(e,t){return OS.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new jR(this)}},{key:"getSize",value:function(e){return OS.resolve(this.size)}}]),e}(),jR=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).os=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),OS.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(_R),VR=function(){function e(t){l(this,e),this.persistence=t,this.xs=new fN((function(e){return zC(e)}),BC),this.lastRemoteSnapshotVersion=pS.min(),this.highestTargetId=0,this.Ns=0,this.ks=new LR,this.targetCount=0,this.Ms=lR.kn()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),OS.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return OS.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return OS.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),OS.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),OS.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new lR(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,OS.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),OS.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,OS.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),OS.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return OS.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return OS.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),OS.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),OS.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),OS.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return OS.resolve(n)}},{key:"containsKey",value:function(e,t){return OS.resolve(this.ks.containsKey(t))}}]),e}(),zR=function(){function e(t,n){var r=this;l(this,e),this.$s={},this.overlays={},this.Os=new KS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new VR(this),this.indexManager=new HP,this.remoteDocumentCache=new UR((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new cP(n),this.qs=new OR(this.serializer)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new DR,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new FR(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;GI("MemoryPersistence","Starting transaction:",e);var i=new BR(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return OS.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),BR=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(AS),qR=function(){function e(t){l(this,e),this.persistence=t,this.Qs=new LR,this.js=null}return p(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw QI()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),OS.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),OS.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),OS.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return OS.forEach(this.Ws,(function(r){var i=kS.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,pS.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return OS.or([function(){return OS.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),GR=function(){function e(t){l(this,e),this.serializer=t}return p(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new DS("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZS,{unique:!0}),e.createObjectStore("documentMutations")}(e),KR(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=OS.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),KR(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pS.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZS,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return OS.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:pT});t.createIndex("collectionPathOverlayIndex",vT,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",mT,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:rT});t.createIndex("documentKeyIndex",iT),t.createIndex("collectionGroupIndex",aT)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:lT}).createIndex("sequenceNumberIndex",fT,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:hT}).createIndex("documentKeyIndex",dT,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=iR(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return OS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return OS.forEach(r,(function(r){YI(r.userId===n.userId);var i=pP(t.serializer,r);return rR(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new mS(n),o=function(e){return[0,YS(e)]}(a);r.push(t.get(o).next((function(n){return n?OS.resolve():function(n){return t.put({targetId:0,path:YS(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return OS.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:cT});var n=t.store("collectionParents"),r=new WP,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:YS(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new mS(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],JS(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=vP(r),a=mP(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new kS(mS.fromString(i.document.name).popFirst(5)):i.noDocument?kS.fromSegments(i.noDocument.path):i.unknownDocument?kS.fromSegments(i.unknownDocument.path):QI()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return OS.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=ER(this.serializer),a=new zR(qR.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:_N();pP(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),OS.forEach(r,(function(e,r){var o=new VI(r),u=EP.de(n.serializer,o),s=a.getIndexManager(o),c=aR.de(o,n.serializer,s,a.referenceDelegate);return new RR(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new _T(t,KS.ct),e).next()}))}))}}]),e}();function KR(e){e.createObjectStore("targetDocuments",{keyPath:uT}).createIndex("documentTargetsIndex",sT,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oT,{unique:!0}),e.createObjectStore("targetGlobal")}var HR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WR=function(){function e(t,n,r,i,a,o,u,s,c,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(l(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.ri=c,this.oi=f,this.ui=h,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new JI(XI.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bR(this,i),this.di=n+"main",this.serializer=new cP(s),this.wi=new LS(this.di,this.ui,new GR(this.serializer)),this.Bs=new fR(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ER(this.serializer),this.qs=new wP,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===f&&KI("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return p(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new JI(XI.FAILED_PRECONDITION,HR);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new KS(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=eo(Ja().mark((function n(r){return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=eo(Ja().mark((function t(n){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return YR(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(US(t))return GI("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return GI("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return QR(e).get("owner").next((function(e){return OS.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return YR(e).delete(this.clientId)}},{key:"bi",value:function(){var e=eo(Ja().mark((function e(){var t,n,r,i,a=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=xT(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return OS.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=S(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?OS.resolve(!0):QR(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new JI(XI.FAILED_PRECONDITION,HR);return!1}}return!(!t.networkEnabled||!t.inForeground)||YR(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&GI("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=eo(Ja().mark((function e(){var t=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new _T(e,KS.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return YR(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return aR.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new YP(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return EP.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;GI("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ui)?wT:14===i?bT:13===i?kT:12===i?gT:11===i?yT:void QI();return this.wi.runTransaction(e,o,u,(function(i){return a=new _T(i,r.Os?r.Os.next():KS.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw KI("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new JI(XI.FAILED_PRECONDITION,NS);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return QR(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new JI(XI.FAILED_PRECONDITION,HR)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return QR(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=QR(e);return n.get("owner").next((function(e){return t.Ri(e)?(GI("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):OS.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(KI("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!Oa()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return GI("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return KI("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){KI("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return LS.D()}}]),e}();function QR(e){return xT(e,"owner")}function YR(e){return xT(e,"clientMetadata")}function $R(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var XR=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return p(e,null,[{key:"Li",value:function(t,n){var r,i=_N(),a=_N(),o=S(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),JR=function(){function e(){l(this,e),this.qi=!1}return p(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if($C(t))return OS.resolve(null);var r=tN(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=rN(t,null,"F"),r=tN(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=_N.apply(void 0,c(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,rN(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return $C(t)||r.isEqual(pS.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(qI()<=ao.DEBUG&&GI("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oN(t)),i.Wi(e,o,t,IS(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new AT(cN(e));return t.forEach((function(t,r){uN(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return qI()<=ao.DEBUG&&GI("QueryEngine","Using full collection scan to execute query:",oN(t)),this.Ui.getDocumentsMatchingQuery(e,t,TS.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ZR=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new TT(lS),this.Yi=new fN((function(e){return zC(e)}),BC),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return p(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function eO(e,t,n,r){return new ZR(e,t,n,r)}function tO(e,t){return nO.apply(this,arguments)}function nO(){return nO=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=_N(),s=S(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=S(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=S(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=S(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),nO.apply(this,arguments)}function rO(e,t){var n=$I(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=OS.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);YI(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=_N(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function iO(e){var t=$I(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function aO(e,t){var n=$I(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(LT.EMPTY_BYTE_STRING,pS.min()).withLastLimboFreeSnapshotVersion(pS.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var u=dN(),s=_N();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(oO(e,a,t.documentUpdates).next((function(e){u=e.nr,s=e.sr}))),!r.isEqual(pS.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return OS.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function oO(e,t,n){var r=_N(),i=_N();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=dN();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(pS.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):GI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function uO(e,t){var n=$I(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function sO(e,t){var n=$I(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,OS.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new sP(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function cO(e,t,n){return lO.apply(this,arguments)}function lO(){return lO=eo(Ja().mark((function e(t,n,r){var i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$I(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),US(e.t1)){e.next=12;break}throw e.t1;case 12:GI("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),lO.apply(this,arguments)}function fO(e,t,n){var r=$I(e),i=pS.min(),a=_N();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=$I(e),i=r.Yi.get(n);return void 0!==i?OS.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,tN(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:pS.min(),n?a:_N())})).next((function(e){return pO(r,sN(t),e),{documents:e,ir:a}}))}))}function hO(e,t){var n=$I(e),r=$I(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function dO(e,t){var n=$I(e),r=n.Xi.get(t)||pS.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,IS(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return pO(n,t,e),e}))}function pO(e,t,n){var r=e.Xi.get(t)||pS.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function vO(e,t,n,r){return mO.apply(this,arguments)}function mO(){return mO=eo(Ja().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=$I(t),o=_N(),u=dN(),s=S(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,sO(a,function(e){return tN(YC(mS.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return oO(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),mO.apply(this,arguments)}function yO(e,t){return gO.apply(this,arguments)}function gO(){return gO=eo(Ja().mark((function e(t,n){var r,i,a,o=arguments;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:_N(),e.next=3,sO(t,tN(yP(n.bundledQuery)));case 3:return i=e.sent,a=$I(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=MA(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(LT.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),gO.apply(this,arguments)}function kO(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function bO(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function wO(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var _O=function(){function e(t,n,r,i){l(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return p(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new JI(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(KI("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),xO=function(){function e(t,n,r){l(this,e),this.targetId=t,this.state=n,this.error=r}return p(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new JI(i.error.code,i.error.message))),a?new e(t,i.state,r):(KI("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),EO=function(){function e(t,n){l(this,e),this.clientId=t,this.activeTargetIds=n}return p(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=EN(),o=0;i&&o<r.activeTargetIds.length;++o)i=QS(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(KI("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),IO=function(){function e(t,n){l(this,e),this.clientId=t,this.onlineState=n}return p(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(KI("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),SO=function(){function e(){l(this,e),this.activeTargetIds=EN()}return p(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),TO=function(){function e(t,n,r,i,a){l(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new TT(lS),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=kO(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new SO),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return p(e,[{key:"start",value:function(){var e=eo(Ja().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=S(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(kO(this.persistenceKey,i)))&&(o=EO.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(u=this.storage.getItem(this.vr))&&(s=this.br(u))&&this.Vr(s),c=S(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(wO(this.persistenceKey,e));if(n){var r=xO.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(wO(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return GI("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){GI("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){GI("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(GI("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void KI("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(eo(Ja().mark((function e(){var r,i,a,o,u,s,c;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}s=function(e){var t=KS.ct;if(null!=e)try{var n=JSON.parse(e);YI("number"==typeof n),t=n}catch(e){KI("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==KS.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new _O(this.currentUser,e,t,n),i=bO(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=bO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=wO(this.persistenceKey,e),i=new xO(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return EO.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return _O.ar(new VI(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return xO.ar(r,t)}},{key:"br",value:function(e){return IO.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:GI("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Wr(o,u).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=EN();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),CO=function(){function e(){l(this,e),this.Hr=new SO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new SO,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),NO=function(){function e(){l(this,e)}return p(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),AO=function(){function e(){var t=this;l(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return p(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){GI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=S(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){GI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=S(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),PO=null;function RO(){return null===PO?PO=268435456+Math.round(2147483648*Math.random()):PO++,"0x"+PO.toString(16)}var OO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},DO=function(){function e(t){l(this,e),this.ro=t.ro,this.oo=t.oo}return p(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),LO="WebChannelConnection",MO=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return p(n,[{key:"Ao",value:function(e,t,n,r){var i=RO();return new Promise((function(a,o){var u=new MI;u.setWithCredentials(!0),u.listenOnce(PI.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case AI.NO_ERROR:var t=u.getResponseJson();GI(LO,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case AI.TIMEOUT:GI(LO,"RPC '".concat(e,"' ").concat(i," timed out")),o(new JI(XI.DEADLINE_EXCEEDED,"Request time out"));break;case AI.HTTP_ERROR:var n=u.getStatus();if(GI(LO,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(XI).indexOf(t)>=0?t:XI.UNKNOWN}(s.status);o(new JI(c,s.message))}else o(new JI(XI.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new JI(XI.UNAVAILABLE,"Connection failed."));break;default:QI()}}finally{GI(LO,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);GI(LO,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=RO(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=CI(),o=NI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new DI({})),this.Eo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");GI(LO,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new DO({ro:function(t){h?GI(LO,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(GI(LO,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),GI(LO,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,LI.EventType.OPEN,(function(){h||GI(LO,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,LI.EventType.CLOSE,(function(){h||(h=!0,GI(LO,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,LI.EventType.ERROR,(function(t){h||(h=!0,HI(LO,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new JI(XI.UNAVAILABLE,"The operation could not be completed")))})),p(l,LI.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];YI(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){GI(LO,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=tA[e];if(void 0!==t)return lA(t)}(u),c=o.message;void 0===s&&(s=XI.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.wo(new JI(s,c)),l.close()}else GI(LO,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,RI.STAT_EVENT,(function(t){t.stat===OI.PROXY?GI(LO,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===OI.NOPROXY&&GI(LO,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=RO(),o=this.To(e,t);GI("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.Eo(u,r,i),this.Ao(e,o,u,n).then((function(t){return GI("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw HI("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+zI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=OO[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function FO(){return"undefined"!=typeof window?window:null}function UO(){return"undefined"!=typeof document?document:null}function jO(e){return new PA(e,!0)}var VO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&GI("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),zO=function(){function e(t,n,r,i,a,o,u,s){l(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new VO(t,n)}return p(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===XI.RESOURCE_EXHAUSTED?(KI(n.toString()),KI("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===XI.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new JI(XI.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(eo(Ja().mark((function t(){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return GI("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(GI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),BO=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return p(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:QI()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(YI(void 0===t||"string"==typeof t),LT.fromBase64String(t||"")):(YI(void 0===t||t instanceof Uint8Array),LT.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?XI.UNKNOWN:lA(e.code);return new JI(t,e.message||"")}(o);n=new xA(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=VA(e,s.document.name),l=MA(s.document.updateTime),f=s.document.createTime?MA(s.document.createTime):pS.min(),h=new hC({mapValue:{fields:s.document.fields}}),d=pC.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new wA(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=VA(e,m.document),g=m.readTime?MA(m.readTime):pS.min(),k=pC.newNoDocument(y,g),b=m.removedTargetIds||[];n=new wA([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=VA(e,w.document),x=w.removedTargetIds||[];n=new wA([],x,_,null)}else{if(!("filter"in t))return QI();t.filter;var E=t.filter;E.targetId;var I=E.count,S=void 0===I?0:I,T=E.unchangedNames,C=new sA(S,T),N=E.targetId;n=new _A(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return pS.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?pS.min():t.readTime?MA(t.readTime):pS.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=qA(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=qC(r)?{documents:$A(e,r)}:{query:XA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=DA(e,t.resumeToken);var i=RA(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(pS.min())>0){n.readTime=OA(e,t.snapshotVersion.toTimestamp());var a=RA(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return QI()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=qA(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(zO),qO=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.ru=!1,s}return p(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Gd(y(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(YI(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(YI(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?MA(e.updateTime):MA(t);return n.isEqual(pS.min())&&(n=MA(t)),new zN(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=MA(e.commitTime);return this.listener.cu(n,t)}return YI(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=qA(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return QA(t.serializer,e)}))};this.Wo(n)}}]),n}(zO),GO=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return p(n,[{key:"fu",value:function(){if(this.lu)throw new JI(XI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===XI.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new JI(XI.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.connection.vo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===XI.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new JI(XI.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return p((function e(){l(this,e)}))}());var KO=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return p(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(KI(t),this.mu=!1):GI("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),HO=p((function e(t,n,r,i,a){var o=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=rD(o),!e.t0){e.next=5;break}return GI("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$I(t)).vu.add(4),e.next=4,YO(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,WO(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new KO(r,i)}));function WO(e){return QO.apply(this,arguments)}function QO(){return(QO=eo(Ja().mark((function e(t){var n,r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rD(t)){e.next=18;break}n=S(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function YO(e){return $O.apply(this,arguments)}function $O(){return($O=eo(Ja().mark((function e(t){var n,r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function XO(e,t){var n=$I(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),nD(n)?tD(n):RD(n).Ko()&&ZO(n,t))}function JO(e,t){var n=$I(e),r=RD(n);n.Au.delete(t),r.Ko()&&eD(n,t),0===n.Au.size&&(r.Ko()?r.jo():rD(n)&&n.bu.set("Unknown"))}function ZO(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pS.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}RD(e).su(t)}function eD(e,t){e.Vu.qt(t),RD(e).iu(t)}function tD(e){e.Vu=new IA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),RD(e).start(),e.bu.gu()}function nD(e){return rD(e)&&!RD(e).Uo()&&e.Au.size>0}function rD(e){return 0===$I(e).vu.size}function iD(e){e.Vu=void 0}function aD(e){return oD.apply(this,arguments)}function oD(){return(oD=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){ZO(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uD(e,t){return sD.apply(this,arguments)}function sD(){return(sD=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:iD(t),nD(t)?(t.bu.Iu(n),tD(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cD(e,t,n){return lD.apply(this,arguments)}function lD(){return lD=eo(Ja().mark((function e(t,n,r){var i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof xA&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=eo(Ja().mark((function e(t,n){var r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=S(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),GI("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,fD(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof wA?t.Vu.Ht(n):n instanceof _A?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(pS.min())){e.next=29;break}return e.prev=14,e.next=17,iO(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(LT.EMPTY_BYTE_STRING,r.snapshotVersion)),eD(e,t);var i=new sP(r.target,t,n,r.sequenceNumber);ZO(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),GI("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,fD(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),lD.apply(this,arguments)}function fD(e,t,n){return hD.apply(this,arguments)}function hD(){return(hD=eo(Ja().mark((function e(t,n,r){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(US(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,YO(t);case 5:t.bu.set("Offline"),r||(r=function(){return iO(t.localStore)}),t.asyncQueue.enqueueRetryable(eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GI("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,WO(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dD(e,t){return t().catch((function(n){return fD(e,n,t)}))}function pD(e){return vD.apply(this,arguments)}function vD(){return(vD=eo(Ja().mark((function e(t){var n,r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$I(t),r=OD(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!mD(n)){e.next=19;break}return e.prev=3,e.next=6,uO(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,yD(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,fD(n,e.t0);case 17:e.next=2;break;case 19:gD(n)&&kD(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function mD(e){return rD(e)&&e.Eu.length<10}function yD(e,t){e.Eu.push(t);var n=OD(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function gD(e){return rD(e)&&!OD(e).Uo()&&e.Eu.length>0}function kD(e){OD(e).start()}function bD(e){return wD.apply(this,arguments)}function wD(){return(wD=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:OD(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _D(e){return xD.apply(this,arguments)}function xD(){return(xD=eo(Ja().mark((function e(t){var n,r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=OD(t),r=S(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ED(e,t,n){return ID.apply(this,arguments)}function ID(){return(ID=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=oA.from(i,n,r),e.next=3,dD(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,pD(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SD(e,t){return TD.apply(this,arguments)}function TD(){return TD=eo(Ja().mark((function e(t,n){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&OD(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=eo(Ja().mark((function e(t,n){var r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cA(i=n.code)||i===XI.ABORTED){e.next=7;break}return r=t.Eu.shift(),OD(t).Qo(),e.next=5,dD(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,pD(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:gD(t)&&kD(t);case 5:case"end":return e.stop()}}),e)}))),TD.apply(this,arguments)}function CD(e,t){return ND.apply(this,arguments)}function ND(){return(ND=eo(Ja().mark((function e(t,n){var r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=$I(t)).asyncQueue.verifyOperationInProgress(),GI("RemoteStore","RemoteStore received new credentials"),i=rD(r),r.vu.add(3),e.next=6,YO(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,WO(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AD(e,t){return PD.apply(this,arguments)}function PD(){return(PD=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$I(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,WO(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,YO(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RD(e){return e.Su||(e.Su=function(e,t,n){var r=$I(e);return r.fu(),new BO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:aD.bind(null,e),ao:uD.bind(null,e),nu:cD.bind(null,e)}),e.Ru.push(function(){var t=eo(Ja().mark((function t(n){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),nD(e)?tD(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:iD(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function OD(e){return e.Du||(e.Du=function(e,t,n){var r=$I(e);return r.fu(),new qO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:bD.bind(null,e),ao:SD.bind(null,e),au:_D.bind(null,e),cu:ED.bind(null,e)}),e.Ru.push(function(){var t=eo(Ja().mark((function t(n){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,pD(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(GI("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var DD=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ZI,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new JI(XI.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function LD(e,t){if(KI("AsyncQueue","".concat(t,": ").concat(e)),US(e))return new JI(XI.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var MD=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||kS.comparator(e.key,n.key)}:function(e,t){return kS.comparator(e.key,t.key)},this.keyedMap=vN(),this.sortedSet=new TT(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),FD=function(){function e(){l(this,e),this.Cu=new TT(kS.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):QI():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),UD=function(){function e(t,n,r,i,a,o,u,s,c){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iN(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,MD.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),jD=p((function e(){l(this,e),this.Nu=void 0,this.listeners=[]})),VD=p((function e(){l(this,e),this.queries=new fN((function(e){return aN(e)}),iN),this.onlineState="Unknown",this.ku=new Set}));function zD(e,t){return BD.apply(this,arguments)}function BD(){return BD=eo(Ja().mark((function e(t,n){var r,i,a,o,u;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$I(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new jD),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=LD(e.t0,"Initialization of query '".concat(oN(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&WD(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),BD.apply(this,arguments)}function qD(e,t){return GD.apply(this,arguments)}function GD(){return GD=eo(Ja().mark((function e(t,n){var r,i,a,o,u;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$I(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),GD.apply(this,arguments)}function KD(e,t){var n,r=$I(e),i=!1,a=S(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=S(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&WD(r)}function HD(e,t,n){var r=$I(e),i=r.queries.get(t);if(i){var a,o=S(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function WD(e){e.ku.forEach((function(e){e.next()}))}var QD=function(){function e(t,n,r){l(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=S(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new UD(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=UD.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),YD=function(){function e(t,n){l(this,e),this.Gu=t,this.byteLength=n}return p(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),$D=function(){function e(t){l(this,e),this.serializer=t}return p(e,[{key:"rr",value:function(e){return VA(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?HA(this.serializer,e.document,!1):pC.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return MA(e)}}]),e}(),XD=function(){function e(t,n,r){l(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JD(t)}return p(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=mS.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new $D(this.serializer),i=S(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.rr(a.metadata.name),s=S(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||_N()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=eo(Ja().mark((function e(){var t,n,r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vO(this.localStore,new $D(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=S(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,yO(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function JD(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ZD=p((function e(t){l(this,e),this.key=t})),eL=p((function e(t){l(this,e),this.key=t})),tL=function(){function e(t,n){l(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_N(),this.mutatedKeys=_N(),this.tc=cN(t),this.ec=new MD(this.tc)}return p(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new FD,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=uN(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.tc(f,s)>0||c&&n.tc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:u,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return QI()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,s=u!==this.Xu;return this.Xu=u,0!==a.length||s?{snapshot:new UD(this.query,e.ec,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new FD,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=_N(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new eL(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new ZD(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=_N();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return UD.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),nL=p((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),rL=p((function e(t){l(this,e),this.key=t,this.fc=!1})),iL=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new fN((function(e){return aN(e)}),iN),this._c=new Map,this.mc=new Set,this.gc=new TT(kS.comparator),this.yc=new Map,this.Ic=new LR,this.Tc={},this.Ec=new Map,this.Ac=lR.Mn(),this.onlineState="Unknown",this.vc=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function aL(e,t){return oL.apply(this,arguments)}function oL(){return oL=eo(Ja().mark((function e(t,n){var r,i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JL(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,sO(r.localStore,tN(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,uL(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&XO(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),oL.apply(this,arguments)}function uL(e,t,n,r,i){return sL.apply(this,arguments)}function sL(){return sL=eo(Ja().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=eo(Ja().mark((function e(t,n,r,i){var a,o,u;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,fO(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(CL(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,fO(t.localStore,n,!0);case 3:return o=e.sent,u=new tL(n,o.ir),s=u.sc(o.documents),c=bA.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),CL(t,r,l.cc),f=new nL(n,r,u),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),sL.apply(this,arguments)}function cL(e,t){return lL.apply(this,arguments)}function lL(){return(lL=eo(Ja().mark((function e(t,n){var r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$I(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!iN(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,cO(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),JO(r.remoteStore,i.targetId),SL(r,i.targetId)})).catch(PS);case 9:e.next=14;break;case 11:return SL(r,i.targetId),e.next=14,cO(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fL(e,t,n){return hL.apply(this,arguments)}function hL(){return hL=eo(Ja().mark((function e(t,n,r){var i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ZL(t),e.prev=1,e.next=4,function(e,t){var n,r,i=$I(e),a=dS.now(),o=t.reduce((function(e,t){return e.add(t.key)}),_N());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=dN(),s=_N();return i.Zi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=S(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=QN(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new XN(c.key,l,dC(l.value.mapValue),BN.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:mN(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new TT(lS)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,PL(i,a.changes);case 9:return e.next=11,pD(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=LD(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),hL.apply(this,arguments)}function dL(e,t){return pL.apply(this,arguments)}function pL(){return(pL=eo(Ja().mark((function e(t,n){var r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I(t),e.prev=1,e.next=4,aO(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(YI(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?YI(n.fc):e.removedDocuments.size>0&&(YI(n.fc),n.fc=!1))})),e.next=8,PL(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,PS(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function vL(e,t,n){var r=$I(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=$I(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=S(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&WD(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function mL(e,t,n){return yL.apply(this,arguments)}function yL(){return yL=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s,c;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=$I(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new TT(kS.comparator)).insert(o,pC.newNoDocument(o,pS.min())),s=_N().add(o),c=new kA(pS.min(),new Map,new TT(lS),u,s),e.next=9,dL(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),AL(i),e.next=16;break;case 14:return e.next=16,cO(i.localStore,n,!1).then((function(){return SL(i,n,r)})).catch(PS);case 16:case"end":return e.stop()}}),e)}))),yL.apply(this,arguments)}function gL(e,t){return kL.apply(this,arguments)}function kL(){return(kL=eo(Ja().mark((function e(t,n){var r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I(t),i=n.batch.batchId,e.prev=1,e.next=4,rO(r.localStore,n);case 4:return a=e.sent,IL(r,i,null),EL(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,PL(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,PS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function bL(e,t,n){return wL.apply(this,arguments)}function wL(){return(wL=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$I(t),e.prev=1,e.next=4,function(e,t){var n=$I(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return YI(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,IL(i,n,r),EL(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,PL(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,PS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function _L(e,t){return xL.apply(this,arguments)}function xL(){return(xL=eo(Ja().mark((function e(t,n){var r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rD((r=$I(t)).remoteStore)||GI("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=$I(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=LD(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function EL(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function IL(e,t,n){var r=$I(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function SL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=S(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||TL(e,t)}))}function TL(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(JO(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),AL(e))}function CL(e,t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ZD?(e.Ic.addReference(a.key,t),NL(e,a)):a instanceof eL?(GI("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||TL(e,a.key)):QI()}}catch(o){i.e(o)}finally{i.f()}}function NL(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(GI("SyncEngine","New document in limbo: "+n),e.mc.add(r),AL(e))}function AL(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new kS(mS.fromString(t)),r=e.Ac.next();e.yc.set(r,new rL(n)),e.gc=e.gc.insert(n,r),XO(e.remoteStore,new sP(tN(YC(n.path)),r,"TargetPurposeLimboResolution",KS.ct))}}function PL(e,t,n){return RL.apply(this,arguments)}function RL(){return RL=eo(Ja().mark((function e(t,n,r){var i,a,o,u;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$I(t),a=[],o=[],u=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=XR.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.dc.nu(a),e.next=9,function(){var e=eo(Ja().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return OS.forEach(n,(function(t){return OS.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return OS.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),US(e.t0)){e.next=10;break}throw e.t0;case 10:GI("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=S(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),RL.apply(this,arguments)}function OL(e,t){return DL.apply(this,arguments)}function DL(){return(DL=eo(Ja().mark((function e(t,n){var r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=$I(t)).currentUser.isEqual(n)){e.next=11;break}return GI("SyncEngine","User change. New user:",n.toKey()),e.next=5,tO(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new JI(XI.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,PL(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LL(e,t){var n=$I(e),r=n.yc.get(t);if(r&&r.fc)return _N().add(r.key);var i=_N(),a=n._c.get(t);if(!a)return i;var o,u=S(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wc.get(s);i=i.unionWith(c.view.nc)}}catch(l){u.e(l)}finally{u.f()}return i}function ML(e,t){return FL.apply(this,arguments)}function FL(){return(FL=eo(Ja().mark((function e(t,n){var r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I(t),e.next=3,fO(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&CL(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UL(e,t){return jL.apply(this,arguments)}function jL(){return(jL=eo(Ja().mark((function e(t,n){var r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I(t),e.abrupt("return",dO(r.localStore,n).then((function(e){return PL(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VL(e,t,n,r){return zL.apply(this,arguments)}function zL(){return zL=eo(Ja().mark((function e(t,n,r,i){var a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$I(t),e.next=3,function(e,t){var n=$I(e),r=$I(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):OS.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,pD(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(IL(a,n,i||null),EL(a,n),function(e,t){$I($I(e).mutationQueue).Cn(t)}(a.localStore,n)):QI();case 11:return e.next=13,PL(a,o);case 13:e.next=16;break;case 15:GI("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),zL.apply(this,arguments)}function BL(e,t){return qL.apply(this,arguments)}function qL(){return(qL=eo(Ja().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(JL(r=$I(t)),ZL(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,GL(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,AD(r.remoteStore,!0);case 9:o=S(a);try{for(o.s();!(u=o.n()).done;)s=u.value,XO(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return SL(r,t),cO(r.localStore,t,!0)})),JO(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,GL(r,c);case 21:return function(e){var t=$I(e);t.yc.forEach((function(e,n){JO(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new TT(kS.comparator)}(r),r.vc=!1,e.next=25,AD(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GL(e,t,n){return KL.apply(this,arguments)}function KL(){return KL=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=$I(t),a=[],o=[],u=S(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,sO(i.localStore,tN(f[0]));case 11:l=e.sent,h=S(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,ML(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,hO(i.localStore,c);case 36:return y=e.sent,e.next=39,sO(i.localStore,y);case 39:return l=e.sent,e.next=42,uL(i,HL(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),KL.apply(this,arguments)}function HL(e){return QC(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function WL(e){var t=$I(e);return $I($I(t.localStore).persistence).$i()}function QL(e,t,n,r){return YL.apply(this,arguments)}function YL(){return YL=eo(Ja().mark((function e(t,n,r,i){var a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=$I(t)).vc){e.next=3;break}return e.abrupt("return",void GI("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,dO(a.localStore,sN(o[0]));case 10:return u=e.sent,s=kA.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,LT.EMPTY_BYTE_STRING),e.next=14,PL(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,cO(a.localStore,n,!0);case 17:return SL(a,n,i),e.abrupt("break",20);case 19:QI();case 20:case"end":return e.stop()}}),e)}))),YL.apply(this,arguments)}function $L(e,t,n){return XL.apply(this,arguments)}function XL(){return(XL=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=JL(t)).vc){e.next=45;break}a=S(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i._c.has(u)){e.next=10;break}return GI("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,hO(i.localStore,u);case 12:return s=e.sent,e.next=15,sO(i.localStore,s);case 15:return c=e.sent,e.next=18,uL(i,HL(s),c.targetId,!1,c.resumeToken);case 18:XO(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=S(r),e.prev=30,h=Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,cO(i.localStore,t,!1).then((function(){JO(i.remoteStore,t),SL(i,t)})).catch(PS);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function JL(e){var t=$I(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mL.bind(null,t),t.dc.nu=KD.bind(null,t.eventManager),t.dc.Pc=HD.bind(null,t.eventManager),t}function ZL(e){var t=$I(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bL.bind(null,t),t}function eM(e,t,n){var r=$I(e);(function(){var e=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=$I(e),r=MA(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(JD(i)),a=new XD(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,PL(t,s.Ju,void 0);case 31:return e.next=33,function(e,t){var n=$I(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(HI("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var tM=function(){function e(){l(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=jO(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return eO(this.persistence,new JR,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new zR(qR.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new CO}},{key:"terminate",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),nM=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return p(n,[{key:"initialize",value:function(){var e=eo(Ja().mark((function e(t){var r=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gd(y(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,ZL(this.Vc.syncEngine);case 6:return e.next=8,pD(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return eO(this.persistence,new JR,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new yR(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new GS(t,this.persistence);return new qS(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=$R(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nR.withCacheSize(this.cacheSizeBytes):nR.DEFAULT;return new WR(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,FO(),UO(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new CO}}]),n}(tM),rM=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return p(n,[{key:"initialize",value:function(){var e=eo(Ja().mark((function e(t){var r,i=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gd(y(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof TO,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:VL.bind(null,r),zr:QL.bind(null,r),Wr:$L.bind(null,r),$i:WL.bind(null,r),Qr:UL.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BL(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=FO();if(!TO.D(t))throw new JI(XI.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$R(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new TO(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(nM),iM=function(){function e(){l(this,e)}return p(e,[{key:"initialize",value:function(){var e=eo(Ja().mark((function e(t,n){var r=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return vL(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=OL.bind(null,this.syncEngine),e.next=12,AD(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new VD}},{key:"createDatastore",value:function(e){var t,n=jO(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new MO(t));return function(e,t,n,r){return new GO(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return vL(o.syncEngine,e,0)},a=AO.D()?new AO:new NO,new HO(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new iL(e,t,n,r,i,a);return o&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$I(t),GI("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,YO(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function aM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return eo(Ja().mark((function r(){var i;return Ja().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var oM=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):KI("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),uM=function(){function e(t,n){var r=this;l(this,e),this.Cc=t,this.serializer=n,this.metadata=new ZI,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return p(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=eo(Ja().mark((function e(){var t,n,r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new YD(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=eo(Ja().mark((function e(){var t,n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=eo(Ja().mark((function e(){var t,n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),sM=function(){function e(t){l(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return p(e,[{key:"lookup",value:function(){var e=eo(Ja().mark((function e(t){var n,r=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new JI(XI.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=eo(Ja().mark((function e(t,n){var r,i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I(t),i=qA(r.serializer)+"/documents",a={documents:n.map((function(e){return jA(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=WA(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());YI(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new rA(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=eo(Ja().mark((function e(){var t,n=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=kS.fromPath(t);n.mutations.push(new iA(r,n.precondition(r)))})),e.next=7,function(){var e=eo(Ja().mark((function e(t,n){var r,i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$I(t),i=qA(r.serializer)+"/documents",a={writes:n.map((function(e){return QA(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw QI();t=pS.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new JI(XI.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(pS.min())?BN.exists(!1):BN.updateTime(t):BN.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pS.min()))throw new JI(XI.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return BN.updateTime(t)}return BN.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),cM=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new VO(this.asyncQueue,"transaction_retry")}return p(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(eo(Ja().mark((function t(){var n,r;return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new sM(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!HS(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cA(t)}return!1}}]),e}(),lM=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=VI.UNAUTHENTICATED,this.clientId=cS.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GI("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return GI("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=eo(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new JI(XI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ZI;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(eo(Ja().mark((function n(){var r;return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=LD(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function fM(e,t){return hM.apply(this,arguments)}function hM(){return hM=eo(Ja().mark((function e(t,n){var r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),GI("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,tO(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),hM.apply(this,arguments)}function dM(e,t){return pM.apply(this,arguments)}function pM(){return(pM=eo(Ja().mark((function e(t,n){var r,i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,mM(t);case 3:return r=e.sent,GI("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return CD(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return CD(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vM(e){return"FirebaseError"===e.name?e.code===XI.FAILED_PRECONDITION||e.code===XI.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function mM(e){return yM.apply(this,arguments)}function yM(){return(yM=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return GI("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,fM(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),vM(n=e.t0)){e.next=13;break}throw n;case 13:return HI("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,fM(t,new tM);case 16:e.next=21;break;case 18:return GI("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,fM(t,new tM);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function gM(e){return kM.apply(this,arguments)}function kM(){return(kM=eo(Ja().mark((function e(t){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return GI("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,dM(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return GI("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,dM(t,new iM);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bM(e){return mM(e).then((function(e){return e.persistence}))}function wM(e){return mM(e).then((function(e){return e.localStore}))}function _M(e){return gM(e).then((function(e){return e.remoteStore}))}function xM(e){return gM(e).then((function(e){return e.syncEngine}))}function EM(e){return gM(e).then((function(e){return e.datastore}))}function IM(e){return SM.apply(this,arguments)}function SM(){return(SM=eo(Ja().mark((function e(t){var n,r;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gM(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=aL.bind(null,n.syncEngine),r.onUnlisten=cL.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ZI;return e.asyncQueue.enqueueAndForget(eo(Ja().mark((function i(){return Ja().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new oM({next:function(a){t.enqueueAndForget((function(){return qD(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new JI(XI.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new JI(XI.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new QD(YC(n.path),a,{includeMetadataChanges:!0,Ku:!0});return zD(e,o)},i.next=3,IM(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function CM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ZI;return e.asyncQueue.enqueueAndForget(eo(Ja().mark((function i(){return Ja().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new oM({next:function(n){t.enqueueAndForget((function(){return qD(e,o)})),n.fromCache&&"server"===r.source?i.reject(new JI(XI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new QD(n,a,{includeMetadataChanges:!0,Ku:!0});return zD(e,o)},i.next=3,IM(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function NM(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var AM=new Map;function PM(e,t,n){if(!n)throw new JI(XI.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function RM(e,t,n,r){if(!0===t&&!0===r)throw new JI(XI.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function OM(e){if(!kS.isDocumentKey(e))throw new JI(XI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function DM(e){if(kS.isDocumentKey(e))throw new JI(XI.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function LM(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":QI()}function MM(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new JI(XI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=LM(e);throw new JI(XI.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function FM(e,t){if(t<=0)throw new JI(XI.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var UM=function(){function e(t){var n,r;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new JI(XI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new JI(XI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NM(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new JI(XI.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new JI(XI.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new JI(XI.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),jM=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UM({}),this._settingsFrozen=!1}return p(e,[{key:"app",get:function(){if(!this._app)throw new JI(XI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new JI(XI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UM(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new tS;switch(e.type){case"firstParty":return new aS(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new JI(XI.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=AM.get(e);t&&(GI("ComponentProvider","Removing Datastore"),AM.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function VM(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=MM(e,jM))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&HI("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=VI.MOCK_USER;else{o=Pa(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new JI(XI.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new VI(s)}e._authCredentials=new nS(new eS(o,u))}}var zM=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new qM(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),BM=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),qM=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,YC(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new zM(this.firestore,null,new kS(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(BM);function GM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xa(e),PM("collection","path",t),e instanceof jM){var a=mS.fromString.apply(mS,[t].concat(r));return DM(a),new qM(e,null,a)}if(!(e instanceof zM||e instanceof qM))throw new JI(XI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(mS.fromString.apply(mS,[t].concat(r)));return DM(o),new qM(e.firestore,null,o)}function KM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xa(e),1===arguments.length&&(t=cS.A()),PM("doc","path",t),e instanceof jM){var a=mS.fromString.apply(mS,[t].concat(r));return OM(a),new zM(e,null,new kS(a))}if(!(e instanceof zM||e instanceof qM))throw new JI(XI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(mS.fromString.apply(mS,[t].concat(r)));return OM(o),new zM(e.firestore,e instanceof qM?e.converter:null,new kS(o))}function HM(e,t){return e=Xa(e),t=Xa(t),(e instanceof zM||e instanceof qM)&&(t instanceof zM||t instanceof qM)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function WM(e,t){return e=Xa(e),t=Xa(t),e instanceof BM&&t instanceof BM&&e.firestore===t.firestore&&iN(e._query,t._query)&&e.converter===t.converter}var QM=function(){function e(){var t=this;l(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new VO(this,"async_queue_retry"),this.Xc=function(){var e=UO();e&&GI("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=UO();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return p(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=UO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new ZI;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=eo(Ja().mark((function e(){var t=this;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),US(e.t0)){e.next=12;break}throw e.t0;case 12:GI("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw KI("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=DD.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&QI()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=eo(Ja().mark((function e(){var t;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=S(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=S(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function YM(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=S(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var $M=function(){function e(){l(this,e),this._progressObserver={},this._taskCompletionResolver=new ZI,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return p(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),XM=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new QM,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||ZM(this),this._firestoreClient.terminate()}}]),n}(jM);function JM(e){return e._firestoreClient||ZM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZM(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new qT(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,NM(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new lM(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function eF(e,t,n){var r=new ZI;return e.asyncQueue.enqueue(eo(Ja().mark((function i(){var a;return Ja().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,fM(e,n);case 3:return i.next=5,dM(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),vM(a=i.t0)){i.next=13;break}throw a;case 13:HI("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function tF(e){return function(e){return e.asyncQueue.enqueue(eo(Ja().mark((function t(){var n,r;return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bM(e);case 2:return n=t.sent,t.next=5,_M(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=$I(e);return t.vu.delete(0),WO(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(JM(e=MM(e,XM)))}function nF(e){return function(e){return e.asyncQueue.enqueue(eo(Ja().mark((function t(){var n,r;return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bM(e);case 2:return n=t.sent,t.next=5,_M(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$I(t)).vu.add(0),e.next=4,YO(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(JM(e=MM(e,XM)))}function rF(e,t){var n=JM(e=MM(e,XM)),r=new $M;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new uM(e,t)}(function(e,t){if(e instanceof Uint8Array)return aM(e,t);if(e instanceof ArrayBuffer)return aM(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?dA().encode(e):e),t)}(n,jO(t));e.asyncQueue.enqueueAndForget(eo(Ja().mark((function t(){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=eM,t.next=3,xM(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function iF(e,t){return function(e,t){return e.asyncQueue.enqueue(eo(Ja().mark((function n(){return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=$I(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,wM(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(JM(e=MM(e,XM)),t).then((function(t){return t?new BM(e,null,t.query):null}))}function aF(e){if(e._initialized||e._terminated)throw new JI(XI.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var oF=function(){function e(t){l(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(LT.fromBase64String(t))}catch(t){throw new JI(XI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(LT.fromUint8Array(t))}}]),e}(),uF=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new JI(XI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gS(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var sF=p((function e(t){l(this,e),this._methodName=t})),cF=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new JI(XI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new JI(XI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return lS(this._lat,e._lat)||lS(this._long,e._long)}}]),e}(),lF=/^__.*__$/,fF=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new XN(e,this.data,this.fieldMask,t,this.fieldTransforms):new $N(e,this.data,t,this.fieldTransforms)}}]),e}(),hF=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new XN(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dF(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw QI()}}var pF=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return DF(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(dF(this.ca)&&lF.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),vF=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||jO(t)}return p(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pF({ca:e,methodName:t,ga:n,path:gS.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function mF(e){var t=e._freezeSettings(),n=jO(e._databaseId);return new vF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yF(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);AF("Data must be an object, but it was:",o,r);var u,s,c=CF(r,o);if(a.merge)u=new OT(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=S(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=PF(t,l.value,n);if(!o.contains(d))throw new JI(XI.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));LF(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new OT(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new fF(new hC(c),u,s)}var gF=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sF);function kF(e,t,n){return new pF({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var bF=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){return new VN(e.path,new RN)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sF),wF=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).pa=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=kF(this,e,!0),n=this.pa.map((function(e){return TF(e,t)})),r=new ON(n);return new VN(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sF),_F=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).pa=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=kF(this,e,!0),n=this.pa.map((function(e){return TF(e,t)})),r=new LN(n);return new VN(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sF),xF=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).Ia=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=new FN(e.serializer,TN(e.serializer,this.Ia));return new VN(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sF);function EF(e,t,n,r){var i=e.ya(1,t,n);AF("Data must be an object, but it was:",i,r);var a=[],o=hC.empty();IT(r,(function(e,r){var u=OF(t,e,n);r=Xa(r);var s=i.da(u);if(r instanceof gF)a.push(u);else{var c=TF(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new OT(a);return new hF(o,u,i.fieldTransforms)}function IF(e,t,n,r,i,a){var o=e.ya(1,t,n),u=[PF(t,r,n)],s=[i];if(a.length%2!=0)throw new JI(XI.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(PF(t,a[c])),s.push(a[c+1]);for(var l=[],f=hC.empty(),h=u.length-1;h>=0;--h)if(!LF(l,u[h])){var d=u[h],p=s[h];p=Xa(p);var v=o.da(d);if(p instanceof gF)l.push(d);else{var m=TF(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new OT(l);return new hF(f,y,o.fieldTransforms)}function SF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TF(n,e.ya(r?4:3,t))}function TF(e,t){if(NF(e=Xa(e)))return AF("Unsupported field value:",t,e),CF(e,t);if(e instanceof sF)return function(e,t){if(!dF(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=S(e);try{for(a.s();!(n=a.n()).done;){var o=TF(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Xa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return TN(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=dS.fromDate(e);return{timestampValue:OA(t.serializer,n)}}if(e instanceof dS){var r=new dS(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:OA(t.serializer,r)}}if(e instanceof cF)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof oF)return{bytesValue:DA(t.serializer,e._byteString)};if(e instanceof zM){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:FA(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(LM(e)))}(e,t)}function CF(e,t){var n={};return ST(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):IT(e,(function(e,r){var i=TF(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function NF(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof dS||e instanceof cF||e instanceof oF||e instanceof zM||e instanceof sF)}function AF(e,t,n){if(!NF(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=LM(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function PF(e,t,n){if((t=Xa(t))instanceof uF)return t._internalPath;if("string"==typeof t)return OF(e,t);throw DF("Field path arguments must be of type string or ",e,!1,void 0,n)}var RF=new RegExp("[~\\*/\\[\\]]");function OF(e,t,n){if(t.search(RF)>=0)throw DF("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(uF,c(t.split(".")))._internalPath}catch(r){throw DF("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function DF(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new JI(XI.INVALID_ARGUMENT,u+e+s)}function LF(e,t){return e.some((function(e){return e.isEqual(t)}))}var MF=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new zM(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new FF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(UF("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),FF=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return Gd(y(n.prototype),"data",this).call(this)}}]),n}(MF);function UF(e,t){return"string"==typeof t?OF(e,t):t instanceof uF?t._internalPath:t._delegate._internalPath}function jF(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new JI(XI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VF=p((function e(){l(this,e)})),zF=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n)}(VF);function BF(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof VF&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof GF})).length,n=e.filter((function(e){return e instanceof qF})).length;if(t>1||t>0&&n>0)throw new JI(XI.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=S(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var qF=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=this._parse(e);return nU(e._query,t),new BM(e.firestore,e.converter,nN(e._query,t))}},{key:"_parse",value:function(e){var t=mF(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new JI(XI.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){tU(o,a);var s,c=[],l=S(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(eU(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=eU(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||tU(o,a),u=SF(n,"where",o,"in"===a||"not-in"===a);return wC.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zF);var GF=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return p(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:_C.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=S(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;nU(r,a),r=nN(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new BM(e.firestore,e.converter,nN(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(VF);var KF=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return p(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new JI(XI.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new JI(XI.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gC(t,n);return function(e,t){if(null===XC(e)){var n=JC(e);null!==n&&rU(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new BM(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new WC(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(zF);var HF=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return p(n,[{key:"_apply",value:function(e){return new BM(e.firestore,e.converter,rN(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zF);var WF=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=ZF(e,this.type,this._docOrFields,this._inclusive);return new BM(e.firestore,e.converter,function(e,t){return new WC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zF);function QF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WF._create("startAt",t,!0)}function YF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WF._create("startAfter",t,!1)}var $F=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=ZF(e,this.type,this._docOrFields,this._inclusive);return new BM(e.firestore,e.converter,function(e,t){return new WC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zF);function XF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $F._create("endBefore",t,!1)}function JF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $F._create("endAt",t,!0)}function ZF(e,t,n,r){if(n[0]=Xa(n[0]),n[0]instanceof MF)return function(e,t,n,r,i){if(!r)throw new JI(XI.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=S(eN(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(eC(t,r.key));else{var c=r.data.field(s.field);if(VT(c))throw new JI(XI.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new JI(XI.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new vC(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mF(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new JI(XI.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new JI(XI.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ZC(e)&&-1!==c.indexOf("/"))throw new JI(XI.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(mS.fromString(c));if(!kS.isDocumentKey(l))throw new JI(XI.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new kS(l);u.push(eC(t,f))}else{var h=SF(n,r,c);u.push(h)}}return new vC(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function eU(e,t,n){if("string"==typeof(n=Xa(n))){if(""===n)throw new JI(XI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZC(t)&&-1!==n.indexOf("/"))throw new JI(XI.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(mS.fromString(n));if(!kS.isDocumentKey(r))throw new JI(XI.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return eC(e,new kS(r))}if(n instanceof zM)return eC(e,n._key);throw new JI(XI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(LM(n),"."))}function tU(e,t){if(!Array.isArray(e)||0===e.length)throw new JI(XI.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function nU(e,t){if(t.isInequality()){var n=JC(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new JI(XI.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=XC(e);null!==i&&rU(e,r,i)}var a=function(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i,a=S(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new JI(XI.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new JI(XI.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function rU(e,t,n){if(!n.isEqual(t))throw new JI(XI.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var iU=function(){function e(){l(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(WT(e)){case 0:return null;case 1:return e.booleanValue;case 2:return UT(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jT(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw QI()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return IT(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new cF(UT(e.latitude),UT(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=zT(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(BT(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=FT(e);return new dS(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=mS.fromString(e);YI(uP(n));var r=new GT(n.get(1),n.get(3)),i=new kS(n.popFirst(5));return r.isEqual(t)||KI("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function aU(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var oU=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new oF(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zM(this.firestore,null,t)}}]),n}(iU);var uU=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),sU=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return p(n,[{key:"exists",value:function(){return Gd(y(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new cU(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(UF("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(MF),cU=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gd(y(n.prototype),"data",this).call(this,e)}}]),n}(sU),lU=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new uU(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new cU(n._firestore,n._userDataWriter,r.key,r,new uU(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new JI(XI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new cU(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uU(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new cU(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uU(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:fU(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function fU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return QI()}}function hU(e,t){return e instanceof sU&&t instanceof sU?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof lU&&t instanceof lU&&e._firestore===t._firestore&&WM(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var dU=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new oF(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zM(this.firestore,null,t)}}]),n}(iU);function pU(e){e=MM(e,zM);var t=MM(e.firestore,XM),n=JM(t),r=new dU(t);return function(e,t){var n=new ZI;return e.asyncQueue.enqueueAndForget(eo(Ja().mark((function r(){return Ja().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=eo(Ja().mark((function e(t,n,r){var i,a;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=$I(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new JI(XI.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=LD(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wM(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new sU(t,r,e._key,n,new uU(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function vU(e){e=MM(e,BM);var t=MM(e.firestore,XM),n=JM(t),r=new dU(t);return function(e,t){var n=new ZI;return e.asyncQueue.enqueueAndForget(eo(Ja().mark((function r(){return Ja().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=eo(Ja().mark((function e(t,n,r){var i,a,o,u,s;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fO(t,n,!0);case 3:i=e.sent,a=new tL(n,i.ir),o=a.sc(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=LD(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wM(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new lU(t,r,e,n)}))}function mU(e,t,n){e=MM(e,zM);var r=MM(e.firestore,XM),i=aU(e.converter,t,n);return bU(r,[yF(mF(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,BN.none())])}function yU(e,t,n){e=MM(e,zM);for(var r=MM(e.firestore,XM),i=mF(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return bU(r,[("string"==typeof(t=Xa(t))||t instanceof uF?IF(i,"updateDoc",e._key,t,n,o):EF(i,"updateDoc",e._key,t)).toMutation(e._key,BN.exists(!0))])}function gU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Xa(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||YM(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(YM(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof zM)l=MM(e.firestore,XM),f=YC(e._key.path),c={next:function(t){n[s]&&n[s](wU(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=MM(e,BM);l=MM(p.firestore,XM),f=p._query;var v=new dU(l);c={next:function(e){n[s]&&n[s](new lU(l,v,p,e))},error:n[s+1],complete:n[s+2]},jF(e._query)}return function(e,t,n,r){var i=new oM(r),a=new QD(t,i,n);return e.asyncQueue.enqueueAndForget(eo(Ja().mark((function t(){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zD,t.next=3,IM(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(eo(Ja().mark((function t(){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qD,t.next=3,IM(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(JM(l),f,h,c)}function kU(e,t){return function(e,t){var n=new oM(t);return e.asyncQueue.enqueueAndForget(eo(Ja().mark((function t(){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$I(e).ku.add(t),t.next()},t.next=3,IM(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(eo(Ja().mark((function t(){return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$I(e).ku.delete(t)},t.next=3,IM(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(JM(e=MM(e,XM)),YM(t)?t:{next:t})}function bU(e,t){return function(e,t){var n=new ZI;return e.asyncQueue.enqueueAndForget(eo(Ja().mark((function r(){return Ja().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=fL,r.next=3,xM(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(JM(e),t)}function wU(e,t,n){var r=n.docs.get(t._key),i=new dU(e);return new sU(e,i,t._key,r,new uU(n.hasPendingWrites,n.fromCache),t.converter)}var _U={maxAttempts:5},xU=function(){function e(t,n){l(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mF(t)}return p(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=EU(e,this._firestore),i=aU(r.converter,t,n),a=yF(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,BN.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=EU(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Xa(t))||t instanceof uF?IF(this._dataReader,"WriteBatch.update",i._key,t,n,o):EF(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,BN.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=EU(e,this._firestore);return this._mutations=this._mutations.concat(new rA(t._key,BN.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new JI(XI.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function EU(e,t){if((e=Xa(e)).firestore!==t)throw new JI(XI.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var IU=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._firestore=e,i}return p(n,[{key:"get",value:function(e){var t=this,r=EU(e,this._firestore),i=new dU(this._firestore);return Gd(y(n.prototype),"get",this).call(this,e).then((function(e){return new sU(t._firestore,i,r._key,e._document,new uU(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){l(this,e),this._firestore=t,this._transaction=n,this._dataReader=mF(t)}return p(e,[{key:"get",value:function(e){var t=this,n=EU(e,this._firestore),r=new oU(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return QI();var i=e[0];if(i.isFoundDocument())return new MF(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new MF(t._firestore,r,n._key,null,n.converter);throw QI()}))}},{key:"set",value:function(e,t,n){var r=EU(e,this._firestore),i=aU(r.converter,t,n),a=yF(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=EU(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Xa(t))||t instanceof uF?IF(this._dataReader,"Transaction.update",i._key,t,n,o):EF(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=EU(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function SU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wF("arrayUnion",t)}function TU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _F("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){zI=e}(Jo),Ko(new to("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new XM(new rS(e.getProvider("auth-internal")),new uS(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new JI(XI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new GT(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),iu(jI,"3.12.1",e),iu(jI,"3.12.1","esm2017")}();function CU(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new JI("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function NU(){if("undefined"===typeof Uint8Array)throw new JI("unimplemented","Uint8Arrays are not available in this environment.")}function AU(){if("undefined"==typeof atob)throw new JI("unimplemented","Blobs are unavailable in Firestore in this environment.")}var PU=function(){function e(t){l(this,e),this._delegate=t}return p(e,[{key:"toBase64",value:function(){return AU(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return NU(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return AU(),new e(oF.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return NU(),new e(oF.fromUint8Array(t))}}]),e}();function RU(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=S(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var OU=function(){function e(){l(this,e)}return p(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){aF(e=MM(e,XM));var n=JM(e);if(n._uninitializedComponentsProvider)throw new JI(XI.FAILED_PRECONDITION,"SDK cache is already specified.");HI("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new iM;return eF(n,i,new nM(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){aF(e=MM(e,XM));var t=JM(e);if(t._uninitializedComponentsProvider)throw new JI(XI.FAILED_PRECONDITION,"SDK cache is already specified.");HI("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new iM;return eF(t,r,new rM(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new JI(XI.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ZI;return e._queue.enqueueAndForgetEvenWhileRestricted(eo(Ja().mark((function n(){return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=eo(Ja().mark((function e(t){var n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(LS.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,LS.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()($R(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),DU=function(){function e(t,n,r){var i=this;l(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof GT||(this._appCompat=t)}return p(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||HI("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};VM(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return tF(this._delegate)}},{key:"disableNetwork",value:function(){return nF(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&RM("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new ZI;return e.asyncQueue.enqueueAndForget(eo(Ja().mark((function n(){return Ja().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=_L,n.next=3,xM(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(JM(MM(this._delegate,XM)))}},{key:"onSnapshotsInSync",value:function(e){return kU(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new JI("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new QU(this,GM(this._delegate,e))}catch(t){throw VU(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new jU(this,KM(this._delegate,e))}catch(t){throw VU(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new KU(this,function(e,t){if(e=MM(e,jM),PM("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new JI(XI.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new BM(e,null,function(e){return new WC(mS.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw VU(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=MM(e,XM);var r=Object.assign(Object.assign({},_U),n);return function(e){if(e.maxAttempts<1)throw new JI(XI.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ZI;return e.asyncQueue.enqueueAndForget(eo(Ja().mark((function i(){var a;return Ja().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,EM(e);case 2:a=i.sent,new cM(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(JM(e),(function(n){return t(new IU(e,n))}),r)}(this._delegate,(function(n){return e(new MU(t,n))}))}},{key:"batch",value:function(){var e=this;return JM(this._delegate),new FU(new xU(this._delegate,(function(t){return bU(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return rF(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return iF(this._delegate,e).then((function(e){return e?new KU(t,e):null}))}}]),e}(),LU=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new PU(new oF(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return jU.forKey(t,this.firestore,null)}}]),n}(iU);var MU=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new LU(t)}return p(e,[{key:"get",value:function(e){var t=this,n=YU(e);return this._delegate.get(n).then((function(e){return new qU(t._firestore,new sU(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=YU(e);return n?(CU("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=YU(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=YU(e);return this._delegate.delete(t),this}}]),e}(),FU=function(){function e(t){l(this,e),this._delegate=t}return p(e,[{key:"set",value:function(e,t,n){var r=YU(e);return n?(CU("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=YU(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=YU(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),UU=function(){function e(t,n,r){l(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return p(e,[{key:"fromFirestore",value:function(e,t){var n=new cU(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new GU(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new LU(t),n),i.set(n,a)),a}}]),e}();UU.INSTANCES=new WeakMap;var jU=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new LU(t)}return p(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new QU(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new QU(this.firestore,GM(this._delegate,e))}catch(t){throw VU(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Xa(e))instanceof zM&&HM(this._delegate,e)}},{key:"set",value:function(e,t){t=CU("DocumentReference.set",t);try{return t?mU(this._delegate,e,t):mU(this._delegate,e)}catch(n){throw VU(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?yU(this._delegate,e):yU.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw VU(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return bU(MM((e=this._delegate).firestore,XM),[new rA(e._key,BN.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=zU(n),a=BU(n,(function(t){return new qU(e.firestore,new sU(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return gU(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?pU(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=MM(e,zM);var t=MM(e.firestore,XM);return TM(JM(t),e._key,{source:"server"}).then((function(n){return wU(t,e,n)}))}(this._delegate):function(e){e=MM(e,zM);var t=MM(e.firestore,XM);return TM(JM(t),e._key).then((function(n){return wU(t,e,n)}))}(this._delegate)).then((function(e){return new qU(t.firestore,new sU(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(UU.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new JI("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new zM(n._delegate,r,new kS(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new zM(n._delegate,r,t))}}]),e}();function VU(e,t,n){return e.message=e.message.replace(t,n),e}function zU(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!RU(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function BU(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=RU(e[0])?e[0]:RU(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var qU=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"ref",get:function(){return new jU(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return hU(this._delegate,e._delegate)}}]),e}(),GU=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||QI(),t}}]),n}(qU),KU=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new LU(t)}return p(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,BF(this._delegate,function(e,t,n){var r=t,i=UF("where",e);return qF._create(i,r,n)}(t,n,r)))}catch(i){throw VU(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,BF(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=UF("orderBy",e);return KF._create(n,t)}(t,n)))}catch(r){throw VU(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,BF(this._delegate,(FM("limit",n=t),HF._create("limit",n,"F"))))}catch(r){throw VU(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,BF(this._delegate,(FM("limitToLast",n=t),HF._create("limitToLast",n,"L"))))}catch(r){throw VU(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,BF(this._delegate,QF.apply(void 0,arguments)))}catch(t){throw VU(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,BF(this._delegate,YF.apply(void 0,arguments)))}catch(t){throw VU(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,BF(this._delegate,XF.apply(void 0,arguments)))}catch(t){throw VU(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,BF(this._delegate,JF.apply(void 0,arguments)))}catch(t){throw VU(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return WM(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?vU(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=MM(e,BM);var t=MM(e.firestore,XM),n=JM(t),r=new dU(t);return CM(n,e._query,{source:"server"}).then((function(n){return new lU(t,r,e,n)}))}(this._delegate):function(e){e=MM(e,BM);var t=MM(e.firestore,XM),n=JM(t),r=new dU(t);return jF(e._query),CM(n,e._query).then((function(n){return new lU(t,r,e,n)}))}(this._delegate)).then((function(e){return new WU(t.firestore,new lU(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=zU(n),a=BU(n,(function(t){return new WU(e.firestore,new lU(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return gU(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(UU.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),HU=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new GU(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),WU=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"query",get:function(){return new KU(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new GU(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new HU(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new GU(n._firestore,r))}))}},{key:"isEqual",value:function(e){return hU(this._delegate,e._delegate)}}]),e}(),QU=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return p(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new jU(this.firestore,e):null}},{key:"doc",value:function(e){try{return new jU(this.firestore,void 0===e?KM(this._delegate):KM(this._delegate,e))}catch(t){throw VU(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=MM(e.firestore,XM),r=KM(e),i=aU(e.converter,t);return bU(n,[yF(mF(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,BN.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new jU(t.firestore,e)}))}},{key:"isEqual",value:function(e){return HM(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(UU.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(KU);function YU(e){return MM(e,zM)}var $U=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=x(uF,n)}return p(e,[{key:"isEqual",value:function(e){return(e=Xa(e))instanceof uF&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gS.keyField().canonicalString())}}]),e}(),XU=function(){function e(t){l(this,e),this._delegate=t}return p(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new bF("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new gF("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=SU.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=TU.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new xF("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),JU={Firestore:DU,GeoPoint:cF,Timestamp:dS,Blob:PU,Transaction:MU,WriteBatch:FU,DocumentReference:jU,DocumentSnapshot:qU,Query:KU,QueryDocumentSnapshot:GU,QuerySnapshot:WU,CollectionReference:QU,FieldPath:$U,FieldValue:XU,setLogLevel:function(e){var t;t=e,BI.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new to("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},JU)))}(e,(function(e,t){return new DU(e,t,new OU)})),e.registerVersion("@firebase/firestore-compat","0.3.10")}(Au);var ZU=function(){var e=u(_.useState("register"),2),t=e[0],n=e[1],r=u(_.useState(""),2),i=r[0],a=r[1],o=u(_.useState(""),2),s=o[0],c=o[1],l=u(_.useState(""),2),f=l[0],h=l[1],d=be(),p=u(_.useState(!1),2),v=p[0],m=p[1];return(0,ga.jsxs)(Mi,{children:[(0,ga.jsxs)(cc,{widths:"2",children:[(0,ga.jsx)(cc.Item,{active:"register"===t,onClick:function(){h(""),n("register")},children:"Register"}),(0,ga.jsx)(cc.Item,{active:"signin"===t,onClick:function(){h(""),n("signin")},children:"Login"})]}),(0,ga.jsxs)(Dd,{onSubmit:function(){m(!0),"register"===t?Pu.auth().createUserWithEmailAndPassword(i,s).then((function(){d("/posts"),m(!1)})).catch((function(e){switch(e.code){case"auth/email-already-in-use":h("Email already in used.");break;case"auth/invalid-email":h("Invalid Email format.");break;case"auth/weak-password":h("Weak password.")}m(!1)})):"signin"===t&&Pu.auth().signInWithEmailAndPassword(i,s).then((function(){d("/posts"),m(!1)})).catch((function(e){switch(e.code){case"auth/invalid-email":h("Invalid Email format.");break;case"auth/user-not-found":h("User not existed.");break;case"auth/wrong-password":h("Wrong password.")}m(!1)}))},children:[(0,ga.jsx)(Dd.Input,{label:"Email",value:i,onChange:function(e){return a(e.target.value)},placeholder:"Please enter email"}),(0,ga.jsx)(Dd.Input,{label:"Password",value:s,onChange:function(e){return c(e.target.value)},placeholder:"Please enter password",type:"password"}),f&&(0,ga.jsx)(qd,{negative:!0,children:f}),(0,ga.jsxs)(Dd.Button,{loading:v,children:["register"===t&&"Register","signin"===t&&"Login"]})]})]})};function ej(e){var t=e.children,n=e.className,r=e.content,i=Ze("header",n),a=ct(ej,e),o=lt(ej,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}ej.handledProps=["as","children","className","content"],ej.propTypes={},ej.create=oa(ej,(function(e){return{content:e}}));var tj=ej;function nj(e){var t=e.children,n=e.className,r=e.content,i=Ze("description",n),a=ct(nj,e),o=lt(nj,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}nj.handledProps=["as","children","className","content"],nj.propTypes={},nj.create=oa(nj,(function(e){return{content:e}}));var rj=nj;function ij(e){var t=e.children,n=e.className,r=e.content,i=Ze("extra",n),a=ct(ij,e),o=lt(ij,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}ij.handledProps=["as","children","className","content"],ij.propTypes={},ij.create=oa(ij,(function(e){return{content:e}}));var aj=ij;function oj(e){var t=e.children,n=e.className,r=e.content,i=Ze("meta",n),a=ct(oj,e),o=lt(oj,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}oj.handledProps=["as","children","className","content"],oj.propTypes={},oj.create=oa(oj,(function(e){return{content:e}}));var uj=oj;function sj(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.meta,s=e.verticalAlign,c=Ze(ut(s),"content",n),l=ct(sj,e),f=lt(sj,e);return Di(t)?_.createElement(f,Xe({},l,{className:c}),tj.create(o,{autoGenerateKey:!1}),uj.create(u,{autoGenerateKey:!1}),rj.create(i,{autoGenerateKey:!1}),aj.create(a,{autoGenerateKey:!1}),r):_.createElement(f,Xe({},l,{className:c}),t)}sj.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],sj.propTypes={};var cj=sj;function lj(e){var t=e.children,n=e.className,r=e.content,i=e.divided,a=e.items,o=e.link,u=e.relaxed,s=e.unstackable,c=Ze("ui",nt(i,"divided"),nt(o,"link"),nt(s,"unstackable"),it(u,"relaxed"),"items",n),l=ct(lj,e),f=lt(lj,e);if(!Di(t))return _.createElement(f,Xe({},l,{className:c}),t);if(!Di(r))return _.createElement(f,Xe({},l,{className:c}),r);var h=Du(a,(function(e){var t=e.childKey,n=lc(e,["childKey"]),r=null!=t?t:[n.content,n.description,n.header,n.meta].join("-");return _.createElement(vj,Xe({},n,{key:r}))}));return _.createElement(f,Xe({},l,{className:c}),h)}lj.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],lj.propTypes={};var fj=lj;function hj(e){var t=e.size,n=ct(hj,e);return _.createElement(yf,Xe({},n,{size:t,ui:!!t,wrapped:!0}))}hj.handledProps=["size"],hj.propTypes={},hj.create=oa(hj,(function(e){return{src:e}}));var dj=hj;function pj(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.image,s=e.meta,c=Ze("item",n),l=ct(pj,e),f=lt(pj,e);return Di(t)?_.createElement(f,Xe({},l,{className:c}),dj.create(u,{autoGenerateKey:!1}),_.createElement(cj,{content:r,description:i,extra:a,header:o,meta:s})):_.createElement(f,Xe({},l,{className:c}),t)}pj.handledProps=["as","children","className","content","description","extra","header","image","meta"],pj.Content=cj,pj.Description=rj,pj.Extra=aj,pj.Group=fj,pj.Header=tj,pj.Image=dj,pj.Meta=uj,pj.propTypes={};var vj=pj,mj=!("undefined"===typeof window||!window.document||!window.document.createElement);var yj=void 0;function gj(){return void 0===yj&&(yj=function(){if(!mj)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(r){}return e}()),yj}function kj(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function bj(e){this.target=e,this.events={}}bj.prototype.getEventHandlers=function(e,t){var n,r=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[r]||(this.events[r]={handlers:[],handleEvent:void 0},this.events[r].nextHandlers=this.events[r].handlers),this.events[r]},bj.prototype.handleEvent=function(e,t,n){var r=this.getEventHandlers(e,t);r.handlers=r.nextHandlers,r.handlers.forEach((function(e){e&&e(n)}))},bj.prototype.add=function(e,t,n){var r=this,i=this.getEventHandlers(e,n);kj(i),0===i.nextHandlers.length&&(i.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,i.handleEvent,n)),i.nextHandlers.push(t);var a=!0;return function(){if(a){a=!1,kj(i);var o=i.nextHandlers.indexOf(t);i.nextHandlers.splice(o,1),0===i.nextHandlers.length&&(r.target&&r.target.removeEventListener(e,i.handleEvent,n),i.handleEvent=void 0)}}};var wj="__consolidated_events_handlers__";function _j(e,t,n,r){e[wj]||(e[wj]=new bj(e));var i=function(e){if(e)return gj()?e:!!e.capture}(r);return e[wj].add(t,n,i)}var xj=n(441);function Ej(e,t){var n,r=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"===typeof r)return r;var i=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"===typeof i?i*t:void 0}var Ij="above",Sj="inside",Tj="below",Cj="invisible";function Nj(e){return"string"===typeof e.type}var Aj;var Pj=[];function Rj(e){Pj.push(e),Aj||(Aj=setTimeout((function(){var e;for(Aj=null;e=Pj.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=Pj.indexOf(e);-1!==n&&(Pj.splice(n,1),!Pj.length&&Aj&&(clearTimeout(Aj),Aj=null))}}}var Oj="undefined"!==typeof window,Dj={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},Lj=function(e){function t(t){var n;return(n=e.call(this,t)||this).refElement=function(e){n._ref=e},n}Ru(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;Oj&&(this.cancelOnNextTick=Rj((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug;!function(e,t){if(e&&!Nj(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=_j(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=_j(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))},r.componentDidUpdate=function(){var e=this;Oj&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=Rj((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))},r.componentWillUnmount=function(){Oj&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())},r._findScrollableAncestor=function(){var e=this.props,t=e.horizontal,r=e.scrollableAncestor;if(r)return function(e){return"window"===e?n.g.window:e}(r);for(var i=this._ref;i.parentNode;){if((i=i.parentNode)===document.body)return window;var a=window.getComputedStyle(i),o=(t?a.getPropertyValue("overflow-x"):a.getPropertyValue("overflow-y"))||a.getPropertyValue("overflow");if("auto"===o||"scroll"===o||"overlay"===o)return i}return window},r._handleScroll=function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop===0?Cj:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?Sj:e.viewportBottom<e.waypointTop?Tj:e.waypointTop<e.viewportTop?Ij:Cj}(t),r=this._previousPosition,i=this.props,a=(i.debug,i.onPositionChange),o=i.onEnter,u=i.onLeave,s=i.fireOnRapidScroll;if(this._previousPosition=n,r!==n){var c={currentPosition:n,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};a.call(this,c),n===Sj?o.call(this,c):r===Sj&&u.call(this,c),s&&(r===Tj&&n===Ij||r===Ij&&n===Tj)&&(o.call(this,{currentPosition:Sj,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),u.call(this,{currentPosition:n,previousPosition:Sj,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}},r._getBounds=function(){var e,t,n=this.props,r=n.horizontal,i=(n.debug,this._ref.getBoundingClientRect()),a=i.left,o=i.top,u=i.right,s=i.bottom,c=r?a:o,l=r?u:s;this.scrollableAncestor===window?(e=r?window.innerWidth:window.innerHeight,t=0):(e=r?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=r?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var f=this.props,h=f.bottomOffset;return{waypointTop:c,waypointBottom:l,viewportTop:t+Ej(f.topOffset,e),viewportBottom:t+e-Ej(h,e)}},r.render=function(){var e=this,t=this.props.children;if(!t)return _.createElement("span",{ref:this.refElement,style:{fontSize:0}});if(Nj(t)||(0,xj.isForwardRef)(t)){return _.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"===typeof t.ref?t.ref(n):t.ref.current=n)}})}return _.cloneElement(t,{innerRef:this.refElement})},t}(_.PureComponent);Lj.above=Ij,Lj.below=Tj,Lj.inside=Sj,Lj.invisible=Cj,Lj.defaultProps=Dj,Lj.displayName="Waypoint";var Mj=function(e){var t,n=e.post;return(0,ga.jsxs)(vj,{as:Qe,to:"/posts/".concat(n.id),children:[(0,ga.jsx)(vj.Image,{src:n.imageURL||"https://react.semantic-ui.com/images/wireframe/image.png",size:"medium"}),(0,ga.jsxs)(vj.Content,{children:[(0,ga.jsxs)(vj.Meta,{children:[n.author.photoURL?(0,ga.jsx)(yf,{src:n.author.photoURL,avatar:!0}):(0,ga.jsx)(ic,{name:"user circle"})," ",n.topic," \xb7 ",n.author.displayName||"User"]}),(0,ga.jsx)(vj.Header,{children:n.title}),(0,ga.jsx)(vj.Description,{children:n.content}),(0,ga.jsxs)(vj.Extra,{children:["Comment ",n.commentsCount||0," \xb7 Like ",(null===(t=n.likedBy)||void 0===t?void 0:t.length)||0]})]})]})};var Fj=function(){var e=ge(),t=new URLSearchParams(e.search).get("topic"),n=u(_.useState([]),2),r=n[0],i=n[1],a=_.useRef();return _.useEffect((function(){t?Pu.firestore().collection("posts").where("topic","==",t).orderBy("createdAt","desc").limit(3).get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return vo(vo({},e.data()),{},{id:t})}));a.current=e.docs[e.docs.length-1],i(t)})):Pu.firestore().collection("posts").orderBy("createdAt","desc").limit(3).get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return vo(vo({},e.data()),{},{id:t})}));a.current=e.docs[e.docs.length-1],i(t)}))}),[t]),(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(vj.Group,{children:r.map((function(e){return(0,ga.jsx)(Mj,{post:e},e.id)}))}),(0,ga.jsx)(Lj,{onEnter:function(){a.current&&(t?Pu.firestore().collection("posts").where("topic","==",t).orderBy("createdAt","desc").startAfter(a.current).limit(3).get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return vo(vo({},e.data()),{},{id:t})}));a.current=e.docs[e.docs.length-1],i([].concat(c(r),c(t)))})):Pu.firestore().collection("posts").orderBy("createdAt","desc").startAfter(a.current).limit(3).get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return vo(vo({},e.data()),{},{id:t})}));a.current=e.docs[e.docs.length-1],i([].concat(c(r),c(t)))})))}})]})};function Uj(e){var t=e.children,n=e.className,r=e.content,i=Ze("sub header",n),a=ct(Uj,e),o=lt(Uj,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}Uj.handledProps=["as","children","className","content"],Uj.propTypes={},Uj.create=oa(Uj,(function(e){return{content:e}}));var jj=Uj;function Vj(e){var t=e.children,n=e.className,r=e.content,i=Ze("content",n),a=ct(Vj,e),o=lt(Vj,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}Vj.handledProps=["as","children","className","content"],Vj.propTypes={};var zj=Vj;function Bj(e){var t=e.attached,n=e.block,r=e.children,i=e.className,a=e.color,o=e.content,u=e.disabled,s=e.dividing,c=e.floated,l=e.icon,f=e.image,h=e.inverted,d=e.size,p=e.sub,v=e.subheader,m=e.textAlign,y=Ze("ui",a,d,nt(n,"block"),nt(u,"disabled"),nt(s,"dividing"),rt(c,"floated"),nt(!0===l,"icon"),nt(!0===f,"image"),nt(h,"inverted"),nt(p,"sub"),it(t,"attached"),ot(m),"header",i),g=ct(Bj,e),k=lt(Bj,e);if(!Di(r))return _.createElement(k,Xe({},g,{className:y}),r);var b=ic.create(l,{autoGenerateKey:!1}),w=yf.create(f,{autoGenerateKey:!1}),x=jj.create(v,{autoGenerateKey:!1});return b||w?_.createElement(k,Xe({},g,{className:y}),b||w,(o||x)&&_.createElement(zj,null,o,x)):_.createElement(k,Xe({},g,{className:y}),o,x)}Bj.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],Bj.propTypes={},Bj.Content=zj,Bj.Subheader=jj;var qj,Gj=Bj,Kj="firebasestorage.googleapis.com",Hj="storageBucket",Wj=function(e){m(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l(this,n),(i=t.call(this,Qj(e),"Firebase Storage: ".concat(r," (").concat(Qj(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(k(i),n.prototype),i}return p(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Qj(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ua);function Qj(e){return"storage/"+e}function Yj(){return new Wj(qj.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function $j(){return new Wj(qj.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xj(){return new Wj(qj.CANCELED,"User canceled the upload/download.")}function Jj(){return new Wj(qj.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zj(e){return new Wj(qj.INVALID_ARGUMENT,e)}function eV(){return new Wj(qj.APP_DELETED,"The Firebase app was deleted.")}function tV(e){return new Wj(qj.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nV(e,t){return new Wj(qj.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function rV(e){throw new Wj(qj.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(qj||(qj={}));var iV,aV=function(){function e(t,n){l(this,e),this.bucket=t,this.path_=n}return p(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new Wj(qj.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Kj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Wj(qj.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),oV=function(){function e(t){l(this,e),this.promise_=Promise.reject(t)}return p(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function uV(e){return"string"===typeof e||e instanceof String}function sV(e){return cV()&&e instanceof Blob}function cV(){return"undefined"!==typeof Blob&&!Oa()}function lV(e,t,n,r){if(r<t)throw Zj("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Zj("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function fV(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function hV(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function dV(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(iV||(iV={}));var pV=function(){function e(t,n,r,i,a,o,u,s,c,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];l(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return p(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=Yj();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?eV():Xj());else i($j())}};this.canceled_?t(0,new vV(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new vV(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===iV.NO_ERROR,a=r.getStatus();if(!n||dV(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===iV.ABORT;t(!1,new vV(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new vV(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),vV=p((function e(t,n,r){l(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function mV(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function yV(){for(var e=mV(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(cV())return new Blob(n);throw new Wj(qj.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function gV(e){if("undefined"===typeof atob)throw t="base-64",new Wj(qj.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var kV={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},bV=p((function e(t,n){l(this,e),this.data=t,this.contentType=n||null}));function wV(e,t){switch(e){case kV.RAW:return new bV(_V(t));case kV.BASE64:case kV.BASE64URL:return new bV(xV(e,t));case kV.DATA_URL:return new bV(function(e){var t=new EV(e);return t.base64?xV(kV.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw nV(kV.DATA_URL,"Malformed data URL.")}return _V(t)}(t.rest)}(t),new EV(t).contentType)}throw Yj()}function _V(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function xV(e,t){switch(e){case kV.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw nV(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case kV.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw nV(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=gV(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw nV(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var EV=p((function e(t){l(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw nV(kV.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var IV=function(){function e(t,n){l(this,e);var r=0,i="";sV(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return p(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(sV(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(cV()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(yV.apply(null,i))}var a=n.map((function(e){return uV(e)?wV(kV.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function SV(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function TV(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function CV(e,t){return t}var NV=p((function e(t,n,r,i){l(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||CV})),AV=null;function PV(){if(AV)return AV;var e=[];e.push(new NV("bucket")),e.push(new NV("generation")),e.push(new NV("metageneration")),e.push(new NV("name","fullPath",!0));var t=new NV("name");t.xform=function(e,t){return function(e){return!uV(e)||e.length<2?e:TV(e)}(t)},e.push(t);var n=new NV("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new NV("timeCreated")),e.push(new NV("updated")),e.push(new NV("md5Hash",null,!0)),e.push(new NV("cacheControl",null,!0)),e.push(new NV("contentDisposition",null,!0)),e.push(new NV("contentEncoding",null,!0)),e.push(new NV("contentLanguage",null,!0)),e.push(new NV("contentType",null,!0)),e.push(new NV("metadata","customMetadata",!0)),AV=e}function RV(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new aV(n,r);return t._makeStorageReference(i)}})}(r,e),r}function OV(e,t,n){var r=SV(t);return null===r?null:RV(e,r,n)}function DV(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var LV="prefixes",MV="items";function FV(e,t,n){var r=SV(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[LV]){var i,a=S(n[LV]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new aV(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n[MV]){var s,c=S(n[MV]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new aV(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var UV=p((function e(t,n,r,i){l(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function jV(e){if(!e)throw Yj()}function VV(e,t){return function(n,r){var i=OV(e,r,t);return jV(null!==i),i}}function zV(e,t){return function(n,r){var i=OV(e,r,t);return jV(null!==i),function(e,t,n,r){var i=SV(t);if(null===i)return null;if(!uV(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return fV("/b/"+o(i)+"/o/"+o(a),n,r)+hV({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function BV(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Wj(qj.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Wj(qj.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Wj(qj.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Wj(qj.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function qV(e){var t=BV(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Wj(qj.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function GV(e,t,n){var r=fV(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new UV(r,"GET",VV(e,n),i);return a.errorHandler=qV(t),a}function KV(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=fV(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new UV(o,"GET",function(e,t){return function(n,r){var i=FV(e,t,r);return jV(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=BV(t),s}function HV(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function WV(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=HV(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+DV(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=IV.getBlob(c,r,l);if(null===f)throw Jj();var h={name:s.fullPath},d=fV(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new UV(d,"POST",VV(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=BV(t),v}var QV=p((function e(t,n,r,i){l(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function YV(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){jV(!1)}return jV(!!n&&-1!==(t||["active"]).indexOf(n)),n}var $V=262144;function XV(e,t,n,r,i,a,o,u){var s=new QV(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new Wj(qj.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw Jj();var v=t.maxUploadRetryTime,m=new UV(n,"POST",(function(e,n){var i,o=YV(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?VV(t,a)(e,n):null,new QV(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=BV(e),m}var JV={STATE_CHANGED:"state_changed"},ZV={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ez(e){switch(e){case"running":case"pausing":case"canceling":return ZV.RUNNING;case"paused":return ZV.PAUSED;case"success":return ZV.SUCCESS;case"canceled":return ZV.CANCELED;default:return ZV.ERROR}}var tz=p((function e(t,n,r){l(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function nz(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var rz=null,iz=function(){function e(){var t=this;l(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=iV.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=iV.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=iV.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return p(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw rV("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw rV("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw rV("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw rV("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw rV("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),az=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(iz);function oz(){return rz?rz():new az}var uz=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=PV(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(qj.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(dV(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=$j()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(qj.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return p(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=u(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=HV(t,r,i),u={name:o.fullPath},s=fV(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=DV(o,n),f=e.maxUploadRetryTime,h=new UV(s,"POST",(function(e){var t;YV(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){jV(!1)}return jV(uV(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=BV(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,oz,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new UV(n,"POST",(function(e){var t=YV(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){jV(!1)}n||jV(!1);var i=Number(n);return jV(!isNaN(i)),new QV(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=BV(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,oz,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=$V*this._chunkMultiplier,n=new QV(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=XV(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,oz,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*($V*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=GV(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,oz,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=WV(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,oz,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Xj(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=ez(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new tz(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(ez(this._state)){case ZV.SUCCESS:nz(this._resolve.bind(null,this.snapshot))();break;case ZV.CANCELED:case ZV.ERROR:nz(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(ez(this._state)){case ZV.RUNNING:case ZV.PAUSED:e.next&&nz(e.next.bind(e,this.snapshot))();break;case ZV.SUCCESS:e.complete&&nz(e.complete.bind(e))();break;default:e.error&&nz(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),sz=function(){function e(t,n){l(this,e),this._service=t,this._location=n instanceof aV?n:aV.makeFromUrl(n,t.host)}return p(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new aV(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return TV(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new aV(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw tV(e)}}]),e}();function cz(e,t,n){return lz.apply(this,arguments)}function lz(){return(lz=eo(Ja().mark((function e(t,n,r){var i,a,o,u;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,fz(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,c(u.prefixes)),(a=n.items).push.apply(a,c(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,cz(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fz(e,t){null!=t&&"number"===typeof t.maxResults&&lV("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=KV(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,oz)}function hz(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=fV(t.fullServerUrl(),e.host,e._protocol),a=DV(n,r),o=e.maxOperationRetryTime,u=new UV(i,"PATCH",VV(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=qV(t),u}(e.storage,e._location,t,PV());return e.storage.makeRequestWithTokens(n,oz)}function dz(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=fV(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new UV(r,"GET",zV(e,n),i);return a.errorHandler=qV(t),a}(e.storage,e._location,PV());return e.storage.makeRequestWithTokens(t,oz).then((function(e){if(null===e)throw new Wj(qj.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function pz(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=fV(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new UV(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=qV(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,oz)}function vz(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new aV(e._location.bucket,n);return new sz(e.storage,r)}function mz(e,t){if(e instanceof kz){var n=e;if(null==n._bucket)throw new Wj(qj.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hj+"' property when initializing the app?");var r=new sz(n,n._bucket);return null!=t?mz(r,t):r}return void 0!==t?vz(e,t):e}function yz(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof kz)return new sz(e,t);throw Zj("To use ref(service, url), the first argument must be a Storage instance.")}return mz(e,t)}function gz(e,t){var n=null===t||void 0===t?void 0:t[Hj];return null==n?null:aV.makeFromBucketSpec(n,e)}var kz=function(){function e(t,n,r,i,a){l(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Kj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?aV.makeFromBucketSpec(i,this._host):gz(this._host,this.app.options)}return p(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=aV.makeFromBucketSpec(this._url,e):this._bucket=gz(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){lV("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){lV("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=eo(Ja().mark((function e(){var t,n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=eo(Ja().mark((function e(){var t,n;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new sz(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new oV(eV());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=hV(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new pV(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=eo(Ja().mark((function e(t,n){var r,i,a,o;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),bz="@firebase/storage",wz="0.11.2",_z="storage";function xz(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new uz(e,new IV(t),n)}(e=Xa(e),t,n)}function Ez(e){return function(e){e._throwIfRoot("getMetadata");var t=GV(e.storage,e._location,PV());return e.storage.makeRequestWithTokens(t,oz)}(e=Xa(e))}function Iz(e){return function(e){var t={prefixes:[],items:[]};return cz(e,t).then((function(){return t}))}(e=Xa(e))}function Sz(e,t){return yz(e=Xa(e),t)}function Tz(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Pa(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Cz(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new kz(r,i,a,n,Jo)}Ko(new to(_z,Cz,"PUBLIC").setMultipleInstances(!0)),iu(bz,wz,""),iu(bz,wz,"esm2017");var Nz=function(){function e(t,n,r){l(this,e),this._delegate=t,this.task=n,this.ref=r}return p(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Az=function(){function e(t,n){l(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return p(e,[{key:"snapshot",get:function(){return new Nz(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Nz(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Nz(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Nz(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Pz=function(){function e(t,n){l(this,e),this._delegate=t,this._service=n}return p(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Rz(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Rz(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Rz=function(){function e(t,n){l(this,e),this._delegate=t,this.storage=n}return p(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return vz(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Az(xz(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kV.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=wV(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Az(new uz(this._delegate,new IV(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Iz(this._delegate).then((function(t){return new Pz(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return fz(e=Xa(e),t)}(this._delegate,e||void 0).then((function(e){return new Pz(e,t.storage)}))}},{key:"getMetadata",value:function(){return Ez(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return hz(e=Xa(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return dz(Xa(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),pz(Xa(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw tV(e)}}]),e}(),Oz=function(){function e(t,n){l(this,e),this.app=t,this._delegate=n}return p(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Dz(e))throw Zj("ref() expected a child path but got a URL, use refFromURL instead.");return new Rz(Sz(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Dz(e))throw Zj("refFromURL() expected a full URL but got a child path, use ref() instead.");try{aV.makeFromUrl(e,this._delegate.host)}catch(t){throw Zj("refFromUrl() expected a valid full URL but got an invalid one.")}return new Rz(Sz(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Tz(this._delegate,e,t,n)}}]),e}();function Dz(e){return/^[A-Za-z]+:\/\//.test(e)}function Lz(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Oz(r,i)}!function(e){var t={TaskState:ZV,TaskEvent:JV,StringFormat:kV,Storage:Oz,Reference:Rz};e.INTERNAL.registerComponent(new to("storage-compat",Lz,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Au);var Mz=function(){var e=be(),t=u(_.useState(""),2),n=t[0],r=t[1],i=u(_.useState(""),2),a=i[0],o=i[1],s=u(_.useState([]),2),c=s[0],l=s[1],f=u(_.useState(""),2),h=f[0],d=f[1],p=u(_.useState(null),2),v=p[0],m=p[1],y=u(_.useState(!1),2),g=y[0],k=y[1];_.useEffect((function(){Pu.firestore().collection("topics").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));l(t)}))}),[]);var b=c.map((function(e){return{text:e.name,value:e.name}})),w=v?URL.createObjectURL(v):"https://react.semantic-ui.com/images/wireframe/image.png";return(0,ga.jsxs)(Mi,{children:[(0,ga.jsx)(Gj,{children:"Publish a new post"}),(0,ga.jsxs)(Dd,{onSubmit:function(){k(!0);var t=Pu.firestore().collection("posts").doc(),r=Pu.storage().ref("post-images/"+t.id),i={contentType:v.type};r.put(v,i).then((function(){r.getDownloadURL().then((function(r){t.set({title:n,content:a,topic:h,createdAt:Pu.firestore.Timestamp.now(),author:{displayName:Pu.auth().currentUser.displayName||"",photoURL:Pu.auth().currentUser.photoURL||"",uid:Pu.auth().currentUser.uid,email:Pu.auth().currentUser.email},imageURL:r}).then((function(){e("/posts"),k(!1)}))}))}))},children:[(0,ga.jsx)(yf,{src:w,size:"medium",floated:"left"}),(0,ga.jsx)(Af,{basic:!0,as:"label",htmlFor:"post-image",children:"Upload photo"}),(0,ga.jsx)(Dd.Input,{type:"file",id:"post-image",style:{display:"none"},onChange:function(e){return m(e.target.files[0])}}),(0,ga.jsx)(Dd.Input,{placeholder:"Type the title",value:n,onChange:function(e){return r(e.target.value)}}),(0,ga.jsx)(Dd.TextArea,{placeholder:"Write the content",value:a,onChange:function(e){return o(e.target.value)}}),(0,ga.jsx)(Dd.Dropdown,{placeholder:"Choose category",options:b,selection:!0,value:h,onChange:function(e,t){var n=t.value;return d(n)}}),(0,ga.jsx)(Dd.Button,{loading:g,children:"Submit"})]})]})};function Fz(e){var t=e.children,n=e.className,r=e.compact,i=e.content,a=e.horizontal,o=e.piled,u=e.raised,s=e.size,c=e.stacked,l=Ze("ui",s,nt(r,"compact"),nt(a,"horizontal"),nt(o,"piled"),nt(u,"raised"),nt(c,"stacked"),"segments",n),f=ct(Fz,e),h=lt(Fz,e);return _.createElement(h,Xe({},f,{className:l}),Di(t)?i:t)}Fz.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],Fz.propTypes={};var Uz=Fz;function jz(e){var t=e.children,n=e.className,r=e.content,i=Ze("inline",n),a=ct(jz,e),o=lt(jz,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}jz.handledProps=["as","children","className","content"],jz.propTypes={};var Vz=jz;function zz(e){var t=e.attached,n=e.basic,r=e.children,i=e.circular,a=e.className,o=e.clearing,u=e.color,s=e.compact,c=e.content,l=e.disabled,f=e.floated,h=e.inverted,d=e.loading,p=e.placeholder,v=e.padded,m=e.piled,y=e.raised,g=e.secondary,k=e.size,b=e.stacked,w=e.tertiary,x=e.textAlign,E=e.vertical,I=Ze("ui",u,k,nt(n,"basic"),nt(i,"circular"),nt(o,"clearing"),nt(s,"compact"),nt(l,"disabled"),nt(h,"inverted"),nt(d,"loading"),nt(p,"placeholder"),nt(m,"piled"),nt(y,"raised"),nt(g,"secondary"),nt(b,"stacked"),nt(w,"tertiary"),nt(E,"vertical"),it(t,"attached"),it(v,"padded"),ot(x),rt(f,"floated"),"segment",a),S=ct(zz,e),T=lt(zz,e);return _.createElement(T,Xe({},S,{className:I}),Di(r)?c:r)}zz.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],zz.Group=Uz,zz.Inline=Vz,zz.propTypes={};var Bz=zz;function qz(e){var t=e.active,n=e.className,r=e.children,i=e.content,a=Ze(nt(t,"active"),n),o=ct(qz,e),u=lt(qz,e);return _.createElement(u,Xe({},o,{className:a}),Di(r)?i:r)}qz.handledProps=["active","as","children","className","content"],qz.defaultProps={as:"a"},qz.propTypes={};var Gz=qz;function Kz(e){var t=e.className,n=e.children,r=e.content,i=Ze("actions",t),a=ct(Kz,e),o=lt(Kz,e);return _.createElement(o,Xe({},a,{className:i}),Di(n)?r:n)}Kz.handledProps=["as","children","className","content"],Kz.propTypes={};var Hz=Kz;function Wz(e){var t=e.className,n=e.children,r=e.content,i=Ze("author",t),a=ct(Wz,e),o=lt(Wz,e);return _.createElement(o,Xe({},a,{className:i}),Di(n)?r:n)}Wz.handledProps=["as","children","className","content"],Wz.propTypes={};var Qz=Wz;function Yz(e){var t=e.className,n=e.src,r=Ze("avatar",t),i=ct(Yz,e),a=Yl(i,{htmlProps:Ql}),o=a[0],u=a[1],s=lt(Yz,e);return _.createElement(s,Xe({},u,{className:r}),ua(n,{autoGenerateKey:!1,defaultProps:o}))}Yz.handledProps=["as","className","src"],Yz.propTypes={};var $z=Yz;function Xz(e){var t=e.className,n=e.children,r=e.content,i=Ze(t,"content"),a=ct(Xz,e),o=lt(Xz,e);return _.createElement(o,Xe({},a,{className:i}),Di(n)?r:n)}Xz.handledProps=["as","children","className","content"],Xz.propTypes={};var Jz=Xz;function Zz(e){var t=e.className,n=e.children,r=e.collapsed,i=e.content,a=e.minimal,o=e.size,u=e.threaded,s=Ze("ui",o,nt(r,"collapsed"),nt(a,"minimal"),nt(u,"threaded"),"comments",t),c=ct(Zz,e),l=lt(Zz,e);return _.createElement(l,Xe({},c,{className:s}),Di(n)?i:n)}Zz.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],Zz.propTypes={};var eB=Zz;function tB(e){var t=e.className,n=e.children,r=e.content,i=Ze("metadata",t),a=ct(tB,e),o=lt(tB,e);return _.createElement(o,Xe({},a,{className:i}),Di(n)?r:n)}tB.handledProps=["as","children","className","content"],tB.propTypes={};var nB=tB;function rB(e){var t=e.className,n=e.children,r=e.content,i=Ze(t,"text"),a=ct(rB,e),o=lt(rB,e);return _.createElement(o,Xe({},a,{className:i}),Di(n)?r:n)}rB.handledProps=["as","children","className","content"],rB.propTypes={};var iB=rB;function aB(e){var t=e.className,n=e.children,r=e.collapsed,i=e.content,a=Ze(nt(r,"collapsed"),"comment",t),o=ct(aB,e),u=lt(aB,e);return _.createElement(u,Xe({},o,{className:a}),Di(n)?i:n)}aB.handledProps=["as","children","className","collapsed","content"],aB.propTypes={},aB.Author=Qz,aB.Action=Gz,aB.Actions=Hz,aB.Avatar=$z,aB.Content=Jz,aB.Group=eB,aB.Metadata=nB,aB.Text=iB;var oB=aB;function uB(e){var t=e.children,n=e.className,r=e.content,i=Ze(n,"description"),a=ct(uB,e),o=lt(uB,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}uB.handledProps=["as","children","className","content"],uB.propTypes={},uB.create=oa(uB,(function(e){return{content:e}}));var sB=uB;function cB(e){var t=e.children,n=e.className,r=e.content,i=Ze("header",n),a=ct(cB,e),o=lt(cB,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}cB.handledProps=["as","children","className","content"],cB.propTypes={},cB.create=oa(cB,(function(e){return{content:e}}));var lB=cB;function fB(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.floated,o=e.header,u=e.verticalAlign,s=Ze(rt(a,"floated"),ut(u),"content",n),c=ct(fB,e),l=lt(fB,e);return Di(t)?_.createElement(l,Xe({},c,{className:s}),lB.create(o),sB.create(i),r):_.createElement(l,Xe({},c,{className:s}),t)}fB.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],fB.propTypes={},fB.create=oa(fB,(function(e){return{content:e}}));var hB=fB;function dB(e){var t=e.className,n=e.verticalAlign,r=Ze(ut(n),t),i=ct(dB,e);return _.createElement(ic,Xe({},i,{className:r}))}dB.handledProps=["className","verticalAlign"],dB.propTypes={},dB.create=oa(dB,(function(e){return{name:e}}));var pB=dB,vB=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||Yu(t.props,"onClick",e,t.props)},t}return Ru(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.description,u=e.disabled,s=e.header,c=e.icon,l=e.image,f=e.value,h=lt(t,this.props),d=Ze(nt(n,"active"),nt(u,"disabled"),nt("li"!==h,"item"),i),p=ct(t,this.props),v="li"===h?{value:f}:{"data-value":f};if(!Di(r))return _.createElement(h,Xe({},v,{role:"listitem",className:d,onClick:this.handleClick},p),r);var m=pB.create(c,{autoGenerateKey:!1}),y=yf.create(l,{autoGenerateKey:!1});if(!(0,_.isValidElement)(a)&&ea(a))return _.createElement(h,Xe({},v,{role:"listitem",className:d,onClick:this.handleClick},p),m||y,hB.create(a,{autoGenerateKey:!1,defaultProps:{header:s,description:o}}));var g=lB.create(s,{autoGenerateKey:!1}),k=sB.create(o,{autoGenerateKey:!1});return m||y?_.createElement(h,Xe({},v,{role:"listitem",className:d,onClick:this.handleClick},p),m||y,(a||g||k)&&_.createElement(hB,null,g,k,a)):_.createElement(h,Xe({},v,{role:"listitem",className:d,onClick:this.handleClick},p),g,k,a)},t}(_.Component);vB.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],vB.propTypes={},vB.create=oa(vB,(function(e){return{content:e}}));var mB=vB;function yB(e){var t=e.children,n=e.className,r=e.content,i=ct(yB,e),a=lt(yB,e),o=Ze(nt("ul"!==a&&"ol"!==a,"list"),n);return _.createElement(a,Xe({},i,{className:o}),Di(t)?r:t)}yB.handledProps=["as","children","className","content"],yB.propTypes={};var gB=yB,kB=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){Yu(e,"onClick",n,r),Yu(t.props,"onItemClick",n,r)}}},t}return Ru(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.animated,i=n.bulleted,a=n.celled,o=n.children,u=n.className,s=n.content,c=n.divided,l=n.floated,f=n.horizontal,h=n.inverted,d=n.items,p=n.link,v=n.ordered,m=n.relaxed,y=n.selection,g=n.size,k=n.verticalAlign,b=Ze("ui",g,nt(r,"animated"),nt(i,"bulleted"),nt(a,"celled"),nt(c,"divided"),nt(f,"horizontal"),nt(h,"inverted"),nt(p,"link"),nt(v,"ordered"),nt(y,"selection"),it(m,"relaxed"),rt(l,"floated"),ut(k),"list",u),w=ct(t,this.props),x=lt(t,this.props);return Di(o)?Di(s)?_.createElement(x,Xe({role:"list",className:b},w),Du(d,(function(t){return mB.create(t,{overrideProps:e.handleItemOverrides})}))):_.createElement(x,Xe({role:"list",className:b},w),s):_.createElement(x,Xe({role:"list",className:b},w),o)},t}(_.Component);kB.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],kB.propTypes={},kB.Content=hB,kB.Description=sB,kB.Header=lB,kB.Icon=pB,kB.Item=mB,kB.List=gB;var bB=kB;var wB=function(){var e=ge(),t=new URLSearchParams(e.search).get("topic"),n=u(_.useState([]),2),r=n[0],i=n[1];return _.useEffect((function(){Pu.firestore().collection("topics").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));i(t)}))}),[]),(0,ga.jsx)(bB,{animated:!0,selection:!0,children:r.map((function(e){return(0,ga.jsx)(bB.Item,{as:Qe,to:"/posts?topic=".concat(e.name),active:t===e.name,children:e.name},e.name)}))})};var _B=function(){var e,t,n,r,i=function(){var e=_.useContext(ve).matches,t=e[e.length-1];return t?t.params:{}}().postId,a=u(_.useState({author:{}}),2),o=a[0],s=a[1],c=u(_.useState(""),2),l=c[0],f=c[1],h=u(_.useState(!1),2),d=h[0],p=h[1],v=u(_.useState([]),2),m=v[0],y=v[1];function g(e,t){var n=Pu.auth().currentUser.uid;Pu.firestore().collection("posts").doc(i).update(ba({},t,e?Pu.firestore.FieldValue.arrayRemove(n):Pu.firestore.FieldValue.arrayUnion(n)))}_.useEffect((function(){Pu.firestore().collection("posts").doc(i).onSnapshot((function(e){var t=e.data();s(t)}))}),[]),_.useEffect((function(){Pu.firestore().collection("posts").doc(i).collection("comments").orderBy("createdAt").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));y(t)}))}),[]);var k=null===(e=o.collectedBy)||void 0===e?void 0:e.includes(Pu.auth().currentUser.uid),b=null===(t=o.likedBy)||void 0===t?void 0:t.includes(Pu.auth().currentUser.uid);return(0,ga.jsxs)(ga.Fragment,{children:[o.author.photoURL?(0,ga.jsx)(yf,{src:o.author.photoURL,avatar:!0}):(0,ga.jsx)(ic,{name:"user circle"})," ","",o.author.displayName||"User",(0,ga.jsxs)(Gj,{children:[o.title,(0,ga.jsxs)(Gj.Subheader,{children:[o.topic,"\uff0e",null===(n=o.createdAt)||void 0===n?void 0:n.toDate().toLocaleDateString()]})]}),(0,ga.jsx)(yf,{src:o.imageURL}),(0,ga.jsx)(Bz,{basic:!0,vertical:!0,children:o.content}),(0,ga.jsxs)(Bz,{basic:!0,vertical:!0,children:["Comment ",o.commentsCount||0,"\uff0eLike ",(null===(r=o.likedBy)||void 0===r?void 0:r.length)||0,"\uff0e",(0,ga.jsx)(ic,{name:"thumbs up ".concat(b?"":"outline"),color:b?"blue":"grey",link:!0,onClick:function(){return g(b,"likedBy")}}),(0,ga.jsx)(ic,{name:"bookmark ".concat(k?"":"outline"),color:k?"blue":"grey",link:!0,onClick:function(){return g(k,"collectedBy")}})]}),(0,ga.jsxs)(oB.Group,{children:[(0,ga.jsxs)(Dd,{reply:!0,children:[(0,ga.jsx)(Dd.TextArea,{value:l,onChange:function(e){return f(e.target.value)}}),(0,ga.jsx)(Dd.Button,{onClick:function(){p(!0);var e=Pu.firestore(),t=e.batch(),n=e.collection("posts").doc(i);t.update(n,{commentsCount:Pu.firestore.FieldValue.increment(1)});var r=n.collection("comments").doc();t.set(r,{content:l,createdAt:Pu.firestore.Timestamp.now(),author:{uid:Pu.auth().currentUser.uid,displayName:Pu.auth().currentUser.displayName||"",photoURL:Pu.auth().currentUser.photoURL||""}});var a=e.collection("mail").doc();t.set(a,{to:o.author.email,message:{subject:"New Message: ".concat(Pu.auth().currentUser.displayName," just commented on your post!"),html:'<a href="'.concat(window.location.origin,"/posts/").concat(i,'">Go to post</a>')}}),t.commit().then((function(){f(""),p(!1)}))},loading:d,children:"Comment"})]}),(0,ga.jsxs)(Gj,{children:[o.commentsCount," Post(s)"]}),m.map((function(e){return(0,ga.jsxs)(oB,{children:[(0,ga.jsx)(oB.Avatar,{src:e.author.photoURL}),(0,ga.jsxs)(oB.Content,{children:[(0,ga.jsx)(oB.Author,{as:"span",children:e.author.displayName||"User"}),(0,ga.jsx)(oB.Metadata,{children:e.createdAt.toDate().toLocaleString()}),(0,ga.jsx)(oB.Text,{children:e.content})]})]})}))]})]})};var xB=function(){var e=u(_.useState([]),2),t=e[0],n=e[1];return _.useEffect((function(){Pu.firestore().collection("posts").where("author.uid","==",Pu.auth().currentUser.uid).get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return vo(vo({},e.data()),{},{id:t})}));n(t)}))}),[]),(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Gj,{children:"My Post"}),(0,ga.jsx)(vj.Group,{children:t.map((function(e){return(0,ga.jsx)(Mj,{post:e},e.id)}))})]})};var EB=function(){var e=u(_.useState([]),2),t=e[0],n=e[1];return _.useEffect((function(){Pu.firestore().collection("posts").where("collectedBy","array-contains",Pu.auth().currentUser.uid).get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return vo(vo({},e.data()),{},{id:t})}));n(t)}))}),[]),(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Gj,{children:"My collections"}),(0,ga.jsx)(vj.Group,{children:t.map((function(e){return(0,ga.jsx)(Mj,{post:e},e.id)}))})]})},IB=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonOverrides=function(e){return{onClick:function(n,r){Yu(e,"onClick",n,r),Yu(t.props,"onActionClick",n,r)}}},t}return Ru(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.actions,i=n.children,a=n.className,o=n.content,u=Ze("actions",a),s=ct(t,this.props),c=lt(t,this.props);return Di(i)?Di(o)?_.createElement(c,Xe({},s,{className:u}),Du(r,(function(t){return Af.create(t,{overrideProps:e.handleButtonOverrides})}))):_.createElement(c,Xe({},s,{className:u}),o):_.createElement(c,Xe({},s,{className:u}),i)},t}(_.Component);function SB(e){var t=e.children,n=e.className,r=e.content,i=e.image,a=e.scrolling,o=Ze(n,nt(i,"image"),nt(a,"scrolling"),"content"),u=ct(SB,e),s=lt(SB,e);return _.createElement(s,Xe({},u,{className:o}),Di(t)?r:t)}IB.handledProps=["actions","as","children","className","content","onActionClick"],IB.propTypes={},IB.create=oa(IB,(function(e){return{actions:e}})),SB.handledProps=["as","children","className","content","image","scrolling"],SB.propTypes={},SB.create=oa(SB,(function(e){return{content:e}}));var TB=SB;function CB(e){var t=e.children,n=e.className,r=e.content,i=Ze("description",n),a=ct(CB,e),o=lt(CB,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}CB.handledProps=["as","children","className","content"],CB.propTypes={};var NB=CB,AB=jl()?_.useLayoutEffect:_.useEffect,PB=/\s+/;var RB=new Map,OB=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(PB).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),r=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(RB.get(e)||[],n),i=r[0],a=r[1];e&&(i.forEach((function(t){return e.classList.add(t)})),a.forEach((function(t){return e.classList.remove(t)}))),RB.set(e,n)},DB=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var r=new Set;r.add(n),e.nodes.set(t,r)}},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function LB(e){var t=e.blurring,n=e.children,r=e.className,i=e.centered,a=e.content,o=e.inverted,u=e.mountNode,s=e.scrolling,c=_.useRef(),l=Ze("ui",nt(o,"inverted"),nt(!i,"top aligned"),"page modals dimmer transition visible active",r),f=Ze("dimmable dimmed",nt(t,"blurring"),nt(s,"scrolling")),h=ct(LB,e),d=lt(LB,e);return function(e,t){var n=_.useRef(),r=_.useRef(!1);AB((function(){if(n.current=t,r.current){var i=Xl(e)?e.current:e;DB.emit(i,OB)}r.current=!0}),[t]),AB((function(){var t=Xl(e)?e.current:e;return DB.add(t,n),DB.emit(t,OB),function(){DB.del(t,n),DB.emit(t,OB)}}),[e])}(u,f),_.useEffect((function(){c.current&&c.current.style&&c.current.style.setProperty("display","flex","important")}),[]),_.createElement(nf,{innerRef:c},_.createElement(d,Xe({},h,{className:l}),Di(n)?a:n))}LB.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],LB.propTypes={},LB.create=oa(LB,(function(e){return{content:e}}));var MB=LB;function FB(e){var t=e.children,n=e.className,r=e.content,i=Ze("header",n),a=ct(FB,e),o=lt(FB,e);return _.createElement(o,Xe({},a,{className:i}),Di(t)?r:t)}FB.handledProps=["as","children","className","content"],FB.propTypes={},FB.create=oa(FB,(function(e){return{content:e}}));var UB=FB,jB=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).legacy=jl()&&!window.ActiveXObject&&"ActiveXObject"in window,n.ref=(0,_.createRef)(),n.dimmerRef=(0,_.createRef)(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return jl()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(e){return{onActionClick:function(t,r){Yu(e,"onActionClick",t,r),Yu(n.props,"onActionClick",t,n.props),n.handleClose(t)}}},n.handleClose=function(e){n.setState({open:!1}),Yu(n.props,"onClose",e,Xe({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDimmerClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!t||af(n.ref.current,r)||af(n.ref.current,e)||(n.setState({open:!1}),Yu(n.props,"onClose",e,Xe({},n.props,{open:!1})))},n.handleIconOverrides=function(e){return{onClick:function(t){Yu(e,"onClick",t),n.handleClose(t)}}},n.handleOpen=function(e){Yu(n.props,"onOpen",e,Xe({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),Ml.sub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),Ml.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),Yu(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),Ml.unsub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),Ml.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),Yu(n.props,"onUnmount",e,n.props)},n.setPositionAndClassNames=function(){var e,t=n.props.centered,r={};if(n.ref.current){var i=n.ref.current.getBoundingClientRect(),a=function(e){var t=e.height+0,n=e.height+0,r=window.innerHeight;return r/2+-n/2+t+50<r}(i);e=!a;var o=n.legacy?function(e,t,n){var r=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:r}}(a,t,i):{};Ol()(n.state.legacyStyles,o)||(r.legacyStyles=o),n.state.scrolling!==e&&(r.scrolling=e)}hc(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(e){var r=n.props,i=r.actions,a=r.basic,o=r.children,u=r.className,s=r.closeIcon,c=r.content,l=r.header,f=r.size,h=r.style,d=n.state,p=d.legacyStyles,v=d.scrolling,m=Ze("ui",f,nt(a,"basic"),nt(n.legacy,"legacy"),nt(v,"scrolling"),"modal transition visible active",u),y=lt(t,n.props),g=!0===s?"close":s,k=ic.create(g,{overrideProps:n.handleIconOverrides});return _.createElement(nf,{innerRef:n.ref},_.createElement(y,Xe({},e,{className:m,style:Xe({},p,h)}),k,Di(o)?_.createElement(_.Fragment,null,UB.create(l,{autoGenerateKey:!1}),TB.create(c,{autoGenerateKey:!1}),IB.create(i,{overrideProps:n.handleActionsOverrides})):o))},n}Ru(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.handlePortalUnmount()},n.render=function(){var e=this.props,n=e.centered,r=e.closeOnDocumentClick,i=e.dimmer,a=e.eventPool,o=e.trigger,u=this.state,s=u.open,c=u.scrolling,l=this.getMountNode();if(!jl())return(0,_.isValidElement)(o)?o:null;var f=ct(t,this.props),h=cf.handledProps,d=Nl(f,(function(e,t,n){return ql(h,n)||(e[n]=t),e}),{}),p=Kh(f,h);return _.createElement(cf,Xe({closeOnDocumentClick:r},p,{trigger:o,eventPool:a,mountNode:l,open:s,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),_.createElement(nf,{innerRef:this.dimmerRef},MB.create(ea(i)?i:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===i,inverted:"inverted"===i},overrideProps:{children:this.renderContent(d),centered:n,mountNode:l,scrolling:c}})))},t}(Xu);jB.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],jB.propTypes={},jB.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},jB.autoControlledProps=["open"],jB.Actions=IB,jB.Content=TB,jB.Description=NB,jB.Dimmer=MB,jB.Header=UB;var VB=jB;function zB(e){var t=e.user,n=u(_.useState(!1),2),r=n[0],i=n[1],a=u(_.useState(""),2),o=a[0],s=a[1],c=u(_.useState(!1),2),l=c[0],f=c[1];return(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)(Gj,{size:"small",children:["Account name",(0,ga.jsx)(Af,{floated:"right",onClick:function(){return i(!0)},children:"Edit"})]}),(0,ga.jsx)(Bz,{vertical:!0,children:t.displayName}),(0,ga.jsxs)(VB,{open:r,size:"mini",children:[(0,ga.jsx)(VB.Header,{children:"Edit username"}),(0,ga.jsx)(VB.Content,{children:(0,ga.jsx)(Rf,{placeholder:"New username",value:o,onChange:function(e){return s(e.target.value)},fluid:!0})}),(0,ga.jsxs)(VB.Actions,{children:[(0,ga.jsx)(Af,{onClick:function(){return i(!1)},children:"Cancel"}),(0,ga.jsx)(Af,{onClick:function(){f(!0),t.updateProfile({displayName:o}).then((function(){f(!1),s(""),i(!1)}))},loading:l,children:"Edit"})]})]})]})}function BB(e){var t=e.user,n=u(_.useState(!1),2),r=n[0],i=n[1],a=u(_.useState(null),2),o=a[0],s=a[1],c=u(_.useState(!1),2),l=c[0],f=c[1],h=o?URL.createObjectURL(o):t.photoURL;return(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)(Gj,{size:"small",children:["Member photo",(0,ga.jsx)(Af,{floated:"right",onClick:function(){return i(!0)},children:"Edit"})]}),(0,ga.jsx)(Bz,{vertical:!0,children:(0,ga.jsx)(yf,{src:t.photoURL,avatar:!0})}),(0,ga.jsxs)(VB,{open:r,size:"mini",children:[(0,ga.jsx)(VB.Header,{children:"Edit user photo"}),(0,ga.jsxs)(VB.Content,{image:!0,children:[(0,ga.jsx)(yf,{src:h,avatar:!0,wrapped:!0}),(0,ga.jsxs)(VB.Description,{children:[(0,ga.jsx)(Af,{as:"label",htmlFor:"post-image",children:"Upload"}),(0,ga.jsx)(Rf,{type:"file",id:"post-image",style:{display:"none"},onChange:function(e){return s(e.target.files[0])}})]})]}),(0,ga.jsxs)(VB.Actions,{children:[(0,ga.jsx)(Af,{onClick:function(){return i(!1)},children:"Cancel"}),(0,ga.jsx)(Af,{onClick:function(){f(!0);var e=Pu.storage().ref("user-photos/"+t.uid),n={contentType:o.type};e.put(o,n).then((function(){e.getDownloadURL().then((function(e){t.updateProfile({photoURL:e}).then((function(){f(!1),s(null),i(!1)}))}))}))},loading:l,children:"Edit"})]})]})]})}function qB(e){var t=e.user,n=u(_.useState(!1),2),r=n[0],i=n[1],a=u(_.useState(""),2),o=a[0],s=a[1],c=u(_.useState(""),2),l=c[0],f=c[1],h=u(_.useState(!1),2),d=h[0],p=h[1];return(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsxs)(Gj,{size:"small",children:["Member password",(0,ga.jsx)(Af,{floated:"right",onClick:function(){return i(!0)},children:"Edit"})]}),(0,ga.jsx)(Bz,{vertical:!0,children:"*********"}),(0,ga.jsxs)(VB,{open:r,size:"mini",children:[(0,ga.jsx)(VB.Header,{children:"Change user password"}),(0,ga.jsxs)(VB.Content,{children:[(0,ga.jsx)(Gj,{size:"small",children:"Current password"}),(0,ga.jsx)(Rf,{type:"Current password",value:o,onChange:function(e){return s(e.target.value)},fluid:!0}),(0,ga.jsx)(Gj,{size:"small",children:"New password"}),(0,ga.jsx)(Rf,{type:"New password",value:l,onChange:function(e){return f(e.target.value)},fluid:!0})]}),(0,ga.jsxs)(VB.Actions,{children:[(0,ga.jsx)(Af,{onClick:function(){return i(!1)},children:"Cancel"}),(0,ga.jsx)(Af,{onClick:function(){p(!0);var e=Pu.auth.EmailAuthProvider.credential(t.email,o);t.reauthenticateWithCredential(e).then((function(){t.updatePassword(l).then((function(){i(!1),s(""),f(""),p(!1)}))}))},loading:d,children:"Save"})]})]})]})}var GB=function(e){var t=e.user;return(0,ga.jsxs)(ga.Fragment,{children:[(0,ga.jsx)(Gj,{children:"Member information"}),(0,ga.jsx)(zB,{user:t}),(0,ga.jsx)(BB,{user:t}),(0,ga.jsx)(qB,{user:t})]})};var KB=function(){var e=ge();return(0,ga.jsx)(bB,{animated:!0,selection:!0,children:[{name:"My posts",path:"/my/posts"},{name:"My collections",path:"/my/collections"},{name:"Member info",path:"/my/settings"}].map((function(t){return(0,ga.jsx)(bB.Item,{as:Qe,to:t.path,active:t.path===e.pathname,children:t.name},t.name)}))})},HB=function(){return(0,ga.jsx)(Mi,{children:(0,ga.jsx)(ma,{children:(0,ga.jsxs)(ma.Row,{children:[(0,ga.jsx)(ma.Column,{width:3,children:(0,ga.jsx)(wB,{})}),(0,ga.jsx)(ma.Column,{width:10,children:(0,ga.jsx)(Me,{})}),(0,ga.jsx)(ma.Column,{width:3})]})})})},WB=function(){return(0,ga.jsx)(Mi,{children:(0,ga.jsx)(ma,{children:(0,ga.jsxs)(ma.Row,{children:[(0,ga.jsx)(ma.Column,{width:3,children:(0,ga.jsx)(KB,{})}),(0,ga.jsx)(ma.Column,{width:10,children:(0,ga.jsx)(Me,{})}),(0,ga.jsx)(ma.Column,{width:3})]})})})};var QB=function(){var e=u(_.useState(),2),t=e[0],n=e[1];return _.useEffect((function(){Pu.auth().onAuthStateChanged((function(e){n(e)}))}),[]),(0,ga.jsxs)(Ke,{children:[(0,ga.jsx)(Kf,{user:t}),(0,ga.jsxs)(je,{children:[(0,ga.jsx)(Fe,{path:"/",element:(0,ga.jsx)(ka,{})})," ",(0,ga.jsxs)(Fe,{exact:!0,path:"/posts",element:(0,ga.jsx)(HB,{}),children:[(0,ga.jsx)(Fe,{path:"/posts",element:(0,ga.jsx)(Fj,{}),exact:!0}),(0,ga.jsx)(Fe,{path:"/posts/:postId",element:null!==t?(0,ga.jsx)(_B,{}):(0,ga.jsx)(Le,{to:"/posts"}),exact:!0})]}),(0,ga.jsxs)(Fe,{path:"/my",element:null!==t?(0,ga.jsx)(WB,{}):(0,ga.jsx)(Le,{to:"/posts"}),children:[(0,ga.jsx)(Fe,{path:"/my/posts",element:(0,ga.jsx)(xB,{}),exact:!0}),(0,ga.jsx)(Fe,{path:"/my/collections",element:(0,ga.jsx)(EB,{}),exact:!0}),(0,ga.jsx)(Fe,{path:"/my/settings",element:(0,ga.jsx)(GB,{user:t}),exact:!0})]}),(0,ga.jsx)(Fe,{exact:!0,path:"/signin",element:null!==t?(0,ga.jsx)(Le,{to:"/posts"}):(0,ga.jsx)(ZU,{})}),(0,ga.jsx)(Fe,{exact:!0,path:"/new-post",element:null!==t?(0,ga.jsx)(Mz,{}):(0,ga.jsx)(Le,{to:"/posts"})})]})]})};t.render((0,ga.jsx)(QB,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.584ed471.js.map